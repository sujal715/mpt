/*! For license information please see main.e2bb2c84.js.LICENSE.txt */
(()=>{var e={147:(e,t,n)=>{"use strict";var i=n(876);function s(){}function a(){}a.resetWarningCache=s,e.exports=function(){function e(e,t,n,s,a,r){if(r!==i){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:s};return n.PropTypes=n,n}},396:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(764)},501:(e,t,n)=>{"use strict";var i=n(396);t.createRoot=i.createRoot,t.hydrateRoot=i.hydrateRoot},508:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,s=e[i];if(!(0<a(s,t)))break e;e[i]=t,e[n]=s,n=i}}function i(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,s=e.length,r=s>>>1;i<r;){var o=2*(i+1)-1,l=e[o],c=o+1,d=e[c];if(0>a(l,n))c<s&&0>a(d,l)?(e[i]=d,e[c]=n,i=c):(e[i]=l,e[o]=n,i=o);else{if(!(c<s&&0>a(d,n)))break e;e[i]=d,e[c]=n,i=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var r=performance;t.unstable_now=function(){return r.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,p=3,m=!1,f=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=i(d);null!==t;){if(null===t.callback)s(d);else{if(!(t.startTime<=e))break;s(d),t.sortIndex=t.expirationTime,n(c,t)}t=i(d)}}function w(e){if(g=!1,x(e),!f)if(null!==i(c))f=!0,I(S);else{var t=i(d);null!==t&&R(w,t.startTime-e)}}function S(e,n){f=!1,g&&(g=!1,y(_),_=-1),m=!0;var a=p;try{for(x(n),h=i(c);null!==h&&(!(h.expirationTime>n)||e&&!C());){var r=h.callback;if("function"===typeof r){h.callback=null,p=h.priorityLevel;var o=r(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===i(c)&&s(c),x(n)}else s(c);h=i(c)}if(null!==h)var l=!0;else{var u=i(d);null!==u&&R(w,u.startTime-n),l=!1}return l}finally{h=null,p=a,m=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,A=!1,E=null,_=-1,j=5,N=-1;function C(){return!(t.unstable_now()-N<j)}function M(){if(null!==E){var e=t.unstable_now();N=e;var n=!0;try{n=E(!0,e)}finally{n?k():(A=!1,E=null)}}else A=!1}if("function"===typeof b)k=function(){b(M)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,P=T.port2;T.port1.onmessage=M,k=function(){P.postMessage(null)}}else k=function(){v(M,0)};function I(e){E=e,A||(A=!0,k())}function R(e,n){_=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||m||(f=!0,I(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return i(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,s,a){var r=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?r+a:r:a=r,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:s,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>r?(e.sortIndex=a,n(d,e),null===i(c)&&e===i(d)&&(g?(y(_),_=-1):g=!0,R(w,a-r))):(e.sortIndex=o,n(c,e),f||m||(f=!0,I(S))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},540:(e,t)=>{"use strict";var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var x=b.prototype=new y;x.constructor=b,f(x,v.prototype),x.isPureReactComponent=!0;var w=Array.isArray,S=Object.prototype.hasOwnProperty,k={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,i){var s,a={},r=null,o=null;if(null!=t)for(s in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(r=""+t.key),t)S.call(t,s)&&!A.hasOwnProperty(s)&&(a[s]=t[s]);var l=arguments.length-2;if(1===l)a.children=i;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps)void 0===a[s]&&(a[s]=l[s]);return{$$typeof:n,type:e,key:r,ref:o,props:a,_owner:k.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var j=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function C(e,t,s,a,r){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case i:l=!0}}if(l)return r=r(l=e),e=""===a?"."+N(l,0):a,w(r)?(s="",null!=e&&(s=e.replace(j,"$&/")+"/"),C(r,t,s,"",function(e){return e})):null!=r&&(_(r)&&(r=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(r,s+(!r.key||l&&l.key===r.key?"":(""+r.key).replace(j,"$&/")+"/")+e)),t.push(r)),1;if(l=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var d=a+N(o=e[c],c);l+=C(o,t,s,d,r)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(o=e.next()).done;)l+=C(o=o.value,t,s,d=a+N(o,c++),r);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function M(e,t,n){if(null==e)return e;var i=[],s=0;return C(e,i,"","",function(e){return t.call(n,e,s++)}),i}function T(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},I={transition:null},R={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:I,ReactCurrentOwner:k};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:M,forEach:function(e,t,n){M(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return M(e,function(){t++}),t},toArray:function(e){return M(e,function(e){return e})||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=s,t.Profiler=r,t.PureComponent=b,t.StrictMode=a,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.act=L,t.cloneElement=function(e,t,i){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=f({},e.props),a=e.key,r=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(r=t.ref,o=k.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!A.hasOwnProperty(c)&&(s[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)s.children=i;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:n,type:e.type,key:a,ref:r,props:s,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=I.transition;I.transition={};try{e()}finally{I.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},565:(e,t,n)=>{"use strict";e.exports=n(540)},611:(e,t,n)=>{"use strict";e.exports=n(508)},643:(e,t,n)=>{"use strict";var i=n(565),s=Symbol.for("react.element"),a=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var i,a={},c=null,d=null;for(i in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)r.call(t,i)&&!l.hasOwnProperty(i)&&(a[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===a[i]&&(a[i]=t[i]);return{$$typeof:s,type:e,key:c,ref:d,props:a,_owner:o.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},764:(e,t,n)=>{"use strict";var i=n(565),s=n(611);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)r.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function f(e,t,n,i,s,a,r){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=r}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new f(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new f(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new f(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new f(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new f(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new f(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,i){var s=g.hasOwnProperty(t)?g[t]:null;(null!==s?0!==s.type:i||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,i){if(null===t||"undefined"===typeof t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,s,i)&&(n=null),i||null===s?function(e){return!!u.call(m,e)||!u.call(p,e)&&(h.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=null===n?3!==s.type&&"":n:(t=s.attributeName,i=s.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(s=s.type)||4===s&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new f(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,y);g[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)});var x=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),S=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),j=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var I=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var D,F=Object.assign;function O(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var W=!1;function B(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var i=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){i=c}e.call(t.prototype)}else{try{throw Error()}catch(c){i=c}e()}}catch(c){if(c&&i&&"string"===typeof c.stack){for(var s=c.stack.split("\n"),a=i.stack.split("\n"),r=s.length-1,o=a.length-1;1<=r&&0<=o&&s[r]!==a[o];)o--;for(;1<=r&&0<=o;r--,o--)if(s[r]!==a[o]){if(1!==r||1!==o)do{if(r--,0>--o||s[r]!==a[o]){var l="\n"+s[r].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=r&&0<=o);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?O(e):""}function U(e){switch(e.tag){case 5:return O(e.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case S:return"Portal";case E:return"Profiler";case A:return"StrictMode";case C:return"Suspense";case M:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case j:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case T:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){i=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=V(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){$(e,t);var n=G(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,i){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&i&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(i&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function ae(e,t){var n=G(t.value),i=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function re(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function fe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),s=fe(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,s):e[n]=s}}Object.keys(pe).forEach(function(e){me.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]})});var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,ke=null,Ae=null;function Ee(e){if(e=bs(e)){if("function"!==typeof Se)throw Error(a(280));var t=e.stateNode;t&&(t=ws(t),Se(e.stateNode,e.type,t))}}function _e(e){ke?Ae?Ae.push(e):Ae=[e]:ke=e}function je(){if(ke){var e=ke,t=Ae;if(Ae=ke=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ne(e,t){return e(t)}function Ce(){}var Me=!1;function Te(e,t,n){if(Me)return e(t,n);Me=!0;try{return Ne(e,t,n)}finally{Me=!1,(null!==ke||null!==Ae)&&(Ce(),je())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var i=ws(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ie=!1;if(d)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Ie=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(de){Ie=!1}function Le(e,t,n,i,s,a,r,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var De=!1,Fe=null,Oe=!1,We=null,Be={onError:function(e){De=!0,Fe=e}};function Ue(e,t,n,i,s,a,r,o,l){De=!1,Fe=null,Le.apply(Be,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(ze(e)!==e)throw Error(a(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,i=t;;){var s=n.return;if(null===s)break;var r=s.alternate;if(null===r){if(null!==(i=s.return)){n=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===n)return Ge(s),e;if(r===i)return Ge(s),t;r=r.sibling}throw Error(a(188))}if(n.return!==i.return)n=s,i=r;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,i=r;break}if(l===i){o=!0,i=s,n=r;break}l=l.sibling}if(!o){for(l=r.child;l;){if(l===n){o=!0,n=r,i=s;break}if(l===i){o=!0,i=r,n=s;break}l=l.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==i)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ye=s.unstable_scheduleCallback,Ke=s.unstable_cancelCallback,Xe=s.unstable_shouldYield,Qe=s.unstable_requestPaint,$e=s.unstable_now,Je=s.unstable_getCurrentPriorityLevel,Ze=s.unstable_ImmediatePriority,et=s.unstable_UserBlockingPriority,tt=s.unstable_NormalPriority,nt=s.unstable_LowPriority,it=s.unstable_IdlePriority,st=null,at=null;var rt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var i=0,s=e.suspendedLanes,a=e.pingedLanes,r=268435455&n;if(0!==r){var o=r&~s;0!==o?i=ut(o):0!==(a&=r)&&(i=ut(a))}else 0!==(r=n&~s)?i=ut(r):0!==a&&(i=ut(a));if(0===i)return 0;if(0!==t&&t!==i&&0===(t&s)&&((s=i&-i)>=(a=t&-t)||16===s&&0!==(4194240&a)))return t;if(0!==(4&i)&&(i|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)s=1<<(n=31-rt(t)),i|=e[n],t&=~s;return i}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-rt(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-rt(n),s=1<<i;s&t|e[i]&t&&(e[i]|=t),n&=~s}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,St,kt,At,Et,_t=!1,jt=[],Nt=null,Ct=null,Mt=null,Tt=new Map,Pt=new Map,It=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":Mt=null;break;case"pointerover":case"pointerout":Tt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Dt(e,t,n,i,s,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[s]},null!==t&&(null!==(t=bs(t))&&St(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function Ft(e){var t=ys(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void Et(e.priority,function(){kt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ot(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bs(n))&&St(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);xe=i,n.target.dispatchEvent(i),xe=null,t.shift()}return!0}function Wt(e,t,n){Ot(e)&&n.delete(t)}function Bt(){_t=!1,null!==Nt&&Ot(Nt)&&(Nt=null),null!==Ct&&Ot(Ct)&&(Ct=null),null!==Mt&&Ot(Mt)&&(Mt=null),Tt.forEach(Wt),Pt.forEach(Wt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Bt)))}function zt(e){function t(t){return Ut(t,e)}if(0<jt.length){Ut(jt[0],e);for(var n=1;n<jt.length;n++){var i=jt[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==Nt&&Ut(Nt,e),null!==Ct&&Ut(Ct,e),null!==Mt&&Ut(Mt,e),Tt.forEach(t),Pt.forEach(t),n=0;n<It.length;n++)(i=It[n]).blockedOn===e&&(i.blockedOn=null);for(;0<It.length&&null===(n=It[0]).blockedOn;)Ft(n),null===n.blockedOn&&It.shift()}var Ht=x.ReactCurrentBatchConfig,Gt=!0;function Vt(e,t,n,i){var s=bt,a=Ht.transition;Ht.transition=null;try{bt=1,Yt(e,t,n,i)}finally{bt=s,Ht.transition=a}}function qt(e,t,n,i){var s=bt,a=Ht.transition;Ht.transition=null;try{bt=4,Yt(e,t,n,i)}finally{bt=s,Ht.transition=a}}function Yt(e,t,n,i){if(Gt){var s=Xt(e,t,n,i);if(null===s)Gi(e,t,i,Kt,n),Lt(e,i);else if(function(e,t,n,i,s){switch(t){case"focusin":return Nt=Dt(Nt,e,t,n,i,s),!0;case"dragenter":return Ct=Dt(Ct,e,t,n,i,s),!0;case"mouseover":return Mt=Dt(Mt,e,t,n,i,s),!0;case"pointerover":var a=s.pointerId;return Tt.set(a,Dt(Tt.get(a)||null,e,t,n,i,s)),!0;case"gotpointercapture":return a=s.pointerId,Pt.set(a,Dt(Pt.get(a)||null,e,t,n,i,s)),!0}return!1}(s,e,t,n,i))i.stopPropagation();else if(Lt(e,i),4&t&&-1<Rt.indexOf(e)){for(;null!==s;){var a=bs(s);if(null!==a&&wt(a),null===(a=Xt(e,t,n,i))&&Gi(e,t,i,Kt,n),a===s)break;s=a}null!==s&&i.stopPropagation()}else Gi(e,t,i,null,n)}}var Kt=null;function Xt(e,t,n,i){if(Kt=null,null!==(e=ys(e=we(i))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case it:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,i=n.length,s="value"in $t?$t.value:$t.textContent,a=s.length;for(e=0;e<i&&n[e]===s[e];e++);var r=i-e;for(t=1;t<=r&&n[i-t]===s[a-t];t++);return Zt=s.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function sn(){return!1}function an(e){function t(t,n,i,s,a){for(var r in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(r)&&(t=e[r],this[r]=t?t(s):s[r]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?nn:sn,this.isPropagationStopped=sn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var rn,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=an(cn),un=F({},cn,{view:0,detail:0}),hn=an(un),pn=F({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(rn=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=rn=0,ln=e),rn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),mn=an(pn),fn=an(F({},pn,{dataTransfer:0})),gn=an(F({},un,{relatedTarget:0})),vn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),xn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function An(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function En(){return An}var _n=F({},un,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),jn=an(_n),Nn=an(F({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=an(F({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Mn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Tn=F({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(Tn),In=[9,13,27,32],Rn=d&&"CompositionEvent"in window,Ln=null;d&&"documentMode"in document&&(Ln=document.documentMode);var Dn=d&&"TextEvent"in window&&!Ln,Fn=d&&(!Rn||Ln&&8<Ln&&11>=Ln),On=String.fromCharCode(32),Wn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==In.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Vn(e,t,n,i){_e(i),0<(t=qi(t,"onChange")).length&&(n=new dn("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var qn=null,Yn=null;function Kn(e){Oi(e,0)}function Xn(e){if(Y(xs(e)))return e}function Qn(e,t){if("change"===e)return t}var $n=!1;if(d){var Jn;if(d){var Zn="oninput"in document;if(!Zn){var ei=document.createElement("div");ei.setAttribute("oninput","return;"),Zn="function"===typeof ei.oninput}Jn=Zn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function ti(){qn&&(qn.detachEvent("onpropertychange",ni),Yn=qn=null)}function ni(e){if("value"===e.propertyName&&Xn(Yn)){var t=[];Vn(t,Yn,e,we(e)),Te(Kn,t)}}function ii(e,t,n){"focusin"===e?(ti(),Yn=n,(qn=t).attachEvent("onpropertychange",ni)):"focusout"===e&&ti()}function si(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Yn)}function ai(e,t){if("click"===e)return Xn(t)}function ri(e,t){if("input"===e||"change"===e)return Xn(t)}var oi="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function li(e,t){if(oi(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!u.call(t,s)||!oi(e[s],t[s]))return!1}return!0}function ci(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function di(e,t){var n,i=ci(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ci(i)}}function ui(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ui(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hi(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function pi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function mi(e){var t=hi(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ui(n.ownerDocument.documentElement,n)){if(null!==i&&pi(n))if(t=i.start,void 0===(e=i.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(i.start,s);i=void 0===i.end?a:Math.min(i.end,s),!e.extend&&a>i&&(s=i,i=a,a=s),s=di(n,a);var r=di(n,i);s&&r&&(1!==e.rangeCount||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==r.node||e.focusOffset!==r.offset)&&((t=t.createRange()).setStart(s.node,s.offset),e.removeAllRanges(),a>i?(e.addRange(t),e.extend(r.node,r.offset)):(t.setEnd(r.node,r.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fi=d&&"documentMode"in document&&11>=document.documentMode,gi=null,vi=null,yi=null,bi=!1;function xi(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;bi||null==gi||gi!==K(i)||("selectionStart"in(i=gi)&&pi(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},yi&&li(yi,i)||(yi=i,0<(i=qi(vi,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=gi)))}function wi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Si={animationend:wi("Animation","AnimationEnd"),animationiteration:wi("Animation","AnimationIteration"),animationstart:wi("Animation","AnimationStart"),transitionend:wi("Transition","TransitionEnd")},ki={},Ai={};function Ei(e){if(ki[e])return ki[e];if(!Si[e])return e;var t,n=Si[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ai)return ki[e]=n[t];return e}d&&(Ai=document.createElement("div").style,"AnimationEvent"in window||(delete Si.animationend.animation,delete Si.animationiteration.animation,delete Si.animationstart.animation),"TransitionEvent"in window||delete Si.transitionend.transition);var _i=Ei("animationend"),ji=Ei("animationiteration"),Ni=Ei("animationstart"),Ci=Ei("transitionend"),Mi=new Map,Ti="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pi(e,t){Mi.set(e,t),l(t,[e])}for(var Ii=0;Ii<Ti.length;Ii++){var Ri=Ti[Ii];Pi(Ri.toLowerCase(),"on"+(Ri[0].toUpperCase()+Ri.slice(1)))}Pi(_i,"onAnimationEnd"),Pi(ji,"onAnimationIteration"),Pi(Ni,"onAnimationStart"),Pi("dblclick","onDoubleClick"),Pi("focusin","onFocus"),Pi("focusout","onBlur"),Pi(Ci,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Li="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Di=new Set("cancel close invalid load scroll toggle".split(" ").concat(Li));function Fi(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,s,r,o,l,c){if(Ue.apply(this,arguments),De){if(!De)throw Error(a(198));var d=Fe;De=!1,Fe=null,Oe||(Oe=!0,We=d)}}(i,t,void 0,e),e.currentTarget=null}function Oi(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var i=e[n],s=i.event;i=i.listeners;e:{var a=void 0;if(t)for(var r=i.length-1;0<=r;r--){var o=i[r],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&s.isPropagationStopped())break e;Fi(s,o,c),a=l}else for(r=0;r<i.length;r++){if(l=(o=i[r]).instance,c=o.currentTarget,o=o.listener,l!==a&&s.isPropagationStopped())break e;Fi(s,o,c),a=l}}}if(Oe)throw e=We,Oe=!1,We=null,e}function Wi(e,t){var n=t[fs];void 0===n&&(n=t[fs]=new Set);var i=e+"__bubble";n.has(i)||(Hi(t,e,2,!1),n.add(i))}function Bi(e,t,n){var i=0;t&&(i|=4),Hi(n,e,i,t)}var Ui="_reactListening"+Math.random().toString(36).slice(2);function zi(e){if(!e[Ui]){e[Ui]=!0,r.forEach(function(t){"selectionchange"!==t&&(Di.has(t)||Bi(t,!1,e),Bi(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ui]||(t[Ui]=!0,Bi("selectionchange",!1,t))}}function Hi(e,t,n,i){switch(Qt(t)){case 1:var s=Vt;break;case 4:s=qt;break;default:s=Yt}n=s.bind(null,t,n,e),s=void 0,!Ie||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),i?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Gi(e,t,n,i,s){var a=i;if(0===(1&t)&&0===(2&t)&&null!==i)e:for(;;){if(null===i)return;var r=i.tag;if(3===r||4===r){var o=i.stateNode.containerInfo;if(o===s||8===o.nodeType&&o.parentNode===s)break;if(4===r)for(r=i.return;null!==r;){var l=r.tag;if((3===l||4===l)&&((l=r.stateNode.containerInfo)===s||8===l.nodeType&&l.parentNode===s))return;r=r.return}for(;null!==o;){if(null===(r=ys(o)))return;if(5===(l=r.tag)||6===l){i=a=r;continue e}o=o.parentNode}}i=i.return}Te(function(){var i=a,s=we(n),r=[];e:{var o=Mi.get(e);if(void 0!==o){var l=dn,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=jn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=fn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Cn;break;case _i:case ji:case Ni:l=vn;break;case Ci:l=Mn;break;case"scroll":l=hn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Nn}var d=0!==(4&t),u=!d&&"scroll"===e,h=d?null!==o?o+"Capture":null:o;d=[];for(var p,m=i;null!==m;){var f=(p=m).stateNode;if(5===p.tag&&null!==f&&(p=f,null!==h&&(null!=(f=Pe(m,h))&&d.push(Vi(m,f,p)))),u)break;m=m.return}0<d.length&&(o=new l(o,c,null,n,s),r.push({event:o,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!ys(c)&&!c[ms])&&(l||o)&&(o=s.window===s?s:(o=s.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=i,null!==(c=(c=n.relatedTarget||n.toElement)?ys(c):null)&&(c!==(u=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=i),l!==c)){if(d=mn,f="onMouseLeave",h="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=Nn,f="onPointerLeave",h="onPointerEnter",m="pointer"),u=null==l?o:xs(l),p=null==c?o:xs(c),(o=new d(f,m+"leave",l,n,s)).target=u,o.relatedTarget=p,f=null,ys(s)===i&&((d=new d(h,m+"enter",c,n,s)).target=p,d.relatedTarget=u,f=d),u=f,l&&c)e:{for(h=c,m=0,p=d=l;p;p=Yi(p))m++;for(p=0,f=h;f;f=Yi(f))p++;for(;0<m-p;)d=Yi(d),m--;for(;0<p-m;)h=Yi(h),p--;for(;m--;){if(d===h||null!==h&&d===h.alternate)break e;d=Yi(d),h=Yi(h)}d=null}else d=null;null!==l&&Ki(r,o,l,d,!1),null!==c&&null!==u&&Ki(r,u,c,d,!0)}if("select"===(l=(o=i?xs(i):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Qn;else if(Gn(o))if($n)g=ri;else{g=si;var v=ii}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=ai);switch(g&&(g=g(e,i))?Vn(r,g,n,s):(v&&v(e,o,i),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=i?xs(i):window,e){case"focusin":(Gn(v)||"true"===v.contentEditable)&&(gi=v,vi=i,yi=null);break;case"focusout":yi=vi=gi=null;break;case"mousedown":bi=!0;break;case"contextmenu":case"mouseup":case"dragend":bi=!1,xi(r,n,s);break;case"selectionchange":if(fi)break;case"keydown":case"keyup":xi(r,n,s)}var y;if(Rn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(y=en()):(Jt="value"in($t=s)?$t.value:$t.textContent,zn=!0)),0<(v=qi(i,b)).length&&(b=new xn(b,e,null,n,s),r.push({event:b,listeners:v}),y?b.data=y:null!==(y=Un(n))&&(b.data=y))),(y=Dn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Wn=!0,On);case"textInput":return(e=t.data)===On&&Wn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Rn&&Bn(e,t)?(e=en(),Zt=Jt=$t=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(i=qi(i,"onBeforeInput")).length&&(s=new xn("onBeforeInput","beforeinput",null,n,s),r.push({event:s,listeners:i}),s.data=y))}Oi(r,t)})}function Vi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qi(e,t){for(var n=t+"Capture",i=[];null!==e;){var s=e,a=s.stateNode;5===s.tag&&null!==a&&(s=a,null!=(a=Pe(e,n))&&i.unshift(Vi(e,a,s)),null!=(a=Pe(e,t))&&i.push(Vi(e,a,s))),e=e.return}return i}function Yi(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ki(e,t,n,i,s){for(var a=t._reactName,r=[];null!==n&&n!==i;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===i)break;5===o.tag&&null!==c&&(o=c,s?null!=(l=Pe(n,a))&&r.unshift(Vi(n,l,o)):s||null!=(l=Pe(n,a))&&r.push(Vi(n,l,o))),n=n.return}0!==r.length&&e.push({event:t,listeners:r})}var Xi=/\r\n?/g,Qi=/\u0000|\uFFFD/g;function $i(e){return("string"===typeof e?e:""+e).replace(Xi,"\n").replace(Qi,"")}function Ji(e,t,n){if(t=$i(t),$i(e)!==t&&n)throw Error(a(425))}function Zi(){}var es=null,ts=null;function ns(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var is="function"===typeof setTimeout?setTimeout:void 0,ss="function"===typeof clearTimeout?clearTimeout:void 0,as="function"===typeof Promise?Promise:void 0,rs="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof as?function(e){return as.resolve(null).then(e).catch(os)}:is;function os(e){setTimeout(function(){throw e})}function ls(e,t){var n=t,i=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0===i)return e.removeChild(s),void zt(t);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=s}while(n);zt(t)}function cs(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ds(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var us=Math.random().toString(36).slice(2),hs="__reactFiber$"+us,ps="__reactProps$"+us,ms="__reactContainer$"+us,fs="__reactEvents$"+us,gs="__reactListeners$"+us,vs="__reactHandles$"+us;function ys(e){var t=e[hs];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ms]||n[hs]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ds(e);null!==e;){if(n=e[hs])return n;e=ds(e)}return t}n=(e=n).parentNode}return null}function bs(e){return!(e=e[hs]||e[ms])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xs(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ws(e){return e[ps]||null}var Ss=[],ks=-1;function As(e){return{current:e}}function Es(e){0>ks||(e.current=Ss[ks],Ss[ks]=null,ks--)}function _s(e,t){ks++,Ss[ks]=e.current,e.current=t}var js={},Ns=As(js),Cs=As(!1),Ms=js;function Ts(e,t){var n=e.type.contextTypes;if(!n)return js;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var s,a={};for(s in n)a[s]=t[s];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ps(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Is(){Es(Cs),Es(Ns)}function Rs(e,t,n){if(Ns.current!==js)throw Error(a(168));_s(Ns,t),_s(Cs,n)}function Ls(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var s in i=i.getChildContext())if(!(s in t))throw Error(a(108,H(e)||"Unknown",s));return F({},n,i)}function Ds(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||js,Ms=Ns.current,_s(Ns,e),_s(Cs,Cs.current),!0}function Fs(e,t,n){var i=e.stateNode;if(!i)throw Error(a(169));n?(e=Ls(e,t,Ms),i.__reactInternalMemoizedMergedChildContext=e,Es(Cs),Es(Ns),_s(Ns,e)):Es(Cs),_s(Cs,n)}var Os=null,Ws=!1,Bs=!1;function Us(e){null===Os?Os=[e]:Os.push(e)}function zs(){if(!Bs&&null!==Os){Bs=!0;var e=0,t=bt;try{var n=Os;for(bt=1;e<n.length;e++){var i=n[e];do{i=i(!0)}while(null!==i)}Os=null,Ws=!1}catch(s){throw null!==Os&&(Os=Os.slice(e+1)),Ye(Ze,zs),s}finally{bt=t,Bs=!1}}return null}var Hs=[],Gs=0,Vs=null,qs=0,Ys=[],Ks=0,Xs=null,Qs=1,$s="";function Js(e,t){Hs[Gs++]=qs,Hs[Gs++]=Vs,Vs=e,qs=t}function Zs(e,t,n){Ys[Ks++]=Qs,Ys[Ks++]=$s,Ys[Ks++]=Xs,Xs=e;var i=Qs;e=$s;var s=32-rt(i)-1;i&=~(1<<s),n+=1;var a=32-rt(t)+s;if(30<a){var r=s-s%5;a=(i&(1<<r)-1).toString(32),i>>=r,s-=r,Qs=1<<32-rt(t)+s|n<<s|i,$s=a+e}else Qs=1<<a|n<<s|i,$s=e}function ea(e){null!==e.return&&(Js(e,1),Zs(e,1,0))}function ta(e){for(;e===Vs;)Vs=Hs[--Gs],Hs[Gs]=null,qs=Hs[--Gs],Hs[Gs]=null;for(;e===Xs;)Xs=Ys[--Ks],Ys[Ks]=null,$s=Ys[--Ks],Ys[Ks]=null,Qs=Ys[--Ks],Ys[Ks]=null}var na=null,ia=null,sa=!1,aa=null;function ra(e,t){var n=Tc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function oa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ia=cs(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ia=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xs?{id:Qs,overflow:$s}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Tc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ia=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(sa){var t=ia;if(t){var n=t;if(!oa(e,t)){if(la(e))throw Error(a(418));t=cs(n.nextSibling);var i=na;t&&oa(e,t)?ra(i,n):(e.flags=-4097&e.flags|2,sa=!1,na=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,sa=!1,na=e}}}function da(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function ua(e){if(e!==na)return!1;if(!sa)return da(e),sa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ns(e.type,e.memoizedProps)),t&&(t=ia)){if(la(e))throw ha(),Error(a(418));for(;t;)ra(e,t),t=cs(t.nextSibling)}if(da(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ia=cs(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ia=null}}else ia=na?cs(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ia;e;)e=cs(e.nextSibling)}function pa(){ia=na=null,sa=!1}function ma(e){null===aa?aa=[e]:aa.push(e)}var fa=x.ReactCurrentBatchConfig;function ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var i=n.stateNode}if(!i)throw Error(a(147,e));var s=i,r=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===r?t.ref:(t=function(e){var t=s.refs;null===e?delete t[r]:t[r]=e},t._stringRef=r,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function va(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ya(e){return(0,e._init)(e._payload)}function ba(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=Ic(e,t)).index=0,e.sibling=null,e}function r(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=2,n):i:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=Fc(n,e.mode,i)).return=e,t):((t=s(t,n)).return=e,t)}function c(e,t,n,i){var a=n.type;return a===k?u(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&ya(a)===t.type)?((i=s(t,n.props)).ref=ga(e,t,n),i.return=e,i):((i=Rc(n.type,n.key,n.props,null,e.mode,i)).ref=ga(e,t,n),i.return=e,i)}function d(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Oc(n,e.mode,i)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function u(e,t,n,i,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,i,a)).return=e,t):((t=s(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=ga(e,null,t),n.return=e,n;case S:return(t=Oc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;va(e,t)}return null}function p(e,t,n,i){var s=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==s?null:l(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===s?c(e,t,n,i):null;case S:return n.key===s?d(e,t,n,i):null;case P:return p(e,t,(s=n._init)(n._payload),i)}if(te(n)||L(n))return null!==s?null:u(e,t,n,i,null);va(e,n)}return null}function m(e,t,n,i,s){if("string"===typeof i&&""!==i||"number"===typeof i)return l(t,e=e.get(n)||null,""+i,s);if("object"===typeof i&&null!==i){switch(i.$$typeof){case w:return c(t,e=e.get(null===i.key?n:i.key)||null,i,s);case S:return d(t,e=e.get(null===i.key?n:i.key)||null,i,s);case P:return m(e,t,n,(0,i._init)(i._payload),s)}if(te(i)||L(i))return u(t,e=e.get(n)||null,i,s,null);va(t,i)}return null}function f(s,a,o,l){for(var c=null,d=null,u=a,f=a=0,g=null;null!==u&&f<o.length;f++){u.index>f?(g=u,u=null):g=u.sibling;var v=p(s,u,o[f],l);if(null===v){null===u&&(u=g);break}e&&u&&null===v.alternate&&t(s,u),a=r(v,a,f),null===d?c=v:d.sibling=v,d=v,u=g}if(f===o.length)return n(s,u),sa&&Js(s,f),c;if(null===u){for(;f<o.length;f++)null!==(u=h(s,o[f],l))&&(a=r(u,a,f),null===d?c=u:d.sibling=u,d=u);return sa&&Js(s,f),c}for(u=i(s,u);f<o.length;f++)null!==(g=m(u,s,f,o[f],l))&&(e&&null!==g.alternate&&u.delete(null===g.key?f:g.key),a=r(g,a,f),null===d?c=g:d.sibling=g,d=g);return e&&u.forEach(function(e){return t(s,e)}),sa&&Js(s,f),c}function g(s,o,l,c){var d=L(l);if("function"!==typeof d)throw Error(a(150));if(null==(l=d.call(l)))throw Error(a(151));for(var u=d=null,f=o,g=o=0,v=null,y=l.next();null!==f&&!y.done;g++,y=l.next()){f.index>g?(v=f,f=null):v=f.sibling;var b=p(s,f,y.value,c);if(null===b){null===f&&(f=v);break}e&&f&&null===b.alternate&&t(s,f),o=r(b,o,g),null===u?d=b:u.sibling=b,u=b,f=v}if(y.done)return n(s,f),sa&&Js(s,g),d;if(null===f){for(;!y.done;g++,y=l.next())null!==(y=h(s,y.value,c))&&(o=r(y,o,g),null===u?d=y:u.sibling=y,u=y);return sa&&Js(s,g),d}for(f=i(s,f);!y.done;g++,y=l.next())null!==(y=m(f,s,g,y.value,c))&&(e&&null!==y.alternate&&f.delete(null===y.key?g:y.key),o=r(y,o,g),null===u?d=y:u.sibling=y,u=y);return e&&f.forEach(function(e){return t(s,e)}),sa&&Js(s,g),d}return function e(i,a,r,l){if("object"===typeof r&&null!==r&&r.type===k&&null===r.key&&(r=r.props.children),"object"===typeof r&&null!==r){switch(r.$$typeof){case w:e:{for(var c=r.key,d=a;null!==d;){if(d.key===c){if((c=r.type)===k){if(7===d.tag){n(i,d.sibling),(a=s(d,r.props.children)).return=i,i=a;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&ya(c)===d.type){n(i,d.sibling),(a=s(d,r.props)).ref=ga(i,d,r),a.return=i,i=a;break e}n(i,d);break}t(i,d),d=d.sibling}r.type===k?((a=Lc(r.props.children,i.mode,l,r.key)).return=i,i=a):((l=Rc(r.type,r.key,r.props,null,i.mode,l)).ref=ga(i,a,r),l.return=i,i=l)}return o(i);case S:e:{for(d=r.key;null!==a;){if(a.key===d){if(4===a.tag&&a.stateNode.containerInfo===r.containerInfo&&a.stateNode.implementation===r.implementation){n(i,a.sibling),(a=s(a,r.children||[])).return=i,i=a;break e}n(i,a);break}t(i,a),a=a.sibling}(a=Oc(r,i.mode,l)).return=i,i=a}return o(i);case P:return e(i,a,(d=r._init)(r._payload),l)}if(te(r))return f(i,a,r,l);if(L(r))return g(i,a,r,l);va(i,r)}return"string"===typeof r&&""!==r||"number"===typeof r?(r=""+r,null!==a&&6===a.tag?(n(i,a.sibling),(a=s(a,r)).return=i,i=a):(n(i,a),(a=Fc(r,i.mode,l)).return=i,i=a),o(i)):n(i,a)}}var xa=ba(!0),wa=ba(!1),Sa=As(null),ka=null,Aa=null,Ea=null;function _a(){Ea=Aa=ka=null}function ja(e){var t=Sa.current;Es(Sa),e._currentValue=t}function Na(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Ca(e,t){ka=e,Ea=Aa=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function Ma(e){var t=e._currentValue;if(Ea!==e)if(e={context:e,memoizedValue:t,next:null},null===Aa){if(null===ka)throw Error(a(308));Aa=e,ka.dependencies={lanes:0,firstContext:e}}else Aa=Aa.next=e;return t}var Ta=null;function Pa(e){null===Ta?Ta=[e]:Ta.push(e)}function Ia(e,t,n,i){var s=t.interleaved;return null===s?(n.next=n,Pa(t)):(n.next=s.next,s.next=n),t.interleaved=n,Ra(e,i)}function Ra(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var La=!1;function Da(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Wa(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&Nl)){var s=i.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),i.pending=t,Ra(e,n)}return null===(s=i.interleaved)?(t.next=t,Pa(i)):(t.next=s.next,s.next=t),i.interleaved=t,Ra(e,n)}function Ba(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ua(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var s=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var r={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?s=a=r:a=a.next=r,n=n.next}while(null!==n);null===a?s=a=t:a=a.next=t}else s=a=t;return n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function za(e,t,n,i){var s=e.updateQueue;La=!1;var a=s.firstBaseUpdate,r=s.lastBaseUpdate,o=s.shared.pending;if(null!==o){s.shared.pending=null;var l=o,c=l.next;l.next=null,null===r?a=c:r.next=c,r=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==r&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==a){var u=s.baseState;for(r=0,d=c=l=null,o=a;;){var h=o.lane,p=o.eventTime;if((i&h)===h){null!==d&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,f=o;switch(h=t,p=n,f.tag){case 1:if("function"===typeof(m=f.payload)){u=m.call(p,u,h);break e}u=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=f.payload)?m.call(p,u,h):m)||void 0===h)break e;u=F({},u,h);break e;case 2:La=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=s.effects)?s.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=p,l=u):d=d.next=p,r|=h;if(null===(o=o.next)){if(null===(o=s.shared.pending))break;o=(h=o).next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}if(null===d&&(l=u),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,null!==(t=s.shared.interleaved)){s=t;do{r|=s.lane,s=s.next}while(s!==t)}else null===a&&(s.shared.lanes=0);Dl|=r,e.lanes=r,e.memoizedState=u}}function Ha(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],s=i.callback;if(null!==s){if(i.callback=null,i=n,"function"!==typeof s)throw Error(a(191,s));s.call(i)}}}var Ga={},Va=As(Ga),qa=As(Ga),Ya=As(Ga);function Ka(e){if(e===Ga)throw Error(a(174));return e}function Xa(e,t){switch(_s(Ya,t),_s(qa,e),_s(Va,Ga),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Es(Va),_s(Va,t)}function Qa(){Es(Va),Es(qa),Es(Ya)}function $a(e){Ka(Ya.current);var t=Ka(Va.current),n=le(t,e.type);t!==n&&(_s(qa,e),_s(Va,n))}function Ja(e){qa.current===e&&(Es(Va),Es(qa))}var Za=As(0);function er(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tr=[];function nr(){for(var e=0;e<tr.length;e++)tr[e]._workInProgressVersionPrimary=null;tr.length=0}var ir=x.ReactCurrentDispatcher,sr=x.ReactCurrentBatchConfig,ar=0,rr=null,or=null,lr=null,cr=!1,dr=!1,ur=0,hr=0;function pr(){throw Error(a(321))}function mr(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!oi(e[n],t[n]))return!1;return!0}function fr(e,t,n,i,s,r){if(ar=r,rr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ir.current=null===e||null===e.memoizedState?Jr:Zr,e=n(i,s),dr){r=0;do{if(dr=!1,ur=0,25<=r)throw Error(a(301));r+=1,lr=or=null,t.updateQueue=null,ir.current=eo,e=n(i,s)}while(dr)}if(ir.current=$r,t=null!==or&&null!==or.next,ar=0,lr=or=rr=null,cr=!1,t)throw Error(a(300));return e}function gr(){var e=0!==ur;return ur=0,e}function vr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lr?rr.memoizedState=lr=e:lr=lr.next=e,lr}function yr(){if(null===or){var e=rr.alternate;e=null!==e?e.memoizedState:null}else e=or.next;var t=null===lr?rr.memoizedState:lr.next;if(null!==t)lr=t,or=e;else{if(null===e)throw Error(a(310));e={memoizedState:(or=e).memoizedState,baseState:or.baseState,baseQueue:or.baseQueue,queue:or.queue,next:null},null===lr?rr.memoizedState=lr=e:lr=lr.next=e}return lr}function br(e,t){return"function"===typeof t?t(e):t}function xr(e){var t=yr(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var i=or,s=i.baseQueue,r=n.pending;if(null!==r){if(null!==s){var o=s.next;s.next=r.next,r.next=o}i.baseQueue=s=r,n.pending=null}if(null!==s){r=s.next,i=i.baseState;var l=o=null,c=null,d=r;do{var u=d.lane;if((ar&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),i=d.hasEagerState?d.eagerState:e(i,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=h,o=i):c=c.next=h,rr.lanes|=u,Dl|=u}d=d.next}while(null!==d&&d!==r);null===c?o=i:c.next=l,oi(i,t.memoizedState)||(bo=!0),t.memoizedState=i,t.baseState=o,t.baseQueue=c,n.lastRenderedState=i}if(null!==(e=n.interleaved)){s=e;do{r=s.lane,rr.lanes|=r,Dl|=r,s=s.next}while(s!==e)}else null===s&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wr(e){var t=yr(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var i=n.dispatch,s=n.pending,r=t.memoizedState;if(null!==s){n.pending=null;var o=s=s.next;do{r=e(r,o.action),o=o.next}while(o!==s);oi(r,t.memoizedState)||(bo=!0),t.memoizedState=r,null===t.baseQueue&&(t.baseState=r),n.lastRenderedState=r}return[r,i]}function Sr(){}function kr(e,t){var n=rr,i=yr(),s=t(),r=!oi(i.memoizedState,s);if(r&&(i.memoizedState=s,bo=!0),i=i.queue,Lr(_r.bind(null,n,i,e),[e]),i.getSnapshot!==t||r||null!==lr&&1&lr.memoizedState.tag){if(n.flags|=2048,Mr(9,Er.bind(null,n,i,s,t),void 0,null),null===Cl)throw Error(a(349));0!==(30&ar)||Ar(n,t,s)}return s}function Ar(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=rr.updateQueue)?(t={lastEffect:null,stores:null},rr.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Er(e,t,n,i){t.value=n,t.getSnapshot=i,jr(t)&&Nr(e)}function _r(e,t,n){return n(function(){jr(t)&&Nr(e)})}function jr(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!oi(e,n)}catch(i){return!0}}function Nr(e){var t=Ra(e,1);null!==t&&nc(t,e,1,-1)}function Cr(e){var t=vr();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:br,lastRenderedState:e},t.queue=e,e=e.dispatch=Yr.bind(null,rr,e),[t.memoizedState,e]}function Mr(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=rr.updateQueue)?(t={lastEffect:null,stores:null},rr.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Tr(){return yr().memoizedState}function Pr(e,t,n,i){var s=vr();rr.flags|=e,s.memoizedState=Mr(1|t,n,void 0,void 0===i?null:i)}function Ir(e,t,n,i){var s=yr();i=void 0===i?null:i;var a=void 0;if(null!==or){var r=or.memoizedState;if(a=r.destroy,null!==i&&mr(i,r.deps))return void(s.memoizedState=Mr(t,n,a,i))}rr.flags|=e,s.memoizedState=Mr(1|t,n,a,i)}function Rr(e,t){return Pr(8390656,8,e,t)}function Lr(e,t){return Ir(2048,8,e,t)}function Dr(e,t){return Ir(4,2,e,t)}function Fr(e,t){return Ir(4,4,e,t)}function Or(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Wr(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ir(4,4,Or.bind(null,t,e),n)}function Br(){}function Ur(e,t){var n=yr();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&mr(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function zr(e,t){var n=yr();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&mr(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Hr(e,t,n){return 0===(21&ar)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n):(oi(n,t)||(n=ft(),rr.lanes|=n,Dl|=n,e.baseState=!0),t)}function Gr(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var i=sr.transition;sr.transition={};try{e(!1),t()}finally{bt=n,sr.transition=i}}function Vr(){return yr().memoizedState}function qr(e,t,n){var i=tc(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Kr(e))Xr(t,n);else if(null!==(n=Ia(e,t,n,i))){nc(n,e,i,ec()),Qr(n,t,i)}}function Yr(e,t,n){var i=tc(e),s={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Kr(e))Xr(t,s);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var r=t.lastRenderedState,o=a(r,n);if(s.hasEagerState=!0,s.eagerState=o,oi(o,r)){var l=t.interleaved;return null===l?(s.next=s,Pa(t)):(s.next=l.next,l.next=s),void(t.interleaved=s)}}catch(c){}null!==(n=Ia(e,t,s,i))&&(nc(n,e,i,s=ec()),Qr(n,t,i))}}function Kr(e){var t=e.alternate;return e===rr||null!==t&&t===rr}function Xr(e,t){dr=cr=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qr(e,t,n){if(0!==(4194240&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,yt(e,n)}}var $r={readContext:Ma,useCallback:pr,useContext:pr,useEffect:pr,useImperativeHandle:pr,useInsertionEffect:pr,useLayoutEffect:pr,useMemo:pr,useReducer:pr,useRef:pr,useState:pr,useDebugValue:pr,useDeferredValue:pr,useTransition:pr,useMutableSource:pr,useSyncExternalStore:pr,useId:pr,unstable_isNewReconciler:!1},Jr={readContext:Ma,useCallback:function(e,t){return vr().memoizedState=[e,void 0===t?null:t],e},useContext:Ma,useEffect:Rr,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Pr(4194308,4,Or.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Pr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Pr(4,2,e,t)},useMemo:function(e,t){var n=vr();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=vr();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=qr.bind(null,rr,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},vr().memoizedState=e},useState:Cr,useDebugValue:Br,useDeferredValue:function(e){return vr().memoizedState=e},useTransition:function(){var e=Cr(!1),t=e[0];return e=Gr.bind(null,e[1]),vr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=rr,s=vr();if(sa){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Cl)throw Error(a(349));0!==(30&ar)||Ar(i,t,n)}s.memoizedState=n;var r={value:n,getSnapshot:t};return s.queue=r,Rr(_r.bind(null,i,r,e),[e]),i.flags|=2048,Mr(9,Er.bind(null,i,r,n,t),void 0,null),n},useId:function(){var e=vr(),t=Cl.identifierPrefix;if(sa){var n=$s;t=":"+t+"R"+(n=(Qs&~(1<<32-rt(Qs)-1)).toString(32)+n),0<(n=ur++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=hr++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zr={readContext:Ma,useCallback:Ur,useContext:Ma,useEffect:Lr,useImperativeHandle:Wr,useInsertionEffect:Dr,useLayoutEffect:Fr,useMemo:zr,useReducer:xr,useRef:Tr,useState:function(){return xr(br)},useDebugValue:Br,useDeferredValue:function(e){return Hr(yr(),or.memoizedState,e)},useTransition:function(){return[xr(br)[0],yr().memoizedState]},useMutableSource:Sr,useSyncExternalStore:kr,useId:Vr,unstable_isNewReconciler:!1},eo={readContext:Ma,useCallback:Ur,useContext:Ma,useEffect:Lr,useImperativeHandle:Wr,useInsertionEffect:Dr,useLayoutEffect:Fr,useMemo:zr,useReducer:wr,useRef:Tr,useState:function(){return wr(br)},useDebugValue:Br,useDeferredValue:function(e){var t=yr();return null===or?t.memoizedState=e:Hr(t,or.memoizedState,e)},useTransition:function(){return[wr(br)[0],yr().memoizedState]},useMutableSource:Sr,useSyncExternalStore:kr,useId:Vr,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var io={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=ec(),s=tc(e),a=Oa(i,s);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Wa(e,a,s))&&(nc(t,e,s,i),Ba(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=ec(),s=tc(e),a=Oa(i,s);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Wa(e,a,s))&&(nc(t,e,s,i),Ba(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),i=tc(e),s=Oa(n,i);s.tag=2,void 0!==t&&null!==t&&(s.callback=t),null!==(t=Wa(e,s,i))&&(nc(t,e,i,n),Ba(t,e,i))}};function so(e,t,n,i,s,a,r){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,a,r):!t.prototype||!t.prototype.isPureReactComponent||(!li(n,i)||!li(s,a))}function ao(e,t,n){var i=!1,s=js,a=t.contextType;return"object"===typeof a&&null!==a?a=Ma(a):(s=Ps(t)?Ms:Ns.current,a=(i=null!==(i=t.contextTypes)&&void 0!==i)?Ts(e,s):js),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=io,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function ro(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&io.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,i){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Da(e);var a=t.contextType;"object"===typeof a&&null!==a?s.context=Ma(a):(a=Ps(t)?Ms:Ns.current,s.context=Ts(e,a)),s.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(no(e,t,a,n),s.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(t=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&io.enqueueReplaceState(s,s.state,null),za(e,n,s,i),s.state=e.memoizedState),"function"===typeof s.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",i=t;do{n+=U(i),i=i.return}while(i);var s=n}catch(a){s="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:s,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ho="function"===typeof WeakMap?WeakMap:Map;function po(e,t,n){(n=Oa(-1,n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Gl||(Gl=!0,Vl=i),uo(0,t)},n}function mo(e,t,n){(n=Oa(-1,n)).tag=3;var i=e.type.getDerivedStateFromError;if("function"===typeof i){var s=t.value;n.payload=function(){return i(s)},n.callback=function(){uo(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){uo(0,t),"function"!==typeof i&&(null===ql?ql=new Set([this]):ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function fo(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new ho;var s=new Set;i.set(t,s)}else void 0===(s=i.get(t))&&(s=new Set,i.set(t,s));s.has(n)||(s.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vo(e,t,n,i,s){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oa(-1,1)).tag=2,Wa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var yo=x.ReactCurrentOwner,bo=!1;function xo(e,t,n,i){t.child=null===e?wa(t,null,n,i):xa(t,e.child,n,i)}function wo(e,t,n,i,s){n=n.render;var a=t.ref;return Ca(t,s),i=fr(e,t,n,i,a,s),n=gr(),null===e||bo?(sa&&n&&ea(t),t.flags|=1,xo(e,t,i,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Go(e,t,s))}function So(e,t,n,i,s){if(null===e){var a=n.type;return"function"!==typeof a||Pc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,i,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ko(e,t,a,i,s))}if(a=e.child,0===(e.lanes&s)){var r=a.memoizedProps;if((n=null!==(n=n.compare)?n:li)(r,i)&&e.ref===t.ref)return Go(e,t,s)}return t.flags|=1,(e=Ic(a,i)).ref=t.ref,e.return=t,t.child=e}function ko(e,t,n,i,s){if(null!==e){var a=e.memoizedProps;if(li(a,i)&&e.ref===t.ref){if(bo=!1,t.pendingProps=i=a,0===(e.lanes&s))return t.lanes=e.lanes,Go(e,t,s);0!==(131072&e.flags)&&(bo=!0)}}return _o(e,t,n,i,s)}function Ao(e,t,n){var i=t.pendingProps,s=i.children,a=null!==e?e.memoizedState:null;if("hidden"===i.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_s(Il,Pl),Pl|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_s(Il,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==a?a.baseLanes:n,_s(Il,Pl),Pl|=i}else null!==a?(i=a.baseLanes|n,t.memoizedState=null):i=n,_s(Il,Pl),Pl|=i;return xo(e,t,s,n),t.child}function Eo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _o(e,t,n,i,s){var a=Ps(n)?Ms:Ns.current;return a=Ts(t,a),Ca(t,s),n=fr(e,t,n,i,a,s),i=gr(),null===e||bo?(sa&&i&&ea(t),t.flags|=1,xo(e,t,n,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Go(e,t,s))}function jo(e,t,n,i,s){if(Ps(n)){var a=!0;Ds(t)}else a=!1;if(Ca(t,s),null===t.stateNode)Ho(e,t),ao(t,n,i),oo(t,n,i,s),i=!0;else if(null===e){var r=t.stateNode,o=t.memoizedProps;r.props=o;var l=r.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ma(c):c=Ts(t,c=Ps(n)?Ms:Ns.current);var d=n.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof r.getSnapshotBeforeUpdate;u||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(o!==i||l!==c)&&ro(t,r,i,c),La=!1;var h=t.memoizedState;r.state=h,za(t,i,r,s),l=t.memoizedState,o!==i||h!==l||Cs.current||La?("function"===typeof d&&(no(t,n,d,i),l=t.memoizedState),(o=La||so(t,n,o,i,h,l,c))?(u||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||("function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount()),"function"===typeof r.componentDidMount&&(t.flags|=4194308)):("function"===typeof r.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),r.props=i,r.state=l,r.context=c,i=o):("function"===typeof r.componentDidMount&&(t.flags|=4194308),i=!1)}else{r=t.stateNode,Fa(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),r.props=c,u=t.pendingProps,h=r.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ma(l):l=Ts(t,l=Ps(n)?Ms:Ns.current);var p=n.getDerivedStateFromProps;(d="function"===typeof p||"function"===typeof r.getSnapshotBeforeUpdate)||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(o!==u||h!==l)&&ro(t,r,i,l),La=!1,h=t.memoizedState,r.state=h,za(t,i,r,s);var m=t.memoizedState;o!==u||h!==m||Cs.current||La?("function"===typeof p&&(no(t,n,p,i),m=t.memoizedState),(c=La||so(t,n,c,i,h,m,l)||!1)?(d||"function"!==typeof r.UNSAFE_componentWillUpdate&&"function"!==typeof r.componentWillUpdate||("function"===typeof r.componentWillUpdate&&r.componentWillUpdate(i,m,l),"function"===typeof r.UNSAFE_componentWillUpdate&&r.UNSAFE_componentWillUpdate(i,m,l)),"function"===typeof r.componentDidUpdate&&(t.flags|=4),"function"===typeof r.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof r.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=m),r.props=i,r.state=m,r.context=l,i=c):("function"!==typeof r.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),i=!1)}return No(e,t,n,i,a,s)}function No(e,t,n,i,s,a){Eo(e,t);var r=0!==(128&t.flags);if(!i&&!r)return s&&Fs(t,n,!1),Go(e,t,a);i=t.stateNode,yo.current=t;var o=r&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&r?(t.child=xa(t,e.child,null,a),t.child=xa(t,null,o,a)):xo(e,t,o,a),t.memoizedState=i.state,s&&Fs(t,n,!0),t.child}function Co(e){var t=e.stateNode;t.pendingContext?Rs(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Rs(0,t.context,!1),Xa(e,t.containerInfo)}function Mo(e,t,n,i,s){return pa(),ma(s),t.flags|=256,xo(e,t,n,i),t.child}var To,Po,Io,Ro,Lo={dehydrated:null,treeContext:null,retryLane:0};function Do(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fo(e,t,n){var i,s=t.pendingProps,r=Za.current,o=!1,l=0!==(128&t.flags);if((i=l)||(i=(null===e||null!==e.memoizedState)&&0!==(2&r)),i?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(r|=1),_s(Za,1&r),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=s.children,e=s.fallback,o?(s=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&s)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Dc(l,s,0,null),e=Lc(e,s,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Do(n),t.memoizedState=Lo,e):Oo(t,l));if(null!==(r=e.memoizedState)&&null!==(i=r.dehydrated))return function(e,t,n,i,s,r,o){if(n)return 256&t.flags?(t.flags&=-257,Wo(e,t,o,i=co(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(r=i.fallback,s=t.mode,i=Dc({mode:"visible",children:i.children},s,0,null),(r=Lc(r,s,o,null)).flags|=2,i.return=t,r.return=t,i.sibling=r,t.child=i,0!==(1&t.mode)&&xa(t,e.child,null,o),t.child.memoizedState=Do(o),t.memoizedState=Lo,r);if(0===(1&t.mode))return Wo(e,t,o,null);if("$!"===s.data){if(i=s.nextSibling&&s.nextSibling.dataset)var l=i.dgst;return i=l,Wo(e,t,o,i=co(r=Error(a(419)),i,void 0))}if(l=0!==(o&e.childLanes),bo||l){if(null!==(i=Cl)){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(s=0!==(s&(i.suspendedLanes|o))?0:s)&&s!==r.retryLane&&(r.retryLane=s,Ra(e,s),nc(i,e,s,-1))}return fc(),Wo(e,t,o,i=co(Error(a(421))))}return"$?"===s.data?(t.flags|=128,t.child=e.child,t=jc.bind(null,e),s._reactRetry=t,null):(e=r.treeContext,ia=cs(s.nextSibling),na=t,sa=!0,aa=null,null!==e&&(Ys[Ks++]=Qs,Ys[Ks++]=$s,Ys[Ks++]=Xs,Qs=e.id,$s=e.overflow,Xs=t),t=Oo(t,i.children),t.flags|=4096,t)}(e,t,l,s,i,r,n);if(o){o=s.fallback,l=t.mode,i=(r=e.child).sibling;var c={mode:"hidden",children:s.children};return 0===(1&l)&&t.child!==r?((s=t.child).childLanes=0,s.pendingProps=c,t.deletions=null):(s=Ic(r,c)).subtreeFlags=14680064&r.subtreeFlags,null!==i?o=Ic(i,o):(o=Lc(o,l,n,null)).flags|=2,o.return=t,s.return=t,s.sibling=o,t.child=s,s=o,o=t.child,l=null===(l=e.child.memoizedState)?Do(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Lo,s}return e=(o=e.child).sibling,s=Ic(o,{mode:"visible",children:s.children}),0===(1&t.mode)&&(s.lanes=n),s.return=t,s.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Oo(e,t){return(t=Dc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Wo(e,t,n,i){return null!==i&&ma(i),xa(t,e.child,null,n),(e=Oo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bo(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),Na(e.return,t,n)}function Uo(e,t,n,i,s){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=s)}function zo(e,t,n){var i=t.pendingProps,s=i.revealOrder,a=i.tail;if(xo(e,t,i.children,n),0!==(2&(i=Za.current)))i=1&i|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bo(e,n,t);else if(19===e.tag)Bo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(_s(Za,i),0===(1&t.mode))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===er(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Uo(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===er(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Uo(t,!0,n,null,a);break;case"together":Uo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ho(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Go(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Dl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Ic(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ic(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vo(e,t){if(!sa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function qo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,i|=14680064&s.subtreeFlags,i|=14680064&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Yo(e,t,n){var i=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qo(t),null;case 1:case 17:return Ps(t.type)&&Is(),qo(t),null;case 3:return i=t.stateNode,Qa(),Es(Cs),Es(Ns),nr(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(ua(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(rc(aa),aa=null))),Po(e,t),qo(t),null;case 5:Ja(t);var s=Ka(Ya.current);if(n=t.type,null!==e&&null!=t.stateNode)Io(e,t,n,i,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(null===t.stateNode)throw Error(a(166));return qo(t),null}if(e=Ka(Va.current),ua(t)){i=t.stateNode,n=t.type;var r=t.memoizedProps;switch(i[hs]=t,i[ps]=r,e=0!==(1&t.mode),n){case"dialog":Wi("cancel",i),Wi("close",i);break;case"iframe":case"object":case"embed":Wi("load",i);break;case"video":case"audio":for(s=0;s<Li.length;s++)Wi(Li[s],i);break;case"source":Wi("error",i);break;case"img":case"image":case"link":Wi("error",i),Wi("load",i);break;case"details":Wi("toggle",i);break;case"input":Q(i,r),Wi("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!r.multiple},Wi("invalid",i);break;case"textarea":se(i,r),Wi("invalid",i)}for(var l in ye(n,r),s=null,r)if(r.hasOwnProperty(l)){var c=r[l];"children"===l?"string"===typeof c?i.textContent!==c&&(!0!==r.suppressHydrationWarning&&Ji(i.textContent,c,e),s=["children",c]):"number"===typeof c&&i.textContent!==""+c&&(!0!==r.suppressHydrationWarning&&Ji(i.textContent,c,e),s=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Wi("scroll",i)}switch(n){case"input":q(i),Z(i,r,!0);break;case"textarea":q(i),re(i);break;case"select":case"option":break;default:"function"===typeof r.onClick&&(i.onclick=Zi)}i=s,t.updateQueue=i,null!==i&&(t.flags|=4)}else{l=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof i.is?e=l.createElement(n,{is:i.is}):(e=l.createElement(n),"select"===n&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,n),e[hs]=t,e[ps]=i,To(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,i),n){case"dialog":Wi("cancel",e),Wi("close",e),s=i;break;case"iframe":case"object":case"embed":Wi("load",e),s=i;break;case"video":case"audio":for(s=0;s<Li.length;s++)Wi(Li[s],e);s=i;break;case"source":Wi("error",e),s=i;break;case"img":case"image":case"link":Wi("error",e),Wi("load",e),s=i;break;case"details":Wi("toggle",e),s=i;break;case"input":Q(e,i),s=X(e,i),Wi("invalid",e);break;case"option":default:s=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},s=F({},i,{value:void 0}),Wi("invalid",e);break;case"textarea":se(e,i),s=ie(e,i),Wi("invalid",e)}for(r in ye(n,s),c=s)if(c.hasOwnProperty(r)){var d=c[r];"style"===r?ge(e,d):"dangerouslySetInnerHTML"===r?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===r?"string"===typeof d?("textarea"!==n||""!==d)&&he(e,d):"number"===typeof d&&he(e,""+d):"suppressContentEditableWarning"!==r&&"suppressHydrationWarning"!==r&&"autoFocus"!==r&&(o.hasOwnProperty(r)?null!=d&&"onScroll"===r&&Wi("scroll",e):null!=d&&b(e,r,d,l))}switch(n){case"input":q(e),Z(e,i,!1);break;case"textarea":q(e),re(e);break;case"option":null!=i.value&&e.setAttribute("value",""+G(i.value));break;case"select":e.multiple=!!i.multiple,null!=(r=i.value)?ne(e,!!i.multiple,r,!1):null!=i.defaultValue&&ne(e,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof s.onClick&&(e.onclick=Zi)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qo(t),null;case 6:if(e&&null!=t.stateNode)Ro(e,t,e.memoizedProps,i);else{if("string"!==typeof i&&null===t.stateNode)throw Error(a(166));if(n=Ka(Ya.current),Ka(Va.current),ua(t)){if(i=t.stateNode,n=t.memoizedProps,i[hs]=t,(r=i.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Ji(i.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Ji(i.nodeValue,n,0!==(1&e.mode))}r&&(t.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[hs]=t,t.stateNode=i}return qo(t),null;case 13:if(Es(Za),i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(sa&&null!==ia&&0!==(1&t.mode)&&0===(128&t.flags))ha(),pa(),t.flags|=98560,r=!1;else if(r=ua(t),null!==i&&null!==i.dehydrated){if(null===e){if(!r)throw Error(a(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(a(317));r[hs]=t}else pa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qo(t),r=!1}else null!==aa&&(rc(aa),aa=null),r=!0;if(!r)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((i=null!==i)!==(null!==e&&null!==e.memoizedState)&&i&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Za.current)?0===Rl&&(Rl=3):fc())),null!==t.updateQueue&&(t.flags|=4),qo(t),null);case 4:return Qa(),Po(e,t),null===e&&zi(t.stateNode.containerInfo),qo(t),null;case 10:return ja(t.type._context),qo(t),null;case 19:if(Es(Za),null===(r=t.memoizedState))return qo(t),null;if(i=0!==(128&t.flags),null===(l=r.rendering))if(i)Vo(r,!1);else{if(0!==Rl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=er(e))){for(t.flags|=128,Vo(r,!1),null!==(i=l.updateQueue)&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;null!==n;)e=i,(r=n).flags&=14680066,null===(l=r.alternate)?(r.childLanes=0,r.lanes=e,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,e=l.dependencies,r.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _s(Za,1&Za.current|2),t.child}e=e.sibling}null!==r.tail&&$e()>zl&&(t.flags|=128,i=!0,Vo(r,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=er(l))){if(t.flags|=128,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Vo(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate&&!sa)return qo(t),null}else 2*$e()-r.renderingStartTime>zl&&1073741824!==n&&(t.flags|=128,i=!0,Vo(r,!1),t.lanes=4194304);r.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=r.last)?n.sibling=l:t.child=l,r.last=l)}return null!==r.tail?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=$e(),t.sibling=null,n=Za.current,_s(Za,i?1&n|2:1&n),t):(qo(t),null);case 22:case 23:return uc(),i=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==i&&(t.flags|=8192),i&&0!==(1&t.mode)?0!==(1073741824&Pl)&&(qo(t),6&t.subtreeFlags&&(t.flags|=8192)):qo(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ko(e,t){switch(ta(t),t.tag){case 1:return Ps(t.type)&&Is(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qa(),Es(Cs),Es(Ns),nr(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Ja(t),null;case 13:if(Es(Za),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));pa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Es(Za),null;case 4:return Qa(),null;case 10:return ja(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}To=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Po=function(){},Io=function(e,t,n,i){var s=e.memoizedProps;if(s!==i){e=t.stateNode,Ka(Va.current);var a,r=null;switch(n){case"input":s=X(e,s),i=X(e,i),r=[];break;case"select":s=F({},s,{value:void 0}),i=F({},i,{value:void 0}),r=[];break;case"textarea":s=ie(e,s),i=ie(e,i),r=[];break;default:"function"!==typeof s.onClick&&"function"===typeof i.onClick&&(e.onclick=Zi)}for(d in ye(n,i),n=null,s)if(!i.hasOwnProperty(d)&&s.hasOwnProperty(d)&&null!=s[d])if("style"===d){var l=s[d];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(o.hasOwnProperty(d)?r||(r=[]):(r=r||[]).push(d,null));for(d in i){var c=i[d];if(l=null!=s?s[d]:void 0,i.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(r||(r=[]),r.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(r=r||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(r=r||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(o.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Wi("scroll",e),r||l===c||(r=[])):(r=r||[]).push(d,c))}n&&(r=r||[]).push("style",n);var d=r;(t.updateQueue=d)&&(t.flags|=4)}},Ro=function(e,t,n,i){n!==i&&(t.flags|=4)};var Xo=!1,Qo=!1,$o="function"===typeof WeakSet?WeakSet:Set,Jo=null;function Zo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(i){Ac(e,t,i)}else n.current=null}function el(e,t,n){try{n()}catch(i){Ac(e,t,i)}}var tl=!1;function nl(e,t,n){var i=t.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var s=i=i.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,void 0!==a&&el(t,n,a)}s=s.next}while(s!==i)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hs],delete t[ps],delete t[fs],delete t[gs],delete t[vs])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rl(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||rl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zi));else if(4!==i&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var dl=null,ul=!1;function hl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(st,n)}catch(o){}switch(n.tag){case 5:Qo||Zo(n,t);case 6:var i=dl,s=ul;dl=null,hl(e,t,n),ul=s,null!==(dl=i)&&(ul?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(ul?(e=dl,n=n.stateNode,8===e.nodeType?ls(e.parentNode,n):1===e.nodeType&&ls(e,n),zt(e)):ls(dl,n.stateNode));break;case 4:i=dl,s=ul,dl=n.stateNode.containerInfo,ul=!0,hl(e,t,n),dl=i,ul=s;break;case 0:case 11:case 14:case 15:if(!Qo&&(null!==(i=n.updateQueue)&&null!==(i=i.lastEffect))){s=i=i.next;do{var a=s,r=a.destroy;a=a.tag,void 0!==r&&(0!==(2&a)||0!==(4&a))&&el(n,t,r),s=s.next}while(s!==i)}hl(e,t,n);break;case 1:if(!Qo&&(Zo(n,t),"function"===typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(o){Ac(n,t,o)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Qo=(i=Qo)||null!==n.memoizedState,hl(e,t,n),Qo=i):hl(e,t,n);break;default:hl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $o),t.forEach(function(t){var i=Nc.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))})}}function fl(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var s=n[i];try{var r=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,ul=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===dl)throw Error(a(160));pl(r,o,s),dl=null,ul=!1;var c=s.alternate;null!==c&&(c.return=null),s.return=null}catch(d){Ac(s,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fl(t,e),vl(e),4&i){try{nl(3,e,e.return),il(3,e)}catch(g){Ac(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Ac(e,e.return,g)}}break;case 1:fl(t,e),vl(e),512&i&&null!==n&&Zo(n,n.return);break;case 5:if(fl(t,e),vl(e),512&i&&null!==n&&Zo(n,n.return),32&e.flags){var s=e.stateNode;try{he(s,"")}catch(g){Ac(e,e.return,g)}}if(4&i&&null!=(s=e.stateNode)){var r=e.memoizedProps,o=null!==n?n.memoizedProps:r,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===r.type&&null!=r.name&&$(s,r),be(l,o);var d=be(l,r);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];"style"===u?ge(s,h):"dangerouslySetInnerHTML"===u?ue(s,h):"children"===u?he(s,h):b(s,u,h,d)}switch(l){case"input":J(s,r);break;case"textarea":ae(s,r);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!r.multiple;var m=r.value;null!=m?ne(s,!!r.multiple,m,!1):p!==!!r.multiple&&(null!=r.defaultValue?ne(s,!!r.multiple,r.defaultValue,!0):ne(s,!!r.multiple,r.multiple?[]:"",!1))}s[ps]=r}catch(g){Ac(e,e.return,g)}}break;case 6:if(fl(t,e),vl(e),4&i){if(null===e.stateNode)throw Error(a(162));s=e.stateNode,r=e.memoizedProps;try{s.nodeValue=r}catch(g){Ac(e,e.return,g)}}break;case 3:if(fl(t,e),vl(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){Ac(e,e.return,g)}break;case 4:default:fl(t,e),vl(e);break;case 13:fl(t,e),vl(e),8192&(s=e.child).flags&&(r=null!==s.memoizedState,s.stateNode.isHidden=r,!r||null!==s.alternate&&null!==s.alternate.memoizedState||(Ul=$e())),4&i&&ml(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Qo=(d=Qo)||u,fl(t,e),Qo=d):fl(t,e),vl(e),8192&i){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Jo=e,u=e.child;null!==u;){for(h=Jo=u;null!==Jo;){switch(m=(p=Jo).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:Zo(p,p.return);var f=p.stateNode;if("function"===typeof f.componentWillUnmount){i=p,n=p.return;try{t=i,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(g){Ac(i,n,g)}}break;case 5:Zo(p,p.return);break;case 22:if(null!==p.memoizedState){wl(h);continue}}null!==m?(m.return=p,Jo=m):wl(h)}u=u.sibling}e:for(u=null,h=e;;){if(5===h.tag){if(null===u){u=h;try{s=h.stateNode,d?"function"===typeof(r=s.style).setProperty?r.setProperty("display","none","important"):r.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=fe("display",o))}catch(g){Ac(e,e.return,g)}}}else if(6===h.tag){if(null===u)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(g){Ac(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:fl(t,e),vl(e),4&i&&ml(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(rl(n)){var i=n;break e}n=n.return}throw Error(a(160))}switch(i.tag){case 5:var s=i.stateNode;32&i.flags&&(he(s,""),i.flags&=-33),cl(e,ol(e),s);break;case 3:case 4:var r=i.stateNode.containerInfo;ll(e,ol(e),r);break;default:throw Error(a(161))}}catch(o){Ac(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Jo=e,bl(e,t,n)}function bl(e,t,n){for(var i=0!==(1&e.mode);null!==Jo;){var s=Jo,a=s.child;if(22===s.tag&&i){var r=null!==s.memoizedState||Xo;if(!r){var o=s.alternate,l=null!==o&&null!==o.memoizedState||Qo;o=Xo;var c=Qo;if(Xo=r,(Qo=l)&&!c)for(Jo=s;null!==Jo;)l=(r=Jo).child,22===r.tag&&null!==r.memoizedState?Sl(s):null!==l?(l.return=r,Jo=l):Sl(s);for(;null!==a;)Jo=a,bl(a,t,n),a=a.sibling;Jo=s,Xo=o,Qo=c}xl(e)}else 0!==(8772&s.subtreeFlags)&&null!==a?(a.return=s,Jo=a):xl(e)}}function xl(e){for(;null!==Jo;){var t=Jo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qo||il(5,t);break;case 1:var i=t.stateNode;if(4&t.flags&&!Qo)if(null===n)i.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);i.componentDidUpdate(s,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var r=t.updateQueue;null!==r&&Ha(t,r,i);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ha(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var h=u.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}Qo||512&t.flags&&sl(t)}catch(p){Ac(t,t.return,p)}}if(t===e){Jo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Jo=n;break}Jo=t.return}}function wl(e){for(;null!==Jo;){var t=Jo;if(t===e){Jo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Jo=n;break}Jo=t.return}}function Sl(e){for(;null!==Jo;){var t=Jo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){Ac(t,n,l)}break;case 1:var i=t.stateNode;if("function"===typeof i.componentDidMount){var s=t.return;try{i.componentDidMount()}catch(l){Ac(t,s,l)}}var a=t.return;try{sl(t)}catch(l){Ac(t,a,l)}break;case 5:var r=t.return;try{sl(t)}catch(l){Ac(t,r,l)}}}catch(l){Ac(t,t.return,l)}if(t===e){Jo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Jo=o;break}Jo=t.return}}var kl,Al=Math.ceil,El=x.ReactCurrentDispatcher,_l=x.ReactCurrentOwner,jl=x.ReactCurrentBatchConfig,Nl=0,Cl=null,Ml=null,Tl=0,Pl=0,Il=As(0),Rl=0,Ll=null,Dl=0,Fl=0,Ol=0,Wl=null,Bl=null,Ul=0,zl=1/0,Hl=null,Gl=!1,Vl=null,ql=null,Yl=!1,Kl=null,Xl=0,Ql=0,$l=null,Jl=-1,Zl=0;function ec(){return 0!==(6&Nl)?$e():-1!==Jl?Jl:Jl=$e()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Nl)&&0!==Tl?Tl&-Tl:null!==fa.transition?(0===Zl&&(Zl=ft()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function nc(e,t,n,i){if(50<Ql)throw Ql=0,$l=null,Error(a(185));vt(e,n,i),0!==(2&Nl)&&e===Cl||(e===Cl&&(0===(2&Nl)&&(Fl|=n),4===Rl&&oc(e,Tl)),ic(e,i),1===n&&0===Nl&&0===(1&t.mode)&&(zl=$e()+500,Ws&&zs()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var r=31-rt(a),o=1<<r,l=s[r];-1===l?0!==(o&n)&&0===(o&i)||(s[r]=pt(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}(e,t);var i=ht(e,e===Cl?Tl:0);if(0===i)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Ws=!0,Us(e)}(lc.bind(null,e)):Us(lc.bind(null,e)),rs(function(){0===(6&Nl)&&zs()}),n=null;else{switch(xt(i)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=it}n=Cc(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(Jl=-1,Zl=0,0!==(6&Nl))throw Error(a(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var i=ht(e,e===Cl?Tl:0);if(0===i)return null;if(0!==(30&i)||0!==(i&e.expiredLanes)||t)t=gc(e,i);else{t=i;var s=Nl;Nl|=2;var r=mc();for(Cl===e&&Tl===t||(Hl=null,zl=$e()+500,hc(e,t));;)try{yc();break}catch(l){pc(e,l)}_a(),El.current=r,Nl=s,null!==Ml?t=0:(Cl=null,Tl=0,t=Rl)}if(0!==t){if(2===t&&(0!==(s=mt(e))&&(i=s,t=ac(e,s))),1===t)throw n=Ll,hc(e,0),oc(e,i),ic(e,$e()),n;if(6===t)oc(e,i);else{if(s=e.current.alternate,0===(30&i)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var s=n[i],a=s.getSnapshot;s=s.value;try{if(!oi(a(),s))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(s)&&(2===(t=gc(e,i))&&(0!==(r=mt(e))&&(i=r,t=ac(e,r))),1===t))throw n=Ll,hc(e,0),oc(e,i),ic(e,$e()),n;switch(e.finishedWork=s,e.finishedLanes=i,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Bl,Hl);break;case 3:if(oc(e,i),(130023424&i)===i&&10<(t=Ul+500-$e())){if(0!==ht(e,0))break;if(((s=e.suspendedLanes)&i)!==i){ec(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=is(wc.bind(null,e,Bl,Hl),t);break}wc(e,Bl,Hl);break;case 4:if(oc(e,i),(4194240&i)===i)break;for(t=e.eventTimes,s=-1;0<i;){var o=31-rt(i);r=1<<o,(o=t[o])>s&&(s=o),i&=~r}if(i=s,10<(i=(120>(i=$e()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Al(i/1960))-i)){e.timeoutHandle=is(wc.bind(null,e,Bl,Hl),i);break}wc(e,Bl,Hl);break;default:throw Error(a(329))}}}return ic(e,$e()),e.callbackNode===n?sc.bind(null,e):null}function ac(e,t){var n=Wl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Bl,Bl=n,null!==t&&rc(t)),e}function rc(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function oc(e,t){for(t&=~Ol,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-rt(t),i=1<<n;e[n]=-1,t&=~i}}function lc(e){if(0!==(6&Nl))throw Error(a(327));Sc();var t=ht(e,0);if(0===(1&t))return ic(e,$e()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var i=mt(e);0!==i&&(t=i,n=ac(e,i))}if(1===n)throw n=Ll,hc(e,0),oc(e,t),ic(e,$e()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Bl,Hl),ic(e,$e()),null}function cc(e,t){var n=Nl;Nl|=1;try{return e(t)}finally{0===(Nl=n)&&(zl=$e()+500,Ws&&zs())}}function dc(e){null!==Kl&&0===Kl.tag&&0===(6&Nl)&&Sc();var t=Nl;Nl|=1;var n=jl.transition,i=bt;try{if(jl.transition=null,bt=1,e)return e()}finally{bt=i,jl.transition=n,0===(6&(Nl=t))&&zs()}}function uc(){Pl=Il.current,Es(Il)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ss(n)),null!==Ml)for(n=Ml.return;null!==n;){var i=n;switch(ta(i),i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&Is();break;case 3:Qa(),Es(Cs),Es(Ns),nr();break;case 5:Ja(i);break;case 4:Qa();break;case 13:case 19:Es(Za);break;case 10:ja(i.type._context);break;case 22:case 23:uc()}n=n.return}if(Cl=e,Ml=e=Ic(e.current,null),Tl=Pl=t,Rl=0,Ll=null,Ol=Fl=Dl=0,Bl=Wl=null,null!==Ta){for(t=0;t<Ta.length;t++)if(null!==(i=(n=Ta[t]).interleaved)){n.interleaved=null;var s=i.next,a=n.pending;if(null!==a){var r=a.next;a.next=s,i.next=r}n.pending=i}Ta=null}return e}function pc(e,t){for(;;){var n=Ml;try{if(_a(),ir.current=$r,cr){for(var i=rr.memoizedState;null!==i;){var s=i.queue;null!==s&&(s.pending=null),i=i.next}cr=!1}if(ar=0,lr=or=rr=null,dr=!1,ur=0,_l.current=null,null===n||null===n.return){Rl=1,Ll=t,Ml=null;break}e:{var r=e,o=n.return,l=n,c=t;if(t=Tl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=l,h=u.tag;if(0===(1&u.mode)&&(0===h||11===h||15===h)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=go(o);if(null!==m){m.flags&=-257,vo(m,o,l,0,t),1&m.mode&&fo(r,d,t),c=d;var f=(t=m).updateQueue;if(null===f){var g=new Set;g.add(c),t.updateQueue=g}else f.add(c);break e}if(0===(1&t)){fo(r,d,t),fc();break e}c=Error(a(426))}else if(sa&&1&l.mode){var v=go(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vo(v,o,l,0,t),ma(lo(c,l));break e}}r=c=lo(c,l),4!==Rl&&(Rl=2),null===Wl?Wl=[r]:Wl.push(r),r=o;do{switch(r.tag){case 3:r.flags|=65536,t&=-t,r.lanes|=t,Ua(r,po(0,c,t));break e;case 1:l=c;var y=r.type,b=r.stateNode;if(0===(128&r.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===ql||!ql.has(b)))){r.flags|=65536,t&=-t,r.lanes|=t,Ua(r,mo(r,l,t));break e}}r=r.return}while(null!==r)}xc(n)}catch(x){t=x,Ml===n&&null!==n&&(Ml=n=n.return);continue}break}}function mc(){var e=El.current;return El.current=$r,null===e?$r:e}function fc(){0!==Rl&&3!==Rl&&2!==Rl||(Rl=4),null===Cl||0===(268435455&Dl)&&0===(268435455&Fl)||oc(Cl,Tl)}function gc(e,t){var n=Nl;Nl|=2;var i=mc();for(Cl===e&&Tl===t||(Hl=null,hc(e,t));;)try{vc();break}catch(s){pc(e,s)}if(_a(),Nl=n,El.current=i,null!==Ml)throw Error(a(261));return Cl=null,Tl=0,Rl}function vc(){for(;null!==Ml;)bc(Ml)}function yc(){for(;null!==Ml&&!Xe();)bc(Ml)}function bc(e){var t=kl(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?xc(e):Ml=t,_l.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Yo(n,t,Pl)))return void(Ml=n)}else{if(null!==(n=Ko(n,t)))return n.flags&=32767,void(Ml=n);if(null===e)return Rl=6,void(Ml=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ml=t);Ml=t=e}while(null!==t);0===Rl&&(Rl=5)}function wc(e,t,n){var i=bt,s=jl.transition;try{jl.transition=null,bt=1,function(e,t,n,i){do{Sc()}while(null!==Kl);if(0!==(6&Nl))throw Error(a(327));n=e.finishedWork;var s=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var r=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-rt(n),a=1<<s;t[s]=0,i[s]=-1,e[s]=-1,n&=~a}}(e,r),e===Cl&&(Ml=Cl=null,Tl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Yl||(Yl=!0,Cc(tt,function(){return Sc(),null})),r=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||r){r=jl.transition,jl.transition=null;var o=bt;bt=1;var l=Nl;Nl|=4,_l.current=null,function(e,t){if(es=Gt,pi(e=hi())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch(w){n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,p=null;t:for(;;){for(var m;h!==n||0!==s&&3!==h.nodeType||(l=o+s),h!==r||0!==i&&3!==h.nodeType||(c=o+i),3===h.nodeType&&(o+=h.nodeValue.length),null!==(m=h.firstChild);)p=h,h=m;for(;;){if(h===e)break t;if(p===n&&++d===s&&(l=o),p===r&&++u===i&&(c=o),null!==(m=h.nextSibling))break;p=(h=p).parentNode}h=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ts={focusedElem:e,selectionRange:n},Gt=!1,Jo=t;null!==Jo;)if(e=(t=Jo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Jo=e;else for(;null!==Jo;){t=Jo;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var g=f.memoizedProps,v=f.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(a(163))}}catch(w){Ac(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Jo=e;break}Jo=t.return}f=tl,tl=!1}(e,n),gl(n,e),mi(ts),Gt=!!es,ts=es=null,e.current=n,yl(n,e,s),Qe(),Nl=l,bt=o,jl.transition=r}else e.current=n;if(Yl&&(Yl=!1,Kl=e,Xl=s),r=e.pendingLanes,0===r&&(ql=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(st,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,$e()),null!==t)for(i=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],i(s.value,{componentStack:s.stack,digest:s.digest});if(Gl)throw Gl=!1,e=Vl,Vl=null,e;0!==(1&Xl)&&0!==e.tag&&Sc(),r=e.pendingLanes,0!==(1&r)?e===$l?Ql++:(Ql=0,$l=e):Ql=0,zs()}(e,t,n,i)}finally{jl.transition=s,bt=i}return null}function Sc(){if(null!==Kl){var e=xt(Xl),t=jl.transition,n=bt;try{if(jl.transition=null,bt=16>e?16:e,null===Kl)var i=!1;else{if(e=Kl,Kl=null,Xl=0,0!==(6&Nl))throw Error(a(331));var s=Nl;for(Nl|=4,Jo=e.current;null!==Jo;){var r=Jo,o=r.child;if(0!==(16&Jo.flags)){var l=r.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Jo=d;null!==Jo;){var u=Jo;switch(u.tag){case 0:case 11:case 15:nl(8,u,r)}var h=u.child;if(null!==h)h.return=u,Jo=h;else for(;null!==Jo;){var p=(u=Jo).sibling,m=u.return;if(al(u),u===d){Jo=null;break}if(null!==p){p.return=m,Jo=p;break}Jo=m}}}var f=r.alternate;if(null!==f){var g=f.child;if(null!==g){f.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Jo=r}}if(0!==(2064&r.subtreeFlags)&&null!==o)o.return=r,Jo=o;else e:for(;null!==Jo;){if(0!==(2048&(r=Jo).flags))switch(r.tag){case 0:case 11:case 15:nl(9,r,r.return)}var y=r.sibling;if(null!==y){y.return=r.return,Jo=y;break e}Jo=r.return}}var b=e.current;for(Jo=b;null!==Jo;){var x=(o=Jo).child;if(0!==(2064&o.subtreeFlags)&&null!==x)x.return=o,Jo=x;else e:for(o=b;null!==Jo;){if(0!==(2048&(l=Jo).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(S){Ac(l,l.return,S)}if(l===o){Jo=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Jo=w;break e}Jo=l.return}}if(Nl=s,zs(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(st,e)}catch(S){}i=!0}return i}finally{bt=n,jl.transition=t}}return!1}function kc(e,t,n){e=Wa(e,t=po(0,t=lo(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),ic(e,t))}function Ac(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===ql||!ql.has(i))){t=Wa(t,e=mo(t,e=lo(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),ic(t,e));break}}t=t.return}}function Ec(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Cl===e&&(Tl&n)===n&&(4===Rl||3===Rl&&(130023424&Tl)===Tl&&500>$e()-Ul?hc(e,0):Ol|=n),ic(e,t)}function _c(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var n=ec();null!==(e=Ra(e,t))&&(vt(e,t,n),ic(e,n))}function jc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),_c(e,n)}function Nc(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(a(314))}null!==i&&i.delete(t),_c(e,n)}function Cc(e,t){return Ye(e,t)}function Mc(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tc(e,t,n,i){return new Mc(e,t,n,i)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ic(e,t){var n=e.alternate;return null===n?((n=Tc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,i,s,r){var o=2;if(i=e,"function"===typeof e)Pc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case k:return Lc(n.children,s,r,t);case A:o=8,s|=8;break;case E:return(e=Tc(12,n,t,2|s)).elementType=E,e.lanes=r,e;case C:return(e=Tc(13,n,t,s)).elementType=C,e.lanes=r,e;case M:return(e=Tc(19,n,t,s)).elementType=M,e.lanes=r,e;case I:return Dc(n,s,r,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:o=10;break e;case j:o=9;break e;case N:o=11;break e;case T:o=14;break e;case P:o=16,i=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Tc(o,n,t,s)).elementType=e,t.type=i,t.lanes=r,t}function Lc(e,t,n,i){return(e=Tc(7,e,i,t)).lanes=n,e}function Dc(e,t,n,i){return(e=Tc(22,e,i,t)).elementType=I,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Tc(6,e,null,t)).lanes=n,e}function Oc(e,t,n){return(t=Tc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Wc(e,t,n,i,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,i,s,a,r,o,l){return e=new Wc(e,t,n,o,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Tc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Da(a),e}function Uc(e){if(!e)return js;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ps(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ps(n))return Ls(e,n,t)}return t}function zc(e,t,n,i,s,a,r,o,l){return(e=Bc(n,i,!0,e,0,a,0,o,l)).context=Uc(null),n=e.current,(a=Oa(i=ec(),s=tc(n))).callback=void 0!==t&&null!==t?t:null,Wa(n,a,s),e.current.lanes=s,vt(e,s,i),ic(e,i),e}function Hc(e,t,n,i){var s=t.current,a=ec(),r=tc(s);return n=Uc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oa(a,r)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),null!==(e=Wa(s,t,r))&&(nc(e,s,r,a),Ba(e,s,r)),r}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Vc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qc(e,t){Vc(e,t),(e=e.alternate)&&Vc(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Cs.current)bo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:Co(t),pa();break;case 5:$a(t);break;case 1:Ps(t.type)&&Ds(t);break;case 4:Xa(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,s=t.memoizedProps.value;_s(Sa,i._currentValue),i._currentValue=s;break;case 13:if(null!==(i=t.memoizedState))return null!==i.dehydrated?(_s(Za,1&Za.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fo(e,t,n):(_s(Za,1&Za.current),null!==(e=Go(e,t,n))?e.sibling:null);_s(Za,1&Za.current);break;case 19:if(i=0!==(n&t.childLanes),0!==(128&e.flags)){if(i)return zo(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),_s(Za,Za.current),i)break;return null;case 22:case 23:return t.lanes=0,Ao(e,t,n)}return Go(e,t,n)}(e,t,n);bo=0!==(131072&e.flags)}else bo=!1,sa&&0!==(1048576&t.flags)&&Zs(t,qs,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Ho(e,t),e=t.pendingProps;var s=Ts(t,Ns.current);Ca(t,n),s=fr(null,t,i,e,s,n);var r=gr();return t.flags|=1,"object"===typeof s&&null!==s&&"function"===typeof s.render&&void 0===s.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ps(i)?(r=!0,Ds(t)):r=!1,t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,Da(t),s.updater=io,t.stateNode=s,s._reactInternals=t,oo(t,i,e,n),t=No(null,t,i,!0,r,n)):(t.tag=0,sa&&r&&ea(t),xo(null,t,s,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Ho(e,t),e=t.pendingProps,i=(s=i._init)(i._payload),t.type=i,s=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===T)return 14}return 2}(i),e=to(i,e),s){case 0:t=_o(null,t,i,e,n);break e;case 1:t=jo(null,t,i,e,n);break e;case 11:t=wo(null,t,i,e,n);break e;case 14:t=So(null,t,i,to(i.type,e),n);break e}throw Error(a(306,i,""))}return t;case 0:return i=t.type,s=t.pendingProps,_o(e,t,i,s=t.elementType===i?s:to(i,s),n);case 1:return i=t.type,s=t.pendingProps,jo(e,t,i,s=t.elementType===i?s:to(i,s),n);case 3:e:{if(Co(t),null===e)throw Error(a(387));i=t.pendingProps,s=(r=t.memoizedState).element,Fa(e,t),za(t,i,null,n);var o=t.memoizedState;if(i=o.element,r.isDehydrated){if(r={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=r,t.memoizedState=r,256&t.flags){t=Mo(e,t,i,n,s=lo(Error(a(423)),t));break e}if(i!==s){t=Mo(e,t,i,n,s=lo(Error(a(424)),t));break e}for(ia=cs(t.stateNode.containerInfo.firstChild),na=t,sa=!0,aa=null,n=wa(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pa(),i===s){t=Go(e,t,n);break e}xo(e,t,i,n)}t=t.child}return t;case 5:return $a(t),null===e&&ca(t),i=t.type,s=t.pendingProps,r=null!==e?e.memoizedProps:null,o=s.children,ns(i,s)?o=null:null!==r&&ns(i,r)&&(t.flags|=32),Eo(e,t),xo(e,t,o,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fo(e,t,n);case 4:return Xa(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=xa(t,null,i,n):xo(e,t,i,n),t.child;case 11:return i=t.type,s=t.pendingProps,wo(e,t,i,s=t.elementType===i?s:to(i,s),n);case 7:return xo(e,t,t.pendingProps,n),t.child;case 8:case 12:return xo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,s=t.pendingProps,r=t.memoizedProps,o=s.value,_s(Sa,i._currentValue),i._currentValue=o,null!==r)if(oi(r.value,o)){if(r.children===s.children&&!Cs.current){t=Go(e,t,n);break e}}else for(null!==(r=t.child)&&(r.return=t);null!==r;){var l=r.dependencies;if(null!==l){o=r.child;for(var c=l.firstContext;null!==c;){if(c.context===i){if(1===r.tag){(c=Oa(-1,n&-n)).tag=2;var d=r.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}r.lanes|=n,null!==(c=r.alternate)&&(c.lanes|=n),Na(r.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===r.tag)o=r.type===t.type?null:r.child;else if(18===r.tag){if(null===(o=r.return))throw Error(a(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Na(o,n,t),o=r.sibling}else o=r.child;if(null!==o)o.return=r;else for(o=r;null!==o;){if(o===t){o=null;break}if(null!==(r=o.sibling)){r.return=o.return,o=r;break}o=o.return}r=o}xo(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,i=t.pendingProps.children,Ca(t,n),i=i(s=Ma(s)),t.flags|=1,xo(e,t,i,n),t.child;case 14:return s=to(i=t.type,t.pendingProps),So(e,t,i,s=to(i.type,s),n);case 15:return ko(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:to(i,s),Ho(e,t),t.tag=1,Ps(i)?(e=!0,Ds(t)):e=!1,Ca(t,n),ao(t,i,s),oo(t,i,s,n),No(null,t,i,!0,e,n);case 19:return zo(e,t,n);case 22:return Ao(e,t,n)}throw Error(a(156,t.tag))};var Yc="function"===typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,i,s){var a=n._reactRootContainer;if(a){var r=a;if("function"===typeof s){var o=s;s=function(){var e=Gc(r);o.call(e)}}Hc(t,r,e,s)}else r=function(e,t,n,i,s){if(s){if("function"===typeof i){var a=i;i=function(){var e=Gc(r);a.call(e)}}var r=zc(t,i,e,0,null,!1,0,"",Jc);return e._reactRootContainer=r,e[ms]=r.current,zi(8===e.nodeType?e.parentNode:e),dc(),r}for(;s=e.lastChild;)e.removeChild(s);if("function"===typeof i){var o=i;i=function(){var e=Gc(l);o.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[ms]=l.current,zi(8===e.nodeType?e.parentNode:e),dc(function(){Hc(t,l,n,i)}),l}(n,t,e,s,i);return Gc(r)}Xc.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hc(e,t,null,null)},Xc.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc(function(){Hc(null,e,null,null)}),t[ms]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=At();e={blockedOn:null,target:e,priority:t};for(var n=0;n<It.length&&0!==t&&t<It[n].priority;n++);It.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,$e()),0===(6&Nl)&&(zl=$e()+500,zs()))}break;case 13:dc(function(){var t=Ra(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),qc(e,1)}},St=function(e){if(13===e.tag){var t=Ra(e,134217728);if(null!==t)nc(t,e,134217728,ec());qc(e,134217728)}},kt=function(e){if(13===e.tag){var t=tc(e),n=Ra(e,t);if(null!==n)nc(n,e,t,ec());qc(e,t)}},At=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var s=ws(i);if(!s)throw Error(a(90));Y(i),J(i,s)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ne=cc,Ce=dc;var ed={usingClientEntryPoint:!1,Events:[bs,xs,ws,_e,je,cc]},td={findFiberByHostInstance:ys,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var id=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!id.isDisabled&&id.supportsFiber)try{st=id.inject(nd),at=id}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(a(200));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qc(e))throw Error(a(299));var n=!1,i="",s=Yc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,i,s),e[ms]=t.current,zi(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(a(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qc(e))throw Error(a(405));var i=null!=n&&n.hydratedSources||null,s=!1,r="",o=Yc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(s=!0),void 0!==n.identifierPrefix&&(r=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,s,0,r,o),e[ms]=t.current,zi(e),i)for(e=0;e<i.length;e++)s=(s=(n=i[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Xc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(a(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(a(40));return!!e._reactRootContainer&&(dc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[ms]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!$c(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Zc(e,t,n,!1,i)},t.version="18.3.1-next-f1338f8080-20240426"},876:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},929:(e,t,n)=>{"use strict";e.exports=n(643)},967:(e,t,n)=>{e.exports=n(147)()}},t={};function n(i){var s=t[i];if(void 0!==s)return s.exports;var a=t[i]={exports:{}};return e[i](a,a.exports,n),a.exports}n.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(i,s){if(1&s&&(i=this(i)),8&s)return i;if("object"===typeof i&&i){if(4&s&&i.__esModule)return i;if(16&s&&"function"===typeof i.then)return i}var a=Object.create(null);n.r(a);var r={};e=e||[null,t({}),t([]),t(t)];for(var o=2&s&&i;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>r[e]=()=>i[e]);return r.default=()=>i,n.d(a,r),a}})(),n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,i)=>(n.f[i](e,t),t),[])),n.u=e=>"static/js/"+e+".60289598.chunk.js",n.miniCssF=e=>{},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="mpt-react-frontend:";n.l=(i,s,a,r)=>{if(e[i])e[i].push(s);else{var o,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==i||u.getAttribute("data-webpack")==t+a){o=u;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+a),o.src=i),e[i]=[s];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(p);var s=e[i];if(delete e[i],o.parentNode&&o.parentNode.removeChild(o),s&&s.forEach(e=>e(n)),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="./",(()=>{var e={792:0};n.f.j=(t,i)=>{var s=n.o(e,t)?e[t]:void 0;if(0!==s)if(s)i.push(s[2]);else{var a=new Promise((n,i)=>s=e[t]=[n,i]);i.push(s[2]=a);var r=n.p+n.u(t),o=new Error;n.l(r,i=>{if(n.o(e,t)&&(0!==(s=e[t])&&(e[t]=void 0),s)){var a=i&&("load"===i.type?"missing":i.type),r=i&&i.target&&i.target.src;o.message="Loading chunk "+t+" failed.\n("+a+": "+r+")",o.name="ChunkLoadError",o.type=a,o.request=r,s[1](o)}},"chunk-"+t,t)}};var t=(t,i)=>{var s,a,r=i[0],o=i[1],l=i[2],c=0;if(r.some(t=>0!==e[t])){for(s in o)n.o(o,s)&&(n.m[s]=o[s]);if(l)l(n)}for(t&&t(i);c<r.length;c++)a=r[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},i=self.webpackChunkmpt_react_frontend=self.webpackChunkmpt_react_frontend||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})(),(()=>{"use strict";var e,t=n(565),i=n.t(t,2),s=n(501),a=n(396),r=n.t(a,2);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));const l="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function d(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function u(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,n,i){return void 0===n&&(n=null),o({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?m(t):t,{state:n,key:t&&t.key||i||Math.random().toString(36).substr(2,8)})}function p(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(t+="#"===i.charAt(0)?i:"#"+i),t}function m(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function f(t,n,i,s){void 0===s&&(s={});let{window:a=document.defaultView,v5Compat:r=!1}=s,d=a.history,m=e.Pop,f=null,g=v();function v(){return(d.state||{idx:null}).idx}function y(){m=e.Pop;let t=v(),n=null==t?null:t-g;g=t,f&&f({action:m,location:x.location,delta:n})}function b(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,n="string"===typeof e?e:p(e);return n=n.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,d.replaceState(o({},d.state,{idx:g}),""));let x={get action(){return m},get location(){return t(a,d)},listen(e){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(l,y),f=e,()=>{a.removeEventListener(l,y),f=null}},createHref:e=>n(a,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){m=e.Push;let s=h(x.location,t,n);i&&i(s,t),g=v()+1;let o=u(s,g),l=x.createHref(s);try{d.pushState(o,"",l)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;a.location.assign(l)}r&&f&&f({action:m,location:x.location,delta:1})},replace:function(t,n){m=e.Replace;let s=h(x.location,t,n);i&&i(s,t),g=v();let a=u(s,g),o=x.createHref(s);d.replaceState(a,"",o),r&&f&&f({action:m,location:x.location,delta:0})},go:e=>d.go(e)};return x}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,n){return void 0===n&&(n="/"),y(e,t,n,!1)}function y(e,t,n,i){let s=P(("string"===typeof t?m(t):t).pathname||"/",n);if(null==s)return null;let a=b(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let r=null;for(let o=0;null==r&&o<a.length;++o){let e=T(s);r=C(a[o],e,i)}return r}function b(e,t,n,i){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===i&&(i="");let s=(e,s,a)=>{let r={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};r.relativePath.startsWith("/")&&(c(r.relativePath.startsWith(i),'Absolute route path "'+r.relativePath+'" nested under path "'+i+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),r.relativePath=r.relativePath.slice(i.length));let o=F([i,r.relativePath]),l=n.concat(r);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),b(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:N(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let i of x(e.path))s(e,t,i);else s(e,t)}),t}function x(e){let t=e.split("/");if(0===t.length)return[];let[n,...i]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===i.length)return s?[a,""]:[a];let r=x(i.join("/")),o=[];return o.push(...r.map(e=>""===e?a:[a,e].join("/"))),s&&o.push(...r),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const w=/^:[\w-]+$/,S=3,k=2,A=1,E=10,_=-2,j=e=>"*"===e;function N(e,t){let n=e.split("/"),i=n.length;return n.some(j)&&(i+=_),t&&(i+=k),n.filter(e=>!j(e)).reduce((e,t)=>e+(w.test(t)?S:""===t?A:E),i)}function C(e,t,n){void 0===n&&(n=!1);let{routesMeta:i}=e,s={},a="/",r=[];for(let o=0;o<i.length;++o){let e=i[o],l=o===i.length-1,c="/"===a?t:t.slice(a.length)||"/",d=M({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&n&&!i[i.length-1].route.index&&(d=M({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(s,d.params),r.push({params:s,pathname:F([a,d.pathname]),pathnameBase:O(F([a,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(a=F([a,d.pathnameBase]))}return r}function M(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);d("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let i=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(i.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(i.push({paramName:"*"}),s+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":""!==e&&"/"!==e&&(s+="(?:(?=\\/|$))");let a=new RegExp(s,t?void 0:"i");return[a,i]}(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],r=a.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:i.reduce((e,t,n)=>{let{paramName:i,isOptional:s}=t;if("*"===i){let e=o[n]||"";r=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[i]=s&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:a,pathnameBase:r,pattern:e}}function T(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return d(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function P(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&"/"!==i?null:e.slice(n)||"/"}function I(e,t,n,i){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function R(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function L(e,t){let n=R(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function D(e,t,n,i){let s;void 0===i&&(i=!1),"string"===typeof e?s=m(e):(s=o({},e),c(!s.pathname||!s.pathname.includes("?"),I("?","pathname","search",s)),c(!s.pathname||!s.pathname.includes("#"),I("#","pathname","hash",s)),c(!s.search||!s.search.includes("#"),I("#","search","hash",s)));let a,r=""===e||""===s.pathname,l=r?"/":s.pathname;if(null==l)a=n;else{let e=t.length-1;if(!i&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;s.pathname=t.join("/")}a=e>=0?t[e]:"/"}let d=function(e,t){void 0===t&&(t="/");let{pathname:n,search:i="",hash:s=""}="string"===typeof e?m(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:W(i),hash:B(s)}}(s,a),u=l&&"/"!==l&&l.endsWith("/"),h=(r||"."===l)&&n.endsWith("/");return d.pathname.endsWith("/")||!u&&!h||(d.pathname+="/"),d}const F=e=>e.join("/").replace(/\/\/+/g,"/"),O=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),W=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",B=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function U(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const z=["post","put","patch","delete"],H=(new Set(z),["get",...z]);new Set(H),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function G(){return G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},G.apply(this,arguments)}const V=t.createContext(null);const q=t.createContext(null);const Y=t.createContext(null);const K=t.createContext(null);const X=t.createContext({outlet:null,matches:[],isDataRoute:!1});const Q=t.createContext(null);function $(){return null!=t.useContext(K)}function J(){return $()||c(!1),t.useContext(K).location}function Z(e){t.useContext(Y).static||t.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=t.useContext(X);return e?function(){let{router:e}=de(le.UseNavigateStable),n=he(ce.UseNavigateStable),i=t.useRef(!1);return Z(()=>{i.current=!0}),t.useCallback(function(t,s){void 0===s&&(s={}),i.current&&("number"===typeof t?e.navigate(t):e.navigate(t,G({fromRouteId:n},s)))},[e,n])}():function(){$()||c(!1);let e=t.useContext(V),{basename:n,future:i,navigator:s}=t.useContext(Y),{matches:a}=t.useContext(X),{pathname:r}=J(),o=JSON.stringify(L(a,i.v7_relativeSplatPath)),l=t.useRef(!1);return Z(()=>{l.current=!0}),t.useCallback(function(t,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof t)return void s.go(t);let a=D(t,JSON.parse(o),r,"path"===i.relative);null==e&&"/"!==n&&(a.pathname="/"===a.pathname?n:F([n,a.pathname])),(i.replace?s.replace:s.push)(a,i.state,i)},[n,s,o,r,e])}()}function te(e,n){let{relative:i}=void 0===n?{}:n,{future:s}=t.useContext(Y),{matches:a}=t.useContext(X),{pathname:r}=J(),o=JSON.stringify(L(a,s.v7_relativeSplatPath));return t.useMemo(()=>D(e,JSON.parse(o),r,"path"===i),[e,o,r,i])}function ne(n,i,s,a){$()||c(!1);let{navigator:r}=t.useContext(Y),{matches:o}=t.useContext(X),l=o[o.length-1],d=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,p=J();if(i){var f;let e="string"===typeof i?m(i):i;"/"===u||(null==(f=e.pathname)?void 0:f.startsWith(u))||c(!1),h=e}else h=p;let g=h.pathname||"/",y=g;if("/"!==u){let e=u.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=v(n,{pathname:y});let x=oe(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:F([u,r.encodeLocation?r.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:F([u,r.encodeLocation?r.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,s,a);return i&&x?t.createElement(K.Provider,{value:{location:G({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:e.Pop}},x):x}function ie(){let e=function(){var e;let n=t.useContext(Q),i=ue(ce.UseRouteError),s=he(ce.UseRouteError);if(void 0!==n)return n;return null==(e=i.errors)?void 0:e[s]}(),n=U(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),i=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),i?t.createElement("pre",{style:a},i):null,null)}const se=t.createElement(ie,null);class ae extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(X.Provider,{value:this.props.routeContext},t.createElement(Q.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function re(e){let{routeContext:n,match:i,children:s}=e,a=t.useContext(V);return a&&a.static&&a.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=i.route.id),t.createElement(X.Provider,{value:n},s)}function oe(e,n,i,s){var a;if(void 0===n&&(n=[]),void 0===i&&(i=null),void 0===s&&(s=null),null==e){var r;if(!i)return null;if(i.errors)e=i.matches;else{if(!(null!=(r=s)&&r.v7_partialHydration&&0===n.length&&!i.initialized&&i.matches.length>0))return null;e=i.matches}}let o=e,l=null==(a=i)?void 0:a.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||c(!1),o=o.slice(0,Math.min(o.length,e+1))}let d=!1,u=-1;if(i&&s&&s.v7_partialHydration)for(let t=0;t<o.length;t++){let e=o[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=t),e.route.id){let{loaderData:t,errors:n}=i,s=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||s){d=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}}return o.reduceRight((e,s,a)=>{let r,c=!1,h=null,p=null;var m;i&&(r=l&&s.route.id?l[s.route.id]:void 0,h=s.route.errorElement||se,d&&(u<0&&0===a?(m="route-fallback",!1||pe[m]||(pe[m]=!0),c=!0,p=null):u===a&&(c=!0,p=s.route.hydrateFallbackElement||null)));let f=n.concat(o.slice(0,a+1)),g=()=>{let n;return n=r?h:c?p:s.route.Component?t.createElement(s.route.Component,null):s.route.element?s.route.element:e,t.createElement(re,{match:s,routeContext:{outlet:e,matches:f,isDataRoute:null!=i},children:n})};return i&&(s.route.ErrorBoundary||s.route.errorElement||0===a)?t.createElement(ae,{location:i.location,revalidation:i.revalidation,component:h,error:r,children:g(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):g()},null)}var le=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(le||{}),ce=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ce||{});function de(e){let n=t.useContext(V);return n||c(!1),n}function ue(e){let n=t.useContext(q);return n||c(!1),n}function he(e){let n=function(){let e=t.useContext(X);return e||c(!1),e}(),i=n.matches[n.matches.length-1];return i.route.id||c(!1),i.route.id}const pe={};function me(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}i.startTransition;function fe(e){c(!1)}function ge(n){let{basename:i="/",children:s=null,location:a,navigationType:r=e.Pop,navigator:o,static:l=!1,future:d}=n;$()&&c(!1);let u=i.replace(/^\/*/,"/"),h=t.useMemo(()=>({basename:u,navigator:o,static:l,future:G({v7_relativeSplatPath:!1},d)}),[u,d,o,l]);"string"===typeof a&&(a=m(a));let{pathname:p="/",search:f="",hash:g="",state:v=null,key:y="default"}=a,b=t.useMemo(()=>{let e=P(p,u);return null==e?null:{location:{pathname:e,search:f,hash:g,state:v,key:y},navigationType:r}},[u,p,f,g,v,y,r]);return null==b?null:t.createElement(Y.Provider,{value:h},t.createElement(K.Provider,{children:s,value:b}))}function ve(e){let{children:t,location:n}=e;return ne(ye(t),n)}new Promise(()=>{});t.Component;function ye(e,n){void 0===n&&(n=[]);let i=[];return t.Children.forEach(e,(e,s)=>{if(!t.isValidElement(e))return;let a=[...n,s];if(e.type===t.Fragment)return void i.push.apply(i,ye(e.props.children,a));e.type!==fe&&c(!1),e.props.index&&e.props.children&&c(!1);let r={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(r.children=ye(e.props.children,a)),i.push(r)}),i}function be(){return be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},be.apply(this,arguments)}function xe(e,t){if(null==e)return{};var n,i,s={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(s[n]=e[n]);return s}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const we=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Fy){}new Map;const Se=i.startTransition;r.flushSync,i.useId;function ke(e){let{basename:n,children:i,future:s,window:a}=e,r=t.useRef();var o;null==r.current&&(r.current=(void 0===(o={window:a,v5Compat:!0})&&(o={}),f(function(e,t){let{pathname:n,search:i,hash:s}=e.location;return h("",{pathname:n,search:i,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:p(t)},null,o)));let l=r.current,[c,d]=t.useState({action:l.action,location:l.location}),{v7_startTransition:u}=s||{},m=t.useCallback(e=>{u&&Se?Se(()=>d(e)):d(e)},[d,u]);return t.useLayoutEffect(()=>l.listen(m),[l,m]),t.useEffect(()=>me(s),[s]),t.createElement(ge,{basename:n,children:i,location:c.location,navigationType:c.action,navigator:l,future:s})}const Ae="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_e=t.forwardRef(function(e,n){let i,{onClick:s,relative:a,reloadDocument:r,replace:o,state:l,target:d,to:u,preventScrollReset:h,viewTransition:m}=e,f=xe(e,we),{basename:g}=t.useContext(Y),v=!1;if("string"===typeof u&&Ee.test(u)&&(i=u,Ae))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=P(t.pathname,g);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:v=!0}catch(Fy){}let y=function(e,n){let{relative:i}=void 0===n?{}:n;$()||c(!1);let{basename:s,navigator:a}=t.useContext(Y),{hash:r,pathname:o,search:l}=te(e,{relative:i}),d=o;return"/"!==s&&(d="/"===o?s:F([s,o])),a.createHref({pathname:d,search:l,hash:r})}(u,{relative:a}),b=function(e,n){let{target:i,replace:s,state:a,preventScrollReset:r,relative:o,viewTransition:l}=void 0===n?{}:n,c=ee(),d=J(),u=te(e,{relative:o});return t.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();let n=void 0!==s?s:p(d)===p(u);c(e,{replace:n,state:a,preventScrollReset:r,relative:o,viewTransition:l})}},[d,c,u,s,a,i,e,r,o,l])}(u,{replace:o,state:l,target:d,preventScrollReset:h,relative:a,viewTransition:m});return t.createElement("a",be({},f,{href:i||y,onClick:v||r?s:function(e){s&&s(e),e.defaultPrevented||b(e)},ref:n,target:d}))});var je,Ne;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(je||(je={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ne||(Ne={}));var Ce=n(929);const Me=()=>(0,Ce.jsx)("header",{className:"header",children:(0,Ce.jsxs)("div",{className:"header-container",children:[(0,Ce.jsxs)(_e,{to:"/",className:"logo",children:[(0,Ce.jsx)("div",{className:"logo-icon",children:(0,Ce.jsx)("img",{src:"/images/logos/mpt-logo.jpeg",alt:"MPT Logo",className:"logo-image"})}),(0,Ce.jsx)("div",{className:"logo-text",children:"MOVEMENT PERFORMANCE TRAINING"})]}),(0,Ce.jsxs)("nav",{className:"navigation",children:[(0,Ce.jsx)(_e,{to:"/",className:"nav-link",children:"HOME"}),(0,Ce.jsx)(_e,{to:"/services",className:"nav-link",children:"SERVICES"}),(0,Ce.jsx)(_e,{to:"/resources",className:"nav-link",children:"RESOURCES"}),(0,Ce.jsx)(_e,{to:"/gallery",className:"nav-link",children:"GALLERY"}),(0,Ce.jsx)(_e,{to:"/about",className:"nav-link",children:"ABOUT"})]}),(0,Ce.jsx)(_e,{to:"/contact",className:"contact-button",children:"CONTACT"})]})}),Te=()=>(0,Ce.jsx)("footer",{className:"footer",children:(0,Ce.jsxs)("div",{className:"footer-content",children:[(0,Ce.jsxs)("div",{className:"footer-section",children:[(0,Ce.jsxs)(_e,{to:"/",className:"footer-logo",children:[(0,Ce.jsx)("div",{className:"footer-logo-icon",children:(0,Ce.jsx)("img",{src:"/images/logos/mpt-logo.jpeg",alt:"MPT Logo",className:"footer-logo-image"})}),(0,Ce.jsx)("div",{className:"footer-logo-text",children:"Movement Performance Training"})]}),(0,Ce.jsx)("div",{className:"tripadvisor-badge",children:"2021 Travellers' Choice Tripadvisor"})]}),(0,Ce.jsxs)("div",{className:"footer-section",children:[(0,Ce.jsx)("h3",{className:"footer-title",children:"GET IN TOUCH"}),(0,Ce.jsxs)("div",{className:"footer-links",children:[(0,Ce.jsxs)("div",{className:"footer-link",children:[(0,Ce.jsx)("span",{className:"contact-icon",children:"\ud83d\udccd"}),(0,Ce.jsx)("span",{className:"contact-text",children:"Ezyfit Health Club, Birtinya, QLD 4575"})]}),(0,Ce.jsxs)("div",{className:"footer-link",children:[(0,Ce.jsx)("span",{className:"contact-icon",children:"\ud83d\udcde"}),(0,Ce.jsx)("span",{className:"contact-text",children:"04 98 471 509"})]}),(0,Ce.jsxs)("div",{className:"footer-link",children:[(0,Ce.jsx)("span",{className:"contact-icon",children:"\u2709\ufe0f"}),(0,Ce.jsx)("span",{className:"contact-text",children:"chloebarrettraining@icloud.com"})]})]})]}),(0,Ce.jsxs)("div",{className:"footer-section",children:[(0,Ce.jsx)("h3",{className:"footer-title",children:"USEFUL LINKS"}),(0,Ce.jsxs)("div",{className:"footer-links",children:[(0,Ce.jsx)(_e,{to:"/",className:"footer-link",children:"Home"}),(0,Ce.jsx)(_e,{to:"/about",className:"footer-link",children:"About Us"}),(0,Ce.jsx)(_e,{to:"/resources",className:"footer-link",children:"Blog"}),(0,Ce.jsx)(_e,{to:"/services",className:"footer-link",children:"Services"}),(0,Ce.jsx)(_e,{to:"/privacy",className:"footer-link",children:"Privacy Policies"}),(0,Ce.jsx)(_e,{to:"/terms",className:"footer-link",children:"Terms & Conditions"}),(0,Ce.jsx)(_e,{to:"/faqs",className:"footer-link",children:"FAQs"})]})]}),(0,Ce.jsxs)("div",{className:"footer-section",children:[(0,Ce.jsx)("h3",{className:"footer-title",children:"FOLLOW US"}),(0,Ce.jsxs)("div",{className:"footer-links",children:[(0,Ce.jsxs)("a",{href:"https://www.facebook.com/movementperformancetraining",target:"_blank",rel:"noopener noreferrer",className:"footer-link",children:[(0,Ce.jsx)("span",{className:"social-icon",children:"f"}),"Facebook"]}),(0,Ce.jsxs)("a",{href:"https://www.instagram.com/movementperformancetraining",target:"_blank",rel:"noopener noreferrer",className:"footer-link",children:[(0,Ce.jsx)("span",{className:"social-icon",children:"\ud83d\udcf7"}),"Instagram"]})]})]})]})}),Pe=()=>{const[e,n]=(0,t.useState)(!1),[i,s]=(0,t.useState)([{id:1,text:"Hi! I'm your Movement Performance Training assistant. How can I help you today?",sender:"bot",timestamp:new Date}]),[a,r]=(0,t.useState)(""),[o,l]=(0,t.useState)(!1),c=(0,t.useRef)(null);(0,t.useEffect)(()=>{(()=>{var e;null===(e=c.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})})()},[i]);const d=e=>{if(!e.trim())return;const t={id:Date.now(),text:e.trim(),sender:"user",timestamp:new Date};s(e=>[...e,t]);const n=(e=>{const t=e.toLowerCase().trim(),n={greetings:{patterns:["hello","hi","hey","good morning","good afternoon","good evening","greetings"],response:"Hello! Welcome to Movement Performance Training! I'm here to help you with anything about our training programs, booking, equipment, or any questions you might have. What would you like to know today?"},yes:{patterns:["yes","yeah","yep","sure","ok","okay","alright","definitely","absolutely"],response:"Excellent! You can book your free consultation by clicking any 'Book Now' button on our website. During the consultation, we'll discuss your goals and create a personalized training plan. What type of training interests you most?"},no:{patterns:["no","not","nope","maybe","later","not now","not yet"],response:"No problem at all! Take your time to think about it. Feel free to ask me any other questions about our training programs, pricing, equipment, or anything else. I'm here whenever you're ready!"},thanks:{patterns:["thank","thanks","appreciate","grateful"],response:"You're very welcome! I'm glad I could help. If you have any more questions or would like to book a consultation, just let me know!"},goodbye:{patterns:["bye","goodbye","see you","farewell","take care"],response:"Goodbye! Thanks for chatting with us. Don't forget to book your free consultation when you're ready to start your training journey. Have a great day!"},interest:{patterns:["interested","sounds good","cool","awesome","amazing","fantastic","love it","perfect"],response:"That's fantastic! We'd love to help you get started. You can book your free consultation to discuss your goals and create a personalized training plan. What type of training interests you most?"},concerns:{patterns:["worried","scared","nervous","afraid","concerned","fear","anxious","intimidated"],response:"I completely understand your concerns! Many beginners feel exactly the same way. Our certified instructors specialize in beginner training and will make sure you feel safe and comfortable every step of the way. We start with the basics and progress at your pace. Would you like to learn more about our safety measures?"},questions:{patterns:["who","what","where","when","why","how","tell me","explain","describe"],response:"Great question! We're Movement Performance Training, specializing in water sports. We offer kitesurfing, hydrofoil, and wing foil training with certified instructors. What would you like to know more about?"},urgent:{patterns:["now","today","asap","immediately","right away","quickly"],response:"Perfect! You can book your consultation right now by clicking any 'Book Now' button on our website. We often have same-day availability. What's your preferred time?"},budget:{patterns:["expensive","cheap","affordable","budget","money","cost","price","worth it"],response:"I understand budget is important! Our packages start from $299 and include all equipment and safety gear. We also offer payment plans and group discounts. During your consultation, we can discuss options that fit your budget. What's your budget range?"},experience:{patterns:["beginner","new","never done","experience","skill","level","first time","never tried"],response:"Perfect! We specialize in beginner training. Many of our students had never tried these sports before and now they absolutely love it! We'll start with the basics and progress at your pace. What's your current experience level?"},equipment:{patterns:["equipment","gear","bring","need","supplies","what should i bring","what do i need"],response:"Great question! Just bring swimwear, a towel, and sunscreen. We provide all the professional equipment including kites, boards, harnesses, and safety gear. Any specific equipment questions?"},safety:{patterns:["safe","safety","insurance","dangerous","risk","hurt","injured","accident"],response:"Safety is our absolute top priority! We have comprehensive insurance and certified instructors. All safety equipment is provided and we follow strict safety protocols. We've trained thousands of students with an excellent safety record. Any specific safety concerns?"},services:{patterns:["services","offer","training","programs","what do you do","classes","lessons"],response:"We offer kitesurfing, hydrofoil, and wing foil training programs. All include professional instruction and safety gear. What interests you most?"},booking:{patterns:["book","lesson","appointment","consultation","schedule","how to start","get started"],response:"Book your free 30-minute consultation! Click any 'Book Now' button on our website. We'll discuss your goals and create a personalized plan."},pricing:{patterns:["prices","cost","how much","expensive","affordable","budget"],response:"Packages start from $299 for beginners up to $799 for advanced. All include equipment and safety gear. Which program interests you?"},groupPrivate:{patterns:["group","private","individual","alone","friends","together","solo"],response:"We offer both group and private lessons! Group lessons are more cost-effective. Private lessons provide one-on-one instruction."},weather:{patterns:["weather","wind","conditions","when","best time","season","summer","winter"],response:"We train in mornings and afternoons when conditions are optimal. We monitor weather and reschedule if needed."},location:{patterns:["where","location","place","address","meet","venue"],response:"We train at various locations depending on conditions. We'll discuss the best spots during your consultation."},ageFitness:{patterns:["age","old","young","fitness","fit","physical","athletic","out of shape"],response:"Our programs suit various ages and fitness levels. We'll assess your level during consultation."},duration:{patterns:["how long","duration","time","hours","minutes","session length"],response:"Beginner sessions are typically 2-3 hours, advanced can be longer."}};for(const[s,a]of Object.entries(n))if(a.patterns.some(e=>t.includes(e)))return a.response;if(t.split(/\s+/).filter(e=>["services","price","book","equipment","safety","beginner","group","private"].includes(e)).length>1)return"That's a great multi-part question! Let me address each part: We offer kitesurfing, hydrofoil, and wing foil training starting from $299. You can book a free consultation to discuss your specific needs, equipment requirements, and whether group or private lessons work better for you. What aspect would you like to focus on first?";if(t.includes("feel")||t.includes("think")||t.includes("believe")||t.includes("opinion"))return"I appreciate you sharing your thoughts! At Movement Performance Training, we understand that everyone has different feelings and concerns about trying new sports. That's exactly why we offer personalized consultations - to address your specific thoughts and create a plan that feels right for you. What are you thinking about most?";if(t.includes("vs")||t.includes("versus")||t.includes("or")||t.includes("better")||t.includes("compare"))return"Great question about comparisons! We offer kitesurfing, hydrofoil, and wing foil - each has unique benefits. Kitesurfing is great for wind power, hydrofoil for speed and efficiency, and wing foil for versatility. During your consultation, we can discuss which sport matches your goals and preferences best. What interests you most?";if(t.includes("goal")||t.includes("plan")||t.includes("future")||t.includes("want to")||t.includes("hope to"))return"I love that you're thinking about your goals! That's exactly what we focus on during consultations. Whether you want to learn for fun, competition, fitness, or adventure, we'll create a personalized training plan to help you achieve your specific goals. What's your main goal with water sports?";if(t.includes("tried")||t.includes("did")||t.includes("experience")||t.includes("before")||t.includes("used to"))return"That's interesting! Your previous experience will definitely help. Whether you're completely new or have some background, we'll build on what you know and help you progress safely. During your consultation, we'll discuss your experience level and create a plan that's perfect for where you're starting from. What's your background with water sports?";if(t.includes("how does")||t.includes("what is")||t.includes("explain")||t.includes("technical")||t.includes("work"))return"Great technical question! Each sport works differently - kitesurfing uses wind power, hydrofoil uses a foil for lift, and wing foil combines both. The technical aspects are fascinating, but the best way to understand them is through hands-on experience. During your consultation, our instructors can explain the technical details and show you how everything works. What technical aspect interests you most?";const i=["That's an interesting question! I'd love to help you with that. We offer comprehensive water sports training including kitesurfing, hydrofoil, and wing foil. Would you like to book a free consultation to get detailed, personalized information about this topic?","I appreciate your question! At Movement Performance Training, we specialize in helping people discover water sports. We offer kitesurfing, hydrofoil, and wing foil training with certified instructors. A free consultation would be perfect to discuss your specific needs. Interested?","That's a great question! We're here to help with all aspects of water sports training. We offer kitesurfing, hydrofoil, and wing foil programs. The best way to get detailed information is through our free consultation where we can address your specific needs. Would you like to schedule one?"];return i[Math.floor(Math.random()*i.length)]})(e),i={id:Date.now()+1,text:n,sender:"bot",timestamp:new Date};setTimeout(()=>{s(e=>[...e,i])},500)};return(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsxs)("button",{className:"chatbot-toggle",onClick:()=>{n(!e)},children:[(0,Ce.jsx)("span",{className:"chatbot-icon",children:"\ud83d\udcac"}),(0,Ce.jsx)("span",{className:"chatbot-label",children:"Chat with us"})]}),e&&(0,Ce.jsx)("div",{className:"chatbot-overlay",onClick:()=>n(!1),children:(0,Ce.jsxs)("div",{className:"chatbot-container",onClick:e=>e.stopPropagation(),children:[(0,Ce.jsxs)("div",{className:"chatbot-header",children:[(0,Ce.jsxs)("div",{className:"chatbot-header-info",children:[(0,Ce.jsx)("div",{className:"chatbot-avatar",children:"\ud83c\udf0a"}),(0,Ce.jsxs)("div",{children:[(0,Ce.jsx)("h3",{children:"Movement Performance Training"}),(0,Ce.jsx)("p",{children:"Online Assistant"})]})]}),(0,Ce.jsx)("button",{className:"chatbot-close",onClick:()=>n(!1),children:"\xd7"})]}),(0,Ce.jsxs)("div",{className:"chatbot-messages",children:[i.map(e=>(0,Ce.jsx)("div",{className:"message ".concat(e.sender),children:(0,Ce.jsxs)("div",{className:"message-content",children:[(0,Ce.jsx)("p",{children:e.text}),(0,Ce.jsx)("span",{className:"message-time",children:e.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},e.id)),(0,Ce.jsx)("div",{ref:c})]}),(0,Ce.jsx)("div",{className:"quick-questions",children:["What services do you offer?","I'm a complete beginner - can you help?","How much does training cost?","What should I bring to my first lesson?","Do you offer group or private lessons?","Is it safe for beginners?","What's the best time to train?","How do I get started?"].map((e,t)=>(0,Ce.jsx)("button",{className:"quick-question-btn",onClick:()=>(e=>{d(e)})(e),children:e},t))}),(0,Ce.jsxs)("form",{className:"chatbot-input",onSubmit:e=>{e.preventDefault(),d(a),r("")},children:[(0,Ce.jsx)("input",{type:"text",placeholder:"Type your message...",value:a,onChange:e=>r(e.target.value),disabled:o}),(0,Ce.jsx)("button",{type:"submit",disabled:!a.trim()||o,children:(0,Ce.jsx)("span",{children:"\u27a4"})})]})]})})]})};function Ie(e){return Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ie(e)}function Re(e){var t=function(e,t){if("object"!=Ie(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Ie(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ie(t)?t:t+""}function Le(e,t,n){return(t=Re(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach(function(t){Le(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Oe={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},We=t.createContext&&t.createContext(Oe),Be=["attr","size","title"];function Ue(e,t){if(null==e)return{};var n,i,s=function(e,t){if(null==e)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function ze(){return ze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ze.apply(this,arguments)}function He(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function Ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?He(Object(n),!0).forEach(function(t){Ve(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):He(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ve(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qe(e){return e&&e.map((e,n)=>t.createElement(e.tag,Ge({key:n},e.attr),qe(e.child)))}function Ye(e){return n=>t.createElement(Ke,ze({attr:Ge({},e.attr)},n),qe(e.child))}function Ke(e){var n=n=>{var i,{attr:s,size:a,title:r}=e,o=Ue(e,Be),l=a||n.size||"1em";return n.className&&(i=n.className),e.className&&(i=(i?i+" ":"")+e.className),t.createElement("svg",ze({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,o,{className:i,style:Ge(Ge({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),r&&t.createElement("title",null,r),e.children)};return void 0!==We?t.createElement(We.Consumer,null,e=>n(e)):n(Oe)}function Xe(e){return Ye({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function Qe(e){return Ye({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(e)}function $e(e){return Ye({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M528 448H112c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h416c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm64-320c-26.5 0-48 21.5-48 48 0 7.1 1.6 13.7 4.4 19.8L476 239.2c-15.4 9.2-35.3 4-44.2-11.6L350.3 85C361 76.2 368 63 368 48c0-26.5-21.5-48-48-48s-48 21.5-48 48c0 15 7 28.2 17.7 37l-81.5 142.6c-8.9 15.6-28.9 20.8-44.2 11.6l-72.3-43.4c2.7-6 4.4-12.7 4.4-19.8 0-26.5-21.5-48-48-48S0 149.5 0 176s21.5 48 48 48c2.6 0 5.2-.4 7.7-.8L128 416h384l72.3-192.8c2.5.4 5.1.8 7.7.8 26.5 0 48-21.5 48-48s-21.5-48-48-48z"},child:[]}]})(e)}function Je(e){return Ye({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function Ze(e){return Ye({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(e)}function et(e){return Ye({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(e)}function tt(e){return Ye({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505.12019,19.09375c-1.18945-5.53125-6.65819-11-12.207-12.1875C460.716,0,435.507,0,410.40747,0,307.17523,0,245.26909,55.20312,199.05238,128H94.83772c-16.34763.01562-35.55658,11.875-42.88664,26.48438L2.51562,253.29688A28.4,28.4,0,0,0,0,264a24.00867,24.00867,0,0,0,24.00582,24H127.81618l-22.47457,22.46875c-11.36521,11.36133-12.99607,32.25781,0,45.25L156.24582,406.625c11.15623,11.1875,32.15619,13.15625,45.27726,0l22.47457-22.46875V488a24.00867,24.00867,0,0,0,24.00581,24,28.55934,28.55934,0,0,0,10.707-2.51562l98.72834-49.39063c14.62888-7.29687,26.50776-26.5,26.50776-42.85937V312.79688c72.59753-46.3125,128.03493-108.40626,128.03493-211.09376C512.07526,76.5,512.07526,51.29688,505.12019,19.09375ZM384.04033,168A40,40,0,1,1,424.05,128,40.02322,40.02322,0,0,1,384.04033,168Z"},child:[]}]})(e)}function nt(e){return Ye({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(e)}function it(e){return Ye({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(e)}const st=function(){const[e,n]=(0,t.useState)({isPlaying:!1,isLoaded:!1,currentTime:0}),[i,s]=(0,t.useState)({currentIndex:0,isAutoPlaying:!0,transitionInProgress:!1}),[a,r]=(0,t.useState)(new Set),[o,l]=(0,t.useState)({isVisible:!1,scrollY:0,direction:"down"}),[c,d]=(0,t.useState)({x:0,y:0}),[u,h]=(0,t.useState)(!1),[p,m]=(0,t.useState)(0),f=((0,t.useRef)(null),(0,t.useRef)(null),(0,t.useRef)(null)),g=(0,t.useRef)(null),v=(0,t.useRef)(null);(0,t.useEffect)(()=>{const e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("visible"),r(t=>new Set([...t,e.target.id])))})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});return v.current=e,()=>{v.current&&v.current.disconnect()}},[]),(0,t.useEffect)(()=>{if(v.current){document.querySelectorAll(".scroll-fade-in").forEach(e=>v.current.observe(e))}});const y=(0,t.useMemo)(()=>[{id:"testimonial-001",name:"Dr. Sarah Johnson",role:"Performance Director, Olympic Committee",credentials:"PhD Sports Science, Olympic Performance Consultant",image:"\ud83d\udc69\u200d\ud83c\udfeb",text:"The systematic approach and professional standards at MPT are exemplary. Their methodology has consistently delivered measurable results for elite athletes across multiple disciplines.",rating:5,achievement:"\ud83c\udfc5 Olympic Performance Consultant",verified:!0,company:"Sports Performance Institute",experience:"15+ years elite sports",luxury:"Diamond Elite Member"},{id:"testimonial-002",name:"Michael Chen",role:"Head Coach, National Sports Institute",credentials:"Master's in Coaching Science, Professional Certification",image:"\ud83d\udc68\u200d\ud83c\udfeb",text:"MPT's commitment to excellence and their evidence-based training protocols have set new industry standards. Their facilities and expertise are world-class.",rating:5,achievement:"\ud83c\udfc6 Professional Coaching Certification",verified:!0,company:"National Sports Institute",experience:"12+ years professional coaching",luxury:"Platinum Elite Member"},{id:"testimonial-003",name:"Emma Rodriguez",role:"Sports Science Researcher",credentials:"PhD Exercise Physiology, Research Director",image:"\ud83c\udfc4\u200d\u2640\ufe0f",text:"The level of professionalism and attention to detail is exceptional. MPT represents the gold standard in performance training and athlete development.",rating:5,achievement:"\ud83c\udf1f Sports Science Accreditation",verified:!0,company:"Sports Research Institute",experience:"18+ years research experience",luxury:"Gold Elite Member"}],[]),b=(0,t.useMemo)(()=>[{id:"feature-002",icon:"\ud83d\udc68\u200d\ud83c\udfeb",title:"Certified Expert Instructors",description:"Highly qualified and experienced professionals dedicated to delivering exceptional training and mentorship.",benefits:["Certified Professionals","Expert Guidance","Personalized Attention"],category:"instruction",priority:"high"},{id:"feature-004",icon:"\ud83d\udc8e",title:"Personalized Excellence",description:"Data-driven, customized training programs designed to unlock maximum potential and achieve measurable, sustainable results.",benefits:["Individual Assessment","Progress Tracking","Adaptive Programming"],category:"methodology",priority:"high"}],[]),x=((0,t.useCallback)(()=>{alert("Professional consultation feature coming soon!\n\nThis will include:\n\u2022 Personalized performance assessment\n\u2022 Custom training program design\n\u2022 Professional development roadmap\n\u2022 VIP consultation services")},[]),(0,t.useCallback)(e=>{i.transitionInProgress||(s(t=>Fe(Fe({},t),{},{currentIndex:e,transitionInProgress:!0})),setTimeout(()=>{s(e=>Fe(Fe({},e),{},{transitionInProgress:!1}))},600))},[i.transitionInProgress]));return(0,t.useEffect)(()=>{l(e=>Fe(Fe({},e),{},{isVisible:!0}))},[]),(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)("style",{children:"\n        "}),(0,Ce.jsxs)("div",{className:"home-page luxury-home-page",children:[(0,Ce.jsxs)("div",{style:{height:"100vh",position:"relative",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",color:"white"},children:[(0,Ce.jsx)("img",{src:"/images/hero/homepage.jpeg",alt:"Hero Background",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:-2}}),(0,Ce.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,0.6)",zIndex:-1}}),(0,Ce.jsxs)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",zIndex:1},children:[(0,Ce.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},children:[...Array(20)].map((e,t)=>(0,Ce.jsx)("div",{style:{position:"absolute",width:"6px",height:"6px",background:"radial-gradient(circle, rgba(8, 145, 178, 0.8), rgba(8, 145, 178, 0.2))",borderRadius:"50%",left:"".concat(100*Math.random(),"%"),top:"".concat(100*Math.random(),"%"),animation:"luxuryFloat ".concat(5+3*Math.random(),"s ease-in-out infinite"),animationDelay:"".concat(3*Math.random(),"s"),boxShadow:"0 0 20px rgba(8, 145, 178, 0.5)"}},t))}),(0,Ce.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none"},children:[...Array(20)].map((e,t)=>(0,Ce.jsx)("div",{style:{position:"absolute",width:"".concat(6+8*Math.random(),"px"),height:"".concat(6+8*Math.random(),"px"),background:"radial-gradient(circle, \n                    rgba(255, 215, 0, ".concat(.8+.2*Math.random(),"), \n                    rgba(255, 215, 0, ").concat(.2+.3*Math.random(),"),\n                    rgba(255, 255, 255, ").concat(.1+.2*Math.random(),"))"),borderRadius:"50%",left:"".concat(100*Math.random(),"%"),top:"".concat(100*Math.random(),"%"),animation:"goldenFloat ".concat(3+4*Math.random(),"s ease-in-out infinite"),animationDelay:"".concat(3*Math.random(),"s"),boxShadow:"0 0 ".concat(15+20*Math.random(),"px rgba(255, 215, 0, ").concat(.4+.4*Math.random(),")"),filter:"brightness(".concat(.8+.4*Math.random(),")")}},"luxury-golden-".concat(t)))}),(0,Ce.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none"},children:[...Array(15)].map((e,t)=>(0,Ce.jsx)("div",{style:{position:"absolute",width:"".concat(3+5*Math.random(),"px"),height:"".concat(3+5*Math.random(),"px"),background:"linear-gradient(45deg, \n                    rgba(255, 215, 0, ".concat(.9+.1*Math.random(),"), \n                    rgba(255, 255, 255, ").concat(.6+.3*Math.random(),"),\n                    rgba(255, 215, 0, ").concat(.7+.2*Math.random(),"))"),borderRadius:"2px",left:"".concat(100*Math.random(),"%"),top:"".concat(100*Math.random(),"%"),animation:"goldenSparkle ".concat(2+3*Math.random(),"s ease-in-out infinite"),animationDelay:"".concat(4*Math.random(),"s"),transform:"rotate(45deg)",filter:"drop-shadow(0 0 ".concat(8+12*Math.random(),"px rgba(255, 215, 0, ").concat(.5+.4*Math.random(),"))")}},"luxury-sparkle-".concat(t)))}),(0,Ce.jsx)("div",{style:{position:"absolute",top:"50%",left:"50%",width:"1200px",height:"1200px",background:"radial-gradient(circle, \n              rgba(255, 215, 0, 0.2), \n              rgba(255, 215, 0, 0.1) 30%,\n              rgba(255, 255, 255, 0.08) 60%,\n              transparent 80%)",borderRadius:"50%",transform:"translate(-50%, -50%)",animation:"luxuryGlow 6s ease-in-out infinite",filter:"blur(2px)"}}),(0,Ce.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none"},children:[...Array(25)].map((e,t)=>(0,Ce.jsx)("div",{style:{position:"absolute",width:"".concat(1+4*Math.random(),"px"),height:"".concat(1+4*Math.random(),"px"),background:"rgba(255, 215, 0, ".concat(.2+.5*Math.random(),")"),borderRadius:"50%",left:"".concat(100*Math.random(),"%"),top:"".concat(100*Math.random(),"%"),animation:"luxuryFloat ".concat(3+5*Math.random(),"s ease-in-out infinite"),animationDelay:"".concat(4*Math.random(),"s"),boxShadow:"0 0 ".concat(8+15*Math.random(),"px rgba(255, 215, 0, ").concat(.3+.4*Math.random(),")")}},"luxury-particle-".concat(t)))})]}),(0,Ce.jsxs)("div",{style:{zIndex:10,animation:"slideInUp 1.2s ease-out 0.3s both"},children:[(0,Ce.jsx)("div",{className:"scroll-fade-in",id:"hero-title",style:{fontSize:"1.8rem",fontWeight:"600",letterSpacing:"0.1em",textTransform:"uppercase",color:"#ffffff",marginBottom:"2rem",textAlign:"center",textShadow:"0 2px 10px rgba(0, 0, 0, 0.5)"},children:"Movement Performance Training"}),(0,Ce.jsx)("h1",{className:"scroll-fade-in",id:"hero-headline",style:{fontSize:"3.2rem",fontWeight:"300",marginBottom:"1.5rem",lineHeight:"1.2",letterSpacing:"-0.02em",color:"#ffffff",textAlign:"center",textShadow:"0 4px 20px rgba(0, 0, 0, 0.3)"},children:"Unlock Your Performance Potential"}),(0,Ce.jsx)("p",{style:{fontSize:"1.2rem",marginBottom:"2rem",maxWidth:"600px",margin:"0 auto 2rem auto",color:"#e2e8f0",animation:"slideInUp 1s ease-out 0.9s both, luxurySubtitleFade 2s ease-in-out infinite",textShadow:"0 0 20px rgba(226, 232, 240, 0.3)"},children:"Experience world-class training methodologies backed by scientific research and proven results. Our comprehensive programs are designed to optimize performance, enhance capabilities, and deliver measurable outcomes for elite athletes and professionals."}),(0,Ce.jsxs)("button",{className:"simple-hover scroll-fade-in",id:"hero-button",style:{padding:"16px 32px",fontSize:"1.1rem",fontWeight:"600",background:"linear-gradient(135deg, #0891b2, #0ea5e9)",color:"#ffffff",border:"none",borderRadius:"8px",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(8, 145, 178, 0.3)"},onMouseEnter:e=>{e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 8px 25px rgba(8, 145, 178, 0.5)"},onMouseLeave:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 4px 15px rgba(8, 145, 178, 0.3)"},onClick:()=>window.location.href="/booking",children:["Get Started Today",(0,Ce.jsx)("div",{style:{position:"absolute",top:0,left:"-100%",width:"100%",height:"100%",background:"linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent)",animation:"luxuryShimmer 2s infinite",animationDelay:"1s"}}),(0,Ce.jsx)("div",{style:{position:"absolute",top:0,left:"-100%",width:"100%",height:"100%",background:"linear-gradient(90deg, transparent, rgba(255, 215, 0, 0.3), transparent)",animation:"luxuryShimmer 3s infinite",animationDelay:"2s"}})]})]}),(0,Ce.jsxs)("div",{style:{position:"absolute",bottom:"30px",left:"50%",transform:"translateX(-50%)",zIndex:3,display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",animation:"luxuryScrollIndicator 2s ease-in-out infinite"},children:[(0,Ce.jsx)("div",{style:{width:"2px",height:"40px",background:"linear-gradient(to bottom, #0891b2, rgba(255, 215, 0, 0.6), transparent)",animation:"luxuryScrollLine 2s ease-in-out infinite",boxShadow:"0 0 10px rgba(255, 215, 0, 0.3)"}}),(0,Ce.jsx)("div",{style:{color:"#0891b2",fontSize:"0.75rem",textTransform:"uppercase",letterSpacing:"2px",fontWeight:"600",animation:"luxuryScrollText 3s ease-in-out infinite",textShadow:"0 0 10px rgba(255, 215, 0, 0.5)"},children:"Scroll to Explore"})]})]}),(0,Ce.jsx)("section",{className:"mpt-section luxury-mpt",children:(0,Ce.jsx)("div",{className:"container",children:(0,Ce.jsxs)("div",{className:"mpt-content",children:[(0,Ce.jsxs)("div",{className:"mpt-text scroll-fade-in",id:"mpt-text",children:[(0,Ce.jsx)("div",{className:"mpt-header",children:(0,Ce.jsx)("h2",{className:"luxury-mpt-title",children:"Movement Performance Training"})}),(0,Ce.jsx)("div",{className:"mpt-description",children:(0,Ce.jsx)("p",{className:"luxury-mpt-description",children:"MPT specializes in movement performance training, helping athletes and professionals improve their movement quality, efficiency, and performance. We focus on enhancing movement patterns, strength, and overall athletic capabilities."})}),(0,Ce.jsx)("div",{className:"mpt-features luxury-features",children:(0,Ce.jsxs)("div",{className:"features-grid",children:[(0,Ce.jsxs)("div",{className:"feature-item luxury-feature-item",children:[(0,Ce.jsx)(Xe,{}),(0,Ce.jsx)("span",{children:"Movement Quality Assessment"})]}),(0,Ce.jsxs)("div",{className:"feature-item luxury-feature-item",children:[(0,Ce.jsx)(Xe,{}),(0,Ce.jsx)("span",{children:"Performance Enhancement"})]}),(0,Ce.jsxs)("div",{className:"feature-item luxury-feature-item",children:[(0,Ce.jsx)(Xe,{}),(0,Ce.jsx)("span",{children:"Injury Prevention Focus"})]})]})})]}),(0,Ce.jsx)("div",{className:"mpt-image luxury-image scroll-fade-in",id:"mpt-image",style:{backgroundImage:"url('/mp.jpeg?v=4')",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",width:"100%",height:"400px",borderRadius:"15px",minHeight:"300px"}})]})})}),(0,Ce.jsx)("section",{className:"thrill-seekers luxury-services",children:(0,Ce.jsx)("div",{className:"container",children:(0,Ce.jsxs)("div",{className:"thrill-content",children:[(0,Ce.jsxs)("div",{className:"thrill-text",children:[(0,Ce.jsxs)("div",{className:"section-badge luxury-section-badge",children:[(0,Ce.jsx)(tt,{}),(0,Ce.jsx)("span",{children:"Professional Services"}),(0,Ce.jsx)(it,{className:"luxury-sparkle"})]}),(0,Ce.jsx)("h3",{className:"luxury-services-subtitle",children:"TRAINING SOLUTIONS"}),(0,Ce.jsx)("h2",{className:"luxury-services-title",children:"Performance Development"}),(0,Ce.jsx)("p",{className:"luxury-services-description",children:"Our approach combines training methodologies with practical applications to help individuals improve their movement performance and achieve their goals."})]}),(0,Ce.jsx)("div",{style:{padding:"20px",textAlign:"center"},children:(0,Ce.jsxs)("video",{controls:!0,style:{width:"100%",maxWidth:"800px",height:"auto",aspectRatio:"16/9",borderRadius:"15px",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.3)",display:"block",margin:"0 auto",backgroundColor:"#000"},preload:"metadata",children:[(0,Ce.jsx)("source",{src:"/videos/training-video.mp4",type:"video/mp4"}),"Your browser does not support the video tag.",(0,Ce.jsx)("a",{href:"/videos/training-video.mp4",target:"_blank",rel:"noreferrer",children:"Download video"})]})})]})})}),(0,Ce.jsx)("section",{className:"features luxury-features",ref:f,children:(0,Ce.jsxs)("div",{className:"container",children:[(0,Ce.jsxs)("div",{className:"section-header luxury-header scroll-fade-in",id:"features-header",children:[(0,Ce.jsxs)("div",{className:"section-badge luxury-section-badge",children:[(0,Ce.jsx)(it,{}),(0,Ce.jsx)("span",{children:"Professional Excellence"})]}),(0,Ce.jsx)("h2",{className:"luxury-features-title",children:"World-Class Training Programs"}),(0,Ce.jsx)("p",{className:"luxury-features-description",children:"Comprehensive programs designed to elevate your performance to elite standards"})]}),(0,Ce.jsx)("div",{className:"features-grid luxury-features-grid",children:b.map((e,t)=>(0,Ce.jsxs)("div",{className:"feature-card luxury-feature-card scroll-fade-in",id:"feature-".concat(t),children:[(0,Ce.jsx)("h3",{className:"luxury-feature-title",children:e.title}),(0,Ce.jsx)("p",{className:"luxury-feature-description",children:e.description}),(0,Ce.jsx)("div",{className:"feature-benefits luxury-benefits",children:e.benefits.map((t,n)=>(0,Ce.jsxs)("div",{className:"benefit-item luxury-benefit-item",children:[(0,Ce.jsx)(Xe,{}),(0,Ce.jsx)("span",{children:t})]},"".concat(e.id,"-benefit-").concat(n)))}),(0,Ce.jsx)("div",{className:"feature-luxury-border"})]},e.id))})]})}),(0,Ce.jsx)("section",{className:"testimonials luxury-testimonials",ref:g,children:(0,Ce.jsxs)("div",{className:"container",children:[(0,Ce.jsxs)("div",{className:"section-header luxury-header scroll-fade-in",id:"testimonials-header",children:[(0,Ce.jsxs)("div",{className:"section-badge luxury-section-badge",children:[(0,Ce.jsx)(it,{}),(0,Ce.jsx)("span",{children:"Professional Endorsements"}),(0,Ce.jsx)($e,{className:"luxury-crown"})]}),(0,Ce.jsx)("h2",{className:"luxury-testimonials-title",children:"Client Success Stories"}),(0,Ce.jsx)("p",{className:"luxury-testimonials-description",children:"Testimonials from professionals and clients that validate our commitment to excellence and dedication to results"})]}),(0,Ce.jsxs)("div",{className:"testimonials-container luxury-testimonials-container",children:[(0,Ce.jsx)("div",{className:"testimonials-track luxury-track",style:{transform:"translateX(-".concat(100*i.currentIndex,"%)")},children:y.map(e=>(0,Ce.jsxs)("div",{className:"testimonial-card luxury-testimonial-card scroll-fade-in",id:"testimonial-".concat(e.id),children:[(0,Ce.jsxs)("div",{className:"testimonial-header luxury-header",children:[(0,Ce.jsx)("div",{className:"testimonial-avatar luxury-avatar",children:e.image}),(0,Ce.jsxs)("div",{className:"testimonial-info luxury-info",children:[(0,Ce.jsx)("h4",{className:"luxury-testimonial-name",children:e.name}),(0,Ce.jsx)("span",{className:"role luxury-role",children:e.role}),(0,Ce.jsx)("div",{className:"credentials luxury-credentials",children:e.credentials}),(0,Ce.jsx)("div",{className:"achievement-badge luxury-achievement",children:e.achievement}),(0,Ce.jsxs)("div",{className:"luxury-membership",children:[(0,Ce.jsx)($e,{}),(0,Ce.jsx)("span",{children:e.luxury})]})]}),(0,Ce.jsx)("div",{className:"testimonial-rating luxury-rating",children:[...Array(e.rating)].map((e,t)=>(0,Ce.jsx)(it,{className:"star luxury-star"},t))})]}),(0,Ce.jsx)("p",{className:"testimonial-text luxury-text",children:e.text}),(0,Ce.jsxs)("div",{className:"testimonial-credentials luxury-credentials",children:[(0,Ce.jsx)(nt,{}),(0,Ce.jsx)("span",{children:"Verified Professional"})]}),(0,Ce.jsxs)("div",{className:"testimonial-meta luxury-meta",children:[(0,Ce.jsx)("span",{className:"company luxury-company",children:e.company}),(0,Ce.jsx)("span",{className:"experience luxury-experience",children:e.experience})]}),(0,Ce.jsx)("div",{className:"testimonial-luxury-border"})]},e.id))}),(0,Ce.jsx)("div",{className:"testimonial-indicators luxury-indicators",children:y.map((e,t)=>(0,Ce.jsx)("button",{className:"indicator luxury-indicator ".concat(t===i.currentIndex?"active":""),onClick:()=>x(t),"aria-label":"Go to testimonial ".concat(t+1)},"indicator-".concat(t)))})]})]})}),(0,Ce.jsx)(Pe,{}),(0,Ce.jsx)("div",{className:"luxury-mouse-follower",style:{left:c.x,top:c.y}})]})]})},at={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_STRIPE_PUBLISHABLE_KEY:"pk_test_51S7Rs1234567890abcdefghijklmnopqrstuvwxyz"}.REACT_APP_API_URL||("localhost"===window.location.hostname?"http://localhost:8081/api":"".concat(window.location.origin,"/api"));console.log("API_BASE_URL configured as:",at),console.log("Current hostname:",window.location.hostname),console.log("Current origin:",window.location.origin);const rt=new class{constructor(){this.baseURL=at,this.token=localStorage.getItem("authToken")}setToken(e){this.token=e,localStorage.setItem("authToken",e)}removeToken(){this.token=null,localStorage.removeItem("authToken")}getHeaders(){const e={"Content-Type":"application/json"};return this.token&&(e.Authorization="Bearer ".concat(this.token)),e}async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const i="".concat(this.baseURL).concat(e),s=Fe({headers:this.getHeaders()},t);console.log("Making fetch request to:",i);const a=await fetch(i,s);if(console.log("Response status:",a.status,a.statusText),console.log("Response ok:",a.ok),401===a.status)throw this.removeToken(),window.location.href="/admin",new Error("Authentication required");if(403===a.status)throw new Error("Access denied");if(404===a.status)throw new Error("Resource not found");if(a.status>=500)throw new Error("Server error");let r=null;const o=a.headers.get("content-type");var n;if(o&&o.includes("application/json")?r=await a.json():200===a.status&&"OK"===a.statusText&&(r={success:!0}),!a.ok)throw new Error((null===(n=r)||void 0===n?void 0:n.message)||"Request failed");return r}catch(i){throw console.error("API Request Error:",i),i}}async get(e){console.log("API GET request to:","".concat(this.baseURL).concat(e));try{const t=await this.request(e,{method:"GET"});return console.log("API GET response:",t),t}catch(t){throw console.error("API GET error:",t),t}}async post(e,t){return this.request(e,{method:"POST",body:JSON.stringify(t)})}async put(e,t){return this.request(e,{method:"PUT",body:JSON.stringify(t)})}async delete(e){return this.request(e,{method:"DELETE"})}async uploadFile(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=new FormData;i.append("file",t),Object.keys(n).forEach(e=>{i.append(e,n[e])});try{const t="".concat(this.baseURL).concat(e);console.log("Upload URL:",t),console.log("Base URL:",this.baseURL),console.log("Endpoint:",e),console.log("FormData contents:");for(let[e,r]of i.entries())console.log(e,r);const n={method:"POST",body:i};console.log("Making upload request...");const s=await fetch(t,n);console.log("Response status:",s.status),console.log("Response headers:",s.headers);const a=await s.json();if(console.log("Response data:",a),!s.ok)throw new Error(a.message||"Upload failed");return a}catch(s){throw console.error("File Upload Error:",s),s}}},ot=rt,lt=[{id:1,name:"Personal Training",description:"One-on-one training sessions with certified trainers",price:"$99/hour",duration:"1 hour",category:"training"},{id:2,name:"Group Classes",description:"High-energy group fitness classes for all levels",price:"$99/class",duration:"45 minutes",category:"group"},{id:3,name:"Nutrition Coaching",description:"Personalized diet and nutrition guidance",price:"$99/month",duration:"Monthly program",category:"nutrition"}],ct={async getAllServices(){try{return await ot.get("/services")}catch(e){return console.log("Using fallback services data due to API error:",e.message),{success:!0,data:lt}}},async getServiceById(e){try{return await ot.get("/services/".concat(e))}catch(t){console.log("Using fallback service data due to API error:",t.message);const n=lt.find(t=>t.id===parseInt(e));return n?{success:!0,data:n}:{success:!1,error:"Service not found"}}},async createService(e){try{return await ot.post("/services",e)}catch(t){return console.log("Service creation failed due to API error:",t.message),{success:!1,error:"Service creation failed - using fallback mode"}}},async updateService(e,t){try{return await ot.put("/services/".concat(e),t)}catch(n){return console.log("Service update failed due to API error:",n.message),{success:!1,error:"Service update failed - using fallback mode"}}},async deleteService(e){try{return await ot.delete("/services/".concat(e))}catch(t){return console.log("Service deletion failed due to API error:",t.message),{success:!1,error:"Service deletion failed - using fallback mode"}}},async getServicesByCategory(e){try{return await ot.get("/services/category/".concat(e))}catch(t){console.log("Using fallback services by category due to API error:",t.message);return{success:!0,data:lt.filter(t=>t.category===e)}}},async getServiceCategories(){try{return await ot.get("/services/categories")}catch(e){console.log("Using fallback categories due to API error:",e.message);return{success:!0,data:[...new Set(lt.map(e=>e.category))]}}}};const dt=function(){const[e,n]=(0,t.useState)([]),[i,s]=(0,t.useState)(!0),[a,r]=(0,t.useState)(null);return(0,t.useEffect)(()=>{(async()=>{try{s(!0);const e=await ct.getAllServices();e.success?n(e.data):r("Failed to load services")}catch(e){r("Failed to load services"),console.error("Error fetching services:",e)}finally{s(!1)}})()},[]),console.log("Services component rendering with luxury animations",{services:e,loading:i,error:a}),(0,Ce.jsxs)("div",{className:"services-page",children:[(0,Ce.jsx)("section",{className:"services-hero",style:{background:"linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url('/images/hero/homepage.jpeg') center/cover",height:"60vh",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",color:"white"},children:(0,Ce.jsxs)("div",{className:"hero-content",children:[(0,Ce.jsx)("h1",{children:"Our Services"}),(0,Ce.jsx)("p",{children:"Comprehensive water sports training and coaching services designed to help you master the art of kitesurfing, hydrofoiling, and wing foiling."})]})}),(0,Ce.jsxs)("section",{className:"safety-section",style:{position:"relative",background:"linear-gradient(135deg, #f8fafc 0%, #ffffff 100%)",padding:"4rem 0"},children:[(0,Ce.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none"},children:[...Array(15)].map((e,t)=>(0,Ce.jsx)("div",{style:{position:"absolute",width:"".concat(3+5*Math.random(),"px"),height:"".concat(3+5*Math.random(),"px"),background:"linear-gradient(45deg, \n                  rgba(255, 215, 0, ".concat(.9+.1*Math.random(),"), \n                  rgba(255, 255, 255, ").concat(.6+.3*Math.random(),"),\n                  rgba(255, 215, 0, ").concat(.7+.2*Math.random(),"))"),borderRadius:"2px",left:"".concat(100*Math.random(),"%"),top:"".concat(100*Math.random(),"%"),animation:"goldenSparkle ".concat(2+3*Math.random(),"s ease-in-out infinite"),animationDelay:"".concat(4*Math.random(),"s"),transform:"rotate(45deg)",filter:"drop-shadow(0 0 ".concat(8+12*Math.random(),"px rgba(255, 215, 0, ").concat(.5+.4*Math.random(),"))")}},"training-sparkle-".concat(t)))}),(0,Ce.jsxs)("div",{className:"container",children:[(0,Ce.jsxs)("div",{className:"thrill-text",children:[(0,Ce.jsx)("h2",{className:"luxury-features-title",style:{color:"#0891b2",fontSize:"2.5rem",fontWeight:"800",textAlign:"center",marginBottom:"1rem"},children:"\u2728 Training Services \u2728"}),(0,Ce.jsx)("p",{className:"luxury-features-description",style:{color:"#64748b",fontSize:"1.2rem",textAlign:"center",marginBottom:"3rem"},children:"Comprehensive water sports training and coaching services designed to help you master the art of kitesurfing, hydrofoiling, and wing foiling"})]}),(0,Ce.jsx)("div",{className:"features-grid luxury-features-grid",children:i?(0,Ce.jsx)("div",{style:{textAlign:"center",padding:"2rem",color:"#64748b"},children:(0,Ce.jsx)("p",{children:"Loading services..."})}):a?(0,Ce.jsx)("div",{style:{textAlign:"center",padding:"2rem",color:"#ef4444"},children:(0,Ce.jsxs)("p",{children:["Error loading services: ",a]})}):0===e.length?(0,Ce.jsx)("div",{style:{textAlign:"center",padding:"2rem",color:"#64748b"},children:(0,Ce.jsx)("p",{children:"No services available at the moment."})}):e.map((e,t)=>(0,Ce.jsxs)("div",{className:"feature-card luxury-feature-card scroll-fade-in",children:[(0,Ce.jsx)("h3",{className:"luxury-feature-title",children:e.name}),(0,Ce.jsx)("p",{className:"luxury-feature-description",children:e.description}),(0,Ce.jsxs)("div",{className:"feature-benefits luxury-benefits",children:[(0,Ce.jsxs)("div",{className:"benefit-item luxury-benefit-item",children:[(0,Ce.jsx)(Xe,{}),(0,Ce.jsxs)("span",{children:["Category: ",e.category]})]}),(0,Ce.jsxs)("div",{className:"benefit-item luxury-benefit-item",children:[(0,Ce.jsx)(Xe,{}),(0,Ce.jsxs)("span",{children:["Price: $",e.price]})]}),(0,Ce.jsxs)("div",{className:"benefit-item luxury-benefit-item",children:[(0,Ce.jsx)(Xe,{}),(0,Ce.jsxs)("span",{children:["Status: ",e.isActive?"Active":"Inactive"]})]}),(0,Ce.jsxs)("div",{className:"benefit-item luxury-benefit-item",children:[(0,Ce.jsx)(Xe,{}),(0,Ce.jsx)("span",{children:"Professional Service"})]})]}),(0,Ce.jsx)("div",{className:"feature-luxury-border"})]},e.id))})]})]}),(0,Ce.jsx)("section",{className:"expertise-section",children:(0,Ce.jsxs)("div",{className:"container",children:[(0,Ce.jsx)("div",{className:"expertise-header",children:(0,Ce.jsx)("h2",{children:"My Expertise"})}),(0,Ce.jsxs)("div",{className:"expertise-tags",children:[(0,Ce.jsx)("div",{className:"expertise-tag",children:(0,Ce.jsx)("span",{children:"Sports Performance"})}),(0,Ce.jsx)("div",{className:"expertise-tag",children:(0,Ce.jsx)("span",{children:"Strength Training"})}),(0,Ce.jsx)("div",{className:"expertise-tag",children:(0,Ce.jsx)("span",{children:"Nutrition & Wellness"})}),(0,Ce.jsx)("div",{className:"expertise-tag",children:(0,Ce.jsx)("span",{children:"Injury Recovery"})}),(0,Ce.jsx)("div",{className:"expertise-tag",children:(0,Ce.jsx)("span",{children:"Movement Analysis"})}),(0,Ce.jsx)("div",{className:"expertise-tag",children:(0,Ce.jsx)("span",{children:"Competition Prep"})}),(0,Ce.jsx)("div",{className:"expertise-tag",children:(0,Ce.jsx)("span",{children:"Functional Training"})}),(0,Ce.jsx)("div",{className:"expertise-tag",children:(0,Ce.jsx)("span",{children:"Rehabilitation"})})]})]})}),(0,Ce.jsxs)("section",{className:"safety-section",children:[(0,Ce.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none"},children:[...Array(15)].map((e,t)=>(0,Ce.jsx)("div",{style:{position:"absolute",width:"".concat(3+5*Math.random(),"px"),height:"".concat(3+5*Math.random(),"px"),background:"linear-gradient(45deg, \n                  rgba(255, 215, 0, ".concat(.9+.1*Math.random(),"), \n                  rgba(255, 255, 255, ").concat(.6+.3*Math.random(),"),\n                  rgba(255, 215, 0, ").concat(.7+.2*Math.random(),"))"),borderRadius:"2px",left:"".concat(100*Math.random(),"%"),top:"".concat(100*Math.random(),"%"),animation:"goldenSparkle ".concat(2+3*Math.random(),"s ease-in-out infinite"),animationDelay:"".concat(4*Math.random(),"s"),transform:"rotate(45deg)",filter:"drop-shadow(0 0 ".concat(8+12*Math.random(),"px rgba(255, 215, 0, ").concat(.5+.4*Math.random(),"))")}},"luxury-sparkle-".concat(t)))}),(0,Ce.jsxs)("div",{className:"container",children:[(0,Ce.jsxs)("div",{className:"thrill-text",children:[(0,Ce.jsx)("h2",{className:"luxury-features-title",children:"Safety & Certification"}),(0,Ce.jsx)("p",{className:"luxury-features-description",children:"Comprehensive safety protocols and certification programs designed to ensure your security and success"})]}),(0,Ce.jsxs)("div",{className:"features-grid luxury-features-grid",children:[(0,Ce.jsxs)("div",{className:"feature-card luxury-feature-card scroll-fade-in",id:"safety-feature",children:[(0,Ce.jsx)("h3",{className:"luxury-feature-title",children:"Safety First Approach"}),(0,Ce.jsx)("p",{className:"luxury-feature-description",children:"Your safety is our top priority. All our instructors are certified and follow strict safety protocols."}),(0,Ce.jsxs)("div",{className:"feature-benefits luxury-benefits",children:[(0,Ce.jsxs)("div",{className:"benefit-item luxury-benefit-item",children:[(0,Ce.jsx)(Xe,{}),(0,Ce.jsx)("span",{children:"Certified instructors"})]}),(0,Ce.jsxs)("div",{className:"benefit-item luxury-benefit-item",children:[(0,Ce.jsx)(Xe,{}),(0,Ce.jsx)("span",{children:"Safety equipment provided"})]}),(0,Ce.jsxs)("div",{className:"benefit-item luxury-benefit-item",children:[(0,Ce.jsx)(Xe,{}),(0,Ce.jsx)("span",{children:"Weather monitoring"})]}),(0,Ce.jsxs)("div",{className:"benefit-item luxury-benefit-item",children:[(0,Ce.jsx)(Xe,{}),(0,Ce.jsx)("span",{children:"Emergency procedures"})]}),(0,Ce.jsxs)("div",{className:"benefit-item luxury-benefit-item",children:[(0,Ce.jsx)(Xe,{}),(0,Ce.jsx)("span",{children:"Insurance coverage"})]})]}),(0,Ce.jsx)("div",{className:"feature-luxury-border"})]}),(0,Ce.jsxs)("div",{className:"feature-card luxury-feature-card scroll-fade-in",id:"certification-feature",children:[(0,Ce.jsx)("h3",{className:"luxury-feature-title",children:"Certification Programs"}),(0,Ce.jsx)("p",{className:"luxury-feature-description",children:"Complete certification programs recognized by international water sports organizations."}),(0,Ce.jsxs)("div",{className:"feature-benefits luxury-benefits",children:[(0,Ce.jsxs)("div",{className:"benefit-item luxury-benefit-item",children:[(0,Ce.jsx)(Xe,{}),(0,Ce.jsx)("span",{children:"IKO certification"})]}),(0,Ce.jsxs)("div",{className:"benefit-item luxury-benefit-item",children:[(0,Ce.jsx)(Xe,{}),(0,Ce.jsx)("span",{children:"Safety training"})]}),(0,Ce.jsxs)("div",{className:"benefit-item luxury-benefit-item",children:[(0,Ce.jsx)(Xe,{}),(0,Ce.jsx)("span",{children:"Progress tracking"})]}),(0,Ce.jsxs)("div",{className:"benefit-item luxury-benefit-item",children:[(0,Ce.jsx)(Xe,{}),(0,Ce.jsx)("span",{children:"International recognition"})]})]}),(0,Ce.jsx)("div",{className:"feature-luxury-border"})]})]})]})]})]})};const ut=new class{constructor(){this.apiService=ot}async getCurrentWeather(){try{const t=await this.getUserLocation();try{const e=await fetch("https://wttr.in/".concat(t.lat,",").concat(t.lon,"?format=j1"));if(e.ok){const n=await e.json();return this.formatWttrData(n,t.city)}}catch(e){console.log("wttr.in failed, trying backend API...",e)}const n=await this.apiService.request("/weather/current?lat=".concat(t.lat,"&lon=").concat(t.lon));if(n.success)return this.formatBackendWeatherData(n.data,t.city);throw new Error(n.message||"Weather data unavailable")}catch(t){console.error("Error fetching weather:",t);try{const e=await this.getUserLocation(),t=this.getMockWeatherData();return t.location=e.city,t.timestamp=(new Date).toLocaleTimeString(),t}catch(n){return this.getMockWeatherData()}}}async getForecast(){return this.getWeatherForecast()}async getWeatherForecast(){try{const t=await this.getUserLocation();try{const e=await fetch("https://wttr.in/".concat(t.lat,",").concat(t.lon,"?format=j1"));if(e.ok){const t=await e.json();return this.formatWttrForecastData(t)}}catch(e){console.log("wttr.in forecast failed, trying backend API...",e)}const n=await this.apiService.request("/weather/forecast?lat=".concat(t.lat,"&lon=").concat(t.lon));if(n.success)return this.formatBackendForecastData(n.data);throw new Error(n.message||"Forecast data unavailable")}catch(t){return console.error("Error fetching forecast:",t),this.getMockForecastData()}}async getUserLocation(){return new Promise((e,t)=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(t=>{const{latitude:n,longitude:i}=t.coords;e({lat:n,lon:i,city:"Current Location"})},t=>{console.error("Geolocation error:",t),1===t.code?console.log("Geolocation permission denied, using default location"):2===t.code?console.log("Geolocation position unavailable, using default location"):3===t.code&&console.log("Geolocation timeout, using default location"),e({lat:-33.8688,lon:151.2093,city:"Sydney"})},{timeout:5e3,enableHighAccuracy:!1,maximumAge:3e5}):t(new Error("Geolocation not supported"))})}formatOpenMeteoData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Current Location";const n=e.current_weather;return{temperature:Math.round(n.temperature),feelsLike:Math.round(n.temperature),humidity:65,windSpeed:Math.round(3.6*n.windspeed),windDirection:this.getWindDirectionFromDegrees(n.winddirection),description:this.getWeatherDescription(n.weathercode),icon:this.getOpenMeteoIcon(n.weathercode),pressure:1013,visibility:10,timestamp:(new Date).toLocaleTimeString(),location:t,waterSportsRating:this.calculateWaterSportsRatingFromOpenMeteo(n)}}formatBackendWeatherData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Current Location";return{temperature:e.temperature,feelsLike:e.temperature,humidity:e.humidity,windSpeed:e.windSpeed,windDirection:"N",description:e.condition,icon:this.getBackendIcon(e.condition),pressure:1013,visibility:10,timestamp:(new Date).toLocaleTimeString(),location:e.location||t,waterSportsRating:this.calculateWaterSportsRatingFromBackend(e)}}formatBackendForecastData(e){return e&&e.forecast&&Array.isArray(e.forecast)?e.forecast.map(e=>({day:e.day,temp:e.temp,condition:e.condition,wind:e.wind,icon:this.getBackendIcon(e.condition)})):this.getMockForecastData()}formatWttrData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Current Location";const n=e.current_condition[0],i=e.nearest_area[0];return{temperature:parseInt(n.temp_C),feelsLike:parseInt(n.FeelsLikeC),humidity:parseInt(n.humidity),windSpeed:parseInt(n.windspeedKmph),windDirection:n.winddir16Point,description:n.weatherDesc[0].value,icon:this.getWttrIcon(n.weatherCode),pressure:parseInt(n.pressure),visibility:parseInt(n.visibility),timestamp:(new Date).toLocaleTimeString(),location:i?i.areaName[0].value:t,waterSportsRating:this.calculateWaterSportsRatingFromWttr(n)}}getWttrIcon(e){return{113:"01d",116:"02d",119:"03d",122:"04d",143:"50d",176:"10d",179:"09d",182:"13d",185:"13d",200:"11d",227:"13d",230:"13d",248:"50d",260:"50d",263:"09d",266:"09d",281:"13d",284:"13d",293:"10d",296:"10d",299:"10d",302:"10d",305:"10d",308:"10d",311:"13d",314:"13d",317:"13d",320:"13d",323:"13d",326:"13d",329:"13d",332:"13d",335:"13d",338:"13d",350:"13d",353:"10d",356:"10d",359:"10d",362:"13d",365:"13d",368:"13d",371:"13d",374:"13d",377:"13d",386:"11d",389:"11d",392:"11d",395:"11d"}[e]||"01d"}calculateWaterSportsRatingFromWttr(e){let t=5;const n=parseInt(e.temp_C),i=parseInt(e.windspeedKmph),s=parseInt(e.humidity),a=parseInt(e.visibility);return n>=20&&n<=30?t+=2:n>=15&&n<=35?t+=1:(n<10||n>40)&&(t-=2),i>=15&&i<=25?t+=3:i>=10&&i<=30?t+=1:(i<5||i>40)&&(t-=2),a>=10?t+=1:a<5&&(t-=1),s>80&&(t-=1),Math.max(1,Math.min(10,t))}calculateWaterSportsRatingFromBackend(e){let t=5;const n=e.temperature,i=e.windSpeed;return n>=20&&n<=30?t+=2:n>=15&&n<=35?t+=1:(n<10||n>40)&&(t-=2),i>=15&&i<=25?t+=3:i>=10&&i<=30?t+=1:(i<5||i>40)&&(t-=2),e.humidity>80&&(t-=1),Math.max(1,Math.min(10,t))}getBackendIcon(e){const t=e.toLowerCase();return t.includes("sunny")||t.includes("clear")?"01d":t.includes("partly cloudy")?"02d":t.includes("cloudy")||t.includes("overcast")?"04d":t.includes("rain")?"10d":t.includes("storm")||t.includes("thunder")?"11d":t.includes("snow")?"13d":t.includes("mist")||t.includes("fog")?"50d":"01d"}formatWeatherData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Current Location";return{temperature:Math.round(e.main.temp),feelsLike:Math.round(e.main.feels_like),humidity:e.main.humidity,windSpeed:Math.round(3.6*e.wind.speed),windDirection:this.getWindDirection(e.wind.deg),description:e.weather[0].description,icon:e.weather[0].icon,pressure:e.main.pressure,visibility:e.visibility/1e3,timestamp:(new Date).toLocaleTimeString(),location:t,waterSportsRating:this.calculateWaterSportsRating(e)}}formatWttrForecastData(e){const t=[];return e.weather.forEach((e,n)=>{if(n<5){const n=parseInt(e.avgtempC),i=parseInt(e.maxwindspeedKmph),s=e.hourly[0].weatherDesc[0].value,a=e.hourly[0].weatherCode;t.push({date:new Date(e.date),temperature:n,windSpeed:i,description:s,icon:this.getWttrIcon(a),waterSportsRating:this.calculateWaterSportsRatingFromWttr({temp_C:n,windspeedKmph:i,humidity:e.hourly[0].humidity,visibility:e.hourly[0].visibility})})}}),t}formatForecastData(e){const t=[],n={};return e.list.forEach(e=>{const t=new Date(1e3*e.dt).toDateString();n[t]||(n[t]=[]),n[t].push(e)}),Object.keys(n).forEach(e=>{const i=n[e],s=i.reduce((e,t)=>e+t.main.temp,0)/i.length,a=i.reduce((e,t)=>e+t.wind.speed,0)/i.length,r=i[0].weather[0].description;t.push({date:new Date(e),temperature:Math.round(s),windSpeed:Math.round(3.6*a),description:r,icon:i[0].weather[0].icon,waterSportsRating:this.calculateWaterSportsRating({main:{temp:s},wind:{speed:a},weather:[{description:r}]})})}),t.slice(0,5)}calculateWaterSportsRating(e){let t=5;const n=e.main.temp;n>=20&&n<=30?t+=2:n>=15&&n<=35?t+=1:(n<10||n>40)&&(t-=2);const i=3.6*e.wind.speed;i>=15&&i<=25?t+=3:i>=10&&i<=30?t+=1:(i<5||i>40)&&(t-=2);const s=e.weather[0].description.toLowerCase();return s.includes("clear")||s.includes("sunny")?t+=1:s.includes("rain")||s.includes("storm")?t-=2:(s.includes("cloudy")||s.includes("overcast"))&&(t-=1),Math.max(1,Math.min(10,t))}getWindDirection(e){return["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW"][Math.round(e/22.5)%16]}getMockWeatherData(){return{temperature:22,feelsLike:24,humidity:65,windSpeed:18,windDirection:"SE",description:"Partly cloudy",icon:"02d",pressure:1013,visibility:10,timestamp:(new Date).toLocaleTimeString(),location:"Sydney Harbour",waterSportsRating:8}}getMockForecastData(){return[{date:new Date(Date.now()+864e5),temperature:23,windSpeed:20,description:"Sunny",icon:"01d",waterSportsRating:9},{date:new Date(Date.now()+1728e5),temperature:21,windSpeed:15,description:"Partly cloudy",icon:"02d",waterSportsRating:7},{date:new Date(Date.now()+2592e5),temperature:19,windSpeed:25,description:"Windy",icon:"03d",waterSportsRating:6}]}getWaterSportsRecommendations(e){const t=e.waterSportsRating,n=e.windSpeed,i=e.temperature,s=e.humidity,a=e.visibility,r=e.description.toLowerCase();let o=[];t>=8?(o.push("\ud83c\udf0a Excellent conditions for all water sports!"),n>=15&&n<=25?o.push("\ud83c\udfc4\u200d\u2640\ufe0f Perfect kitesurfing conditions - ideal wind speed"):n>=10&&n<15?o.push("\ud83c\udfc4\u200d\u2640\ufe0f Good kitesurfing for beginners - lighter winds"):n>25&&o.push("\ud83c\udfc4\u200d\u2640\ufe0f Strong winds - experienced kitesurfers only"),i>=22&&i<=30?o.push("\ud83c\udfca\u200d\u2642\ufe0f Perfect temperature for swimming and snorkeling"):i>=18&&i<22&&o.push("\ud83c\udfca\u200d\u2642\ufe0f Good for swimming with wetsuit recommended"),n>=12&&n<=20&&o.push("\ud83c\udfc4\u200d\u2642\ufe0f Great conditions for wing foiling")):t>=6?(o.push("\ud83c\udf24\ufe0f Good conditions with some caution needed"),n>25?o.push("\u26a0\ufe0f High winds - experienced riders only, check equipment"):n<10&&o.push("\ud83c\udf2c\ufe0f Low wind - consider paddleboarding or kayaking instead"),i<18&&o.push("\ud83e\udde5 Cool weather - wear proper wetsuit and layers"),s>80&&o.push("\ud83d\udca7 High humidity - stay hydrated and take breaks")):t>=4?(o.push("\ud83c\udf2b\ufe0f Moderate conditions - check with instructors first"),n<8?o.push("\ud83d\udea3\u200d\u2640\ufe0f Very low wind - try paddleboarding or kayaking"):n>30&&o.push("\ud83d\udca8 Dangerous winds - avoid water sports today"),i<15&&o.push("\u2744\ufe0f Cold conditions - full wetsuit required"),a<5&&o.push("\ud83c\udf2b\ufe0f Poor visibility - stay close to shore"),(r.includes("rain")||r.includes("storm"))&&o.push("\u26c8\ufe0f Rainy conditions - postpone water activities")):(o.push("\ud83d\udeab Challenging conditions - consider indoor alternatives"),i<10&&o.push("\ud83e\udd76 Too cold for water sports - try indoor training"),n>35&&o.push("\ud83d\udca8 Dangerous wind conditions - avoid all water activities"),(r.includes("storm")||r.includes("thunder"))&&o.push("\u26c8\ufe0f Storm conditions - water activities not recommended"),a<2&&o.push("\ud83c\udf2b\ufe0f Very poor visibility - safety risk"),o.push("\ud83c\udfcb\ufe0f\u200d\u2640\ufe0f Consider indoor fitness or theory sessions instead")),o.push("\ud83e\uddba Always wear proper safety gear and life jacket"),o.push("\ud83d\udcf1 Check with instructors about current conditions");const l=(new Date).getHours();return l>=6&&l<=10?o.push("\ud83c\udf05 Morning sessions often have calmer winds"):l>=14&&l<=18&&o.push("\ud83c\udf1e Afternoon sessions typically have stronger winds"),o}getComprehensiveRecommendations(e){const t=e.waterSportsRating,n=e.windSpeed,i=e.temperature,s=e.humidity,a=e.visibility,r=e.description.toLowerCase();let o={overall:"",activities:[],safety:[],equipment:[],alternatives:[],services:[]};return t>=8?(o.overall="\ud83c\udf0a Excellent conditions for all water sports!",n>=15&&n<=25?o.activities.push({activity:"Kitesurfing",level:"All Levels",recommendation:"Perfect conditions - ideal wind speed for learning and progression",icon:"\ud83c\udfc4\u200d\u2640\ufe0f",confidence:"High",duration:"2-3 hours"}):n>=10&&n<15?o.activities.push({activity:"Kitesurfing",level:"Beginner",recommendation:"Great for beginners - lighter winds perfect for learning",icon:"\ud83c\udfc4\u200d\u2640\ufe0f",confidence:"High",duration:"2-3 hours"}):n>25&&o.activities.push({activity:"Kitesurfing",level:"Advanced",recommendation:"Strong winds - experienced riders only",icon:"\ud83c\udfc4\u200d\u2640\ufe0f",confidence:"Medium",duration:"1-2 hours"}),n>=12&&n<=20&&o.activities.push({activity:"Wing Foiling",level:"All Levels",recommendation:"Excellent wing foiling conditions",icon:"\ud83c\udfc4\u200d\u2642\ufe0f",confidence:"High",duration:"2-3 hours"}),n>=8&&n<=15&&o.activities.push({activity:"Hydrofoil Training",level:"Intermediate+",recommendation:"Good conditions for hydrofoil progression",icon:"\ud83c\udfc4\u200d\u2642\ufe0f",confidence:"High",duration:"2 hours"}),i>=22&&i<=30&&o.activities.push({activity:"Swimming & Water Safety",level:"All Levels",recommendation:"Perfect temperature for water confidence training",icon:"\ud83c\udfca\u200d\u2642\ufe0f",confidence:"High",duration:"1-2 hours"}),o.services.push({name:"Kitesurfing Training",price:"$99.00",duration:"2 hours",description:"Perfect conditions for comprehensive kitesurfing instruction",suitability:"Excellent"}),n>=12&&n<=20&&o.services.push({name:"Nutrition Coaching",price:"$99.00",duration:"2 hours",description:"Perfect conditions for nutrition coaching sessions",suitability:"Excellent"}),o.safety.push("\u2705 All safety protocols standard"),o.safety.push("\u2705 Buddy system recommended"),i>=20?o.equipment.push("\ud83d\udc55 Shorty wetsuit or rash guard"):o.equipment.push("\ud83e\udde5 Full wetsuit recommended")):t>=6?(o.overall="\ud83c\udf24\ufe0f Good conditions with some caution needed",n>25?(o.activities.push({activity:"Kitesurfing",level:"Advanced Only",recommendation:"High winds - experienced riders only, check equipment thoroughly",icon:"\ud83c\udfc4\u200d\u2640\ufe0f",confidence:"Medium",duration:"1 hour"}),o.safety.push("\u26a0\ufe0f Extra safety briefing required"),o.safety.push("\u26a0\ufe0f Check all equipment connections")):n<10&&(o.activities.push({activity:"Paddleboarding",level:"All Levels",recommendation:"Low wind - perfect for paddleboarding and balance training",icon:"\ud83d\udea3\u200d\u2640\ufe0f",confidence:"High",duration:"1-2 hours"}),o.alternatives.push("\ud83c\udfc4\u200d\u2642\ufe0f Try wing foiling with larger wing"),o.alternatives.push("\ud83c\udfca\u200d\u2642\ufe0f Focus on swimming technique")),o.services.push({name:"Private Coaching",price:"$99.00",duration:"1 hour",description:"Personalized instruction for challenging conditions",suitability:"Good"}),n<10&&o.services.push({name:"Equipment Rental",price:"$99.00",duration:"Full day",description:"Try paddleboarding or kayaking in calm conditions",suitability:"Excellent"}),i<18&&(o.equipment.push("\ud83e\udde5 Full wetsuit mandatory"),o.equipment.push("\ud83e\udde4 Neoprene gloves recommended"),o.safety.push("\u2744\ufe0f Monitor for hypothermia signs")),s>80&&(o.safety.push("\ud83d\udca7 Stay hydrated - take frequent breaks"),o.safety.push("\u2600\ufe0f Use sun protection despite clouds"))):t>=4?(o.overall="\ud83c\udf2b\ufe0f Moderate conditions - instructor guidance essential",n<8?(o.activities.push({activity:"Land Training",level:"All Levels",recommendation:"Very low wind - perfect for kite setup and land training",icon:"\ud83c\udfc3\u200d\u2642\ufe0f",confidence:"High",duration:"1-2 hours"}),o.alternatives.push("\ud83c\udfc4\u200d\u2642\ufe0f Equipment maintenance session"),o.alternatives.push("\ud83d\udcda Theory and safety review")):n>30&&(o.overall="\ud83d\udca8 Dangerous winds - water activities not recommended",o.alternatives.push("\ud83c\udfe0 Indoor training session"),o.alternatives.push("\ud83d\udcd6 Equipment care workshop"),o.safety.push("\ud83d\udeab Avoid all water activities")),o.services.push({name:"Indoor Training",price:"$99.00",duration:"1 hour",description:"Movement performance training in controlled environment",suitability:"Good"}),i<15&&(o.equipment.push("\ud83e\udde5 Full wetsuit with hood"),o.equipment.push("\ud83e\udde4 Neoprene gloves and boots"),o.safety.push("\u2744\ufe0f Cold water safety protocols")),a<5&&(o.safety.push("\ud83c\udf2b\ufe0f Stay close to shore"),o.safety.push("\ud83d\udce1 Use communication devices")),(r.includes("rain")||r.includes("storm"))&&(o.alternatives.push("\ud83c\udfe0 Indoor movement training"),o.alternatives.push("\ud83d\udcaa Strength and conditioning"),o.safety.push("\u26c8\ufe0f Postpone water activities"))):(o.overall="\ud83d\udeab Challenging conditions - indoor alternatives recommended",i<10&&(o.alternatives.push("\ud83c\udfe0 Indoor training facility"),o.alternatives.push("\ud83d\udcaa Strength and conditioning"),o.alternatives.push("\ud83e\uddd8\u200d\u2640\ufe0f Flexibility and mobility work"),o.safety.push("\ud83e\udd76 Too cold for water sports")),n>35&&(o.alternatives.push("\ud83c\udfe0 Indoor kite simulator training"),o.alternatives.push("\ud83d\udcda Advanced theory and meteorology"),o.safety.push("\ud83d\udca8 Dangerous wind conditions")),(r.includes("storm")||r.includes("thunder"))&&(o.alternatives.push("\ud83c\udfe0 Indoor movement performance training"),o.alternatives.push("\ud83c\udfaf Goal setting and planning session"),o.safety.push("\u26c8\ufe0f Storm conditions - avoid water")),o.services.push({name:"Indoor Training",price:"$99.00",duration:"1 hour",description:"Movement performance training in controlled environment",suitability:"Excellent"})),t>=6&&(o.safety.push("\ud83d\udcf1 Check weather updates regularly"),o.safety.push("\ud83d\udc65 Inform someone of your plans")),o}getTrainingRecommendations(e){const t=this.getComprehensiveRecommendations(e),n=e.waterSportsRating;let i={recommendedServices:t.services,sessionTypes:[],duration:"",groupSize:"",instructorLevel:"",bestTimes:[]};return n>=8?(i.sessionTypes.push("Group Classes (up to 6 students)"),i.sessionTypes.push("Private Coaching"),i.duration="2-3 hours recommended",i.groupSize="Optimal for group learning",i.instructorLevel="Any certified instructor",i.bestTimes.push("Morning (6-10 AM) - Calmer winds"),i.bestTimes.push("Afternoon (2-6 PM) - Stronger winds")):n>=6?(i.sessionTypes.push("Private Sessions Only"),i.sessionTypes.push("Equipment Training"),i.duration="1-2 hours maximum",i.groupSize="Small groups (2-3 students)",i.instructorLevel="Senior instructor recommended",i.bestTimes.push("Morning sessions preferred")):(i.sessionTypes.push("Indoor Sessions"),i.sessionTypes.push("Theory and Planning"),i.duration="1 hour sessions",i.groupSize="Small groups (4-6 students)",i.instructorLevel="Any certified instructor",i.bestTimes.push("Any time - Indoor conditions")),i}},ht=ut,pt=e=>{let{isOpen:n,onClose:i}=e;const[s,a]=(0,t.useState)(null),[r,o]=(0,t.useState)([]),[l,c]=(0,t.useState)(!1),[d,u]=(0,t.useState)(null),[h,p]=(0,t.useState)("current");(0,t.useEffect)(()=>{n&&m()},[n]);const m=async()=>{c(!0),u(null);try{const e=await ht.getCurrentWeather();a(e);const t=await ht.getForecast();o(t)}catch(e){u("Failed to load weather data"),console.error("Weather loading error:",e)}finally{c(!1)}};if(!n)return null;const f=e=>e>=8?"bg-green-500":e>=6?"bg-yellow-500":e>=4?"bg-orange-500":"bg-red-500",g=e=>{switch(e.toLowerCase()){case"beginner":return"bg-blue-100 text-blue-800";case"all levels":return"bg-green-100 text-green-800";case"intermediate+":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},v=e=>{switch(e.toLowerCase()){case"high":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return(0,Ce.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:i,children:(0,Ce.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-6xl max-h-[90vh] overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,Ce.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6",children:(0,Ce.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ce.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ce.jsx)("span",{className:"text-3xl",children:"\ud83c\udf24\ufe0f"}),(0,Ce.jsx)("h2",{className:"text-2xl font-bold",children:"Live Weather & Conditions"})]}),(0,Ce.jsx)("button",{onClick:i,className:"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-2 transition-colors",children:(0,Ce.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ce.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,Ce.jsx)("div",{className:"border-b border-gray-200 bg-gray-50",children:(0,Ce.jsx)("div",{className:"flex",children:[{id:"current",label:"Current",icon:"\ud83c\udf24\ufe0f"},{id:"forecast",label:"5-Day Forecast",icon:"\ud83d\udcc5"},{id:"recommendations",label:"Recommendations",icon:"\ud83c\udfaf"}].map(e=>(0,Ce.jsxs)("button",{onClick:()=>p(e.id),className:"flex-1 px-6 py-4 text-sm font-medium transition-colors ".concat(h===e.id?"text-blue-600 border-b-2 border-blue-600 bg-white":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"),children:[(0,Ce.jsx)("span",{className:"mr-2",children:e.icon}),e.label]},e.id))})}),(0,Ce.jsxs)("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:[l&&(0,Ce.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,Ce.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),(0,Ce.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading weather data..."})]}),d&&(0,Ce.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:(0,Ce.jsx)("p",{className:"text-red-800",children:d})}),"current"===h&&s&&(0,Ce.jsxs)("div",{className:"space-y-6",children:[(0,Ce.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-6",children:[(0,Ce.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ce.jsxs)("div",{children:[(0,Ce.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:s.location}),(0,Ce.jsxs)("p",{className:"text-gray-600",children:["Updated: ",s.timestamp]})]}),(0,Ce.jsxs)("div",{className:"text-right",children:[(0,Ce.jsxs)("div",{className:"text-4xl font-bold text-gray-900",children:[s.temperature,"\xb0C"]}),(0,Ce.jsxs)("p",{className:"text-gray-600",children:["Feels like ",s.feelsLike,"\xb0C"]})]})]}),(0,Ce.jsxs)("div",{className:"mt-4 flex items-center space-x-4",children:[(0,Ce.jsx)("img",{src:"https://openweathermap.org/img/wn/".concat(s.icon,"@2x.png"),alt:s.description,className:"w-16 h-16"}),(0,Ce.jsxs)("div",{children:[(0,Ce.jsx)("p",{className:"text-lg font-semibold text-gray-900 capitalize",children:s.description}),(0,Ce.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,Ce.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(f(s.waterSportsRating))}),(0,Ce.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["Water Sports Rating: ",s.waterSportsRating,"/10"]})]})]})]})]}),(0,Ce.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"Wind",value:"".concat(s.windSpeed," km/h"),icon:"\ud83d\udca8",detail:(y=s.windDirection,["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW"][Math.round(y/22.5)%16])},{label:"Humidity",value:"".concat(s.humidity,"%"),icon:"\ud83d\udca7",detail:"Relative"},{label:"Pressure",value:"".concat(s.pressure," hPa"),icon:"\ud83d\udcca",detail:"Atmospheric"},{label:"Visibility",value:"".concat(s.visibility," km"),icon:"\ud83d\udc41\ufe0f",detail:"Clear"}].map((e,t)=>(0,Ce.jsx)("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-gray-200",children:(0,Ce.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ce.jsx)("span",{className:"text-2xl",children:e.icon}),(0,Ce.jsxs)("div",{children:[(0,Ce.jsx)("p",{className:"text-sm text-gray-600",children:e.label}),(0,Ce.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:e.value}),(0,Ce.jsx)("p",{className:"text-xs text-gray-500",children:e.detail})]})]})},t))})]}),"forecast"===h&&r.length>0&&(0,Ce.jsxs)("div",{className:"space-y-6",children:[(0,Ce.jsxs)("h3",{className:"text-xl font-bold text-gray-900 flex items-center",children:[(0,Ce.jsx)("span",{className:"mr-2",children:"\ud83d\udcc5"}),"5-Day Forecast"]}),(0,Ce.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map((e,t)=>{return(0,Ce.jsxs)("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-gray-200",children:[(0,Ce.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Ce.jsxs)("div",{children:[(0,Ce.jsx)("p",{className:"font-semibold text-gray-900",children:(n=e.date,new Date(n).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}))}),(0,Ce.jsx)("p",{className:"text-sm text-gray-600 capitalize",children:e.description})]}),(0,Ce.jsx)("img",{src:"https://openweathermap.org/img/wn/".concat(e.icon,"@2x.png"),alt:e.description,className:"w-12 h-12"})]}),(0,Ce.jsxs)("div",{className:"space-y-2",children:[(0,Ce.jsxs)("div",{className:"flex justify-between",children:[(0,Ce.jsx)("span",{className:"text-gray-600",children:"Temperature"}),(0,Ce.jsxs)("span",{className:"font-semibold",children:[e.temperature,"\xb0C"]})]}),(0,Ce.jsxs)("div",{className:"flex justify-between",children:[(0,Ce.jsx)("span",{className:"text-gray-600",children:"Wind"}),(0,Ce.jsxs)("span",{className:"font-semibold",children:[e.windSpeed," km/h"]})]}),(0,Ce.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ce.jsx)("span",{className:"text-gray-600",children:"Rating"}),(0,Ce.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ce.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(f(e.waterSportsRating))}),(0,Ce.jsxs)("span",{className:"text-sm font-medium",children:[e.waterSportsRating,"/10"]})]})]})]})]},t);var n})})]}),"recommendations"===h&&s&&(0,Ce.jsx)("div",{className:"space-y-6 pb-6",children:(()=>{const e=ht.getComprehensiveRecommendations(s),t=ht.getTrainingRecommendations(s);return(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ce.jsxs)("div",{children:[(0,Ce.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-1",children:"Live Weather & Conditions"}),(0,Ce.jsx)("p",{className:"text-gray-600 text-sm",children:"Real-time recommendations for your water sports adventure"})]}),(0,Ce.jsxs)("button",{onClick:m,className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-3 rounded-xl font-semibold hover:from-blue-600 hover:to-purple-700 transition-all duration-300 flex items-center space-x-2 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:[(0,Ce.jsx)("span",{className:"text-lg",children:"\ud83d\udd04"}),(0,Ce.jsx)("span",{children:"Refresh"})]})]}),(0,Ce.jsxs)("div",{className:"relative overflow-hidden bg-gradient-to-br from-blue-500 via-purple-600 to-blue-700 rounded-2xl p-6 text-white shadow-2xl",children:[(0,Ce.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white opacity-10 rounded-full -translate-y-16 translate-x-16"}),(0,Ce.jsx)("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white opacity-10 rounded-full translate-y-12 -translate-x-12"}),(0,Ce.jsxs)("div",{className:"relative z-10",children:[(0,Ce.jsxs)("div",{className:"flex items-center space-x-4 mb-3",children:[(0,Ce.jsx)("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-xl flex items-center justify-center",children:(0,Ce.jsx)("span",{className:"text-2xl",children:"\ud83c\udf0a"})}),(0,Ce.jsxs)("div",{children:[(0,Ce.jsx)("h3",{className:"text-xl font-bold",children:e.overall}),(0,Ce.jsx)("p",{className:"text-blue-100 text-sm",children:"Perfect conditions detected"})]})]}),(0,Ce.jsxs)("div",{className:"flex items-center space-x-6 text-sm",children:[(0,Ce.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ce.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),(0,Ce.jsx)("span",{children:"Excellent Visibility"})]}),(0,Ce.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ce.jsx)("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),(0,Ce.jsx)("span",{children:"Ideal Wind"})]}),(0,Ce.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ce.jsx)("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),(0,Ce.jsx)("span",{children:"Safe Conditions"})]})]})]})]}),(0,Ce.jsxs)("div",{children:[(0,Ce.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Ce.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:(0,Ce.jsx)("span",{className:"text-white text-sm",children:"\ud83c\udfc4\u200d\u2640\ufe0f"})}),(0,Ce.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Recommended Activities"})]}),e.activities.length>0?(0,Ce.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.activities.map((e,t)=>(0,Ce.jsx)("div",{className:"group bg-white rounded-2xl p-5 shadow-sm border border-gray-100 hover:shadow-lg hover:border-blue-200 transition-all duration-300 transform hover:-translate-y-1",children:(0,Ce.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,Ce.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-100 to-purple-100 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:(0,Ce.jsx)("span",{className:"text-xl",children:e.icon})}),(0,Ce.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Ce.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Ce.jsx)("h4",{className:"font-bold text-gray-900 text-lg",children:e.activity}),(0,Ce.jsxs)("div",{className:"flex space-x-2",children:[(0,Ce.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold ".concat(g(e.level)),children:e.level}),(0,Ce.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold ".concat(v(e.confidence)),children:e.confidence})]})]}),(0,Ce.jsx)("p",{className:"text-gray-600 text-sm leading-relaxed mb-3",children:e.recommendation}),(0,Ce.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ce.jsxs)("div",{className:"flex items-center text-gray-500 text-sm",children:[(0,Ce.jsx)("span",{className:"mr-2",children:"\u23f1\ufe0f"}),(0,Ce.jsx)("span",{className:"font-medium",children:e.duration})]}),(0,Ce.jsx)("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Learn More \u2192"})]})]})]})},t))}):(0,Ce.jsxs)("div",{className:"text-center py-16 bg-gray-50 rounded-2xl",children:[(0,Ce.jsx)("div",{className:"text-6xl mb-4",children:"\ud83c\udf24\ufe0f"}),(0,Ce.jsx)("p",{className:"text-gray-600 text-lg",children:"No specific activity recommendations for current conditions."})]})]}),(0,Ce.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Ce.jsxs)("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-gray-100",children:[(0,Ce.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Ce.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-green-500 to-blue-600 rounded-lg flex items-center justify-center",children:(0,Ce.jsx)("span",{className:"text-white text-sm",children:"\ud83c\udfaf"})}),(0,Ce.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:"MPT Services"})]}),e.services.length>0?(0,Ce.jsx)("div",{className:"space-y-3",children:e.services.map((e,t)=>(0,Ce.jsxs)("div",{className:"p-4 bg-gradient-to-r from-green-50 to-blue-50 rounded-xl border border-green-100 hover:shadow-md transition-shadow duration-200",children:[(0,Ce.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,Ce.jsx)("h4",{className:"font-semibold text-gray-900",children:e.name}),(0,Ce.jsx)("span",{className:"bg-green-500 text-white px-3 py-1 rounded-full text-sm font-semibold",children:e.price})]}),(0,Ce.jsx)("p",{className:"text-gray-600 text-sm mb-3",children:e.description}),(0,Ce.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ce.jsxs)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat(v(e.suitability)),children:[e.suitability," Conditions"]}),(0,Ce.jsxs)("span",{className:"text-sm text-gray-500 flex items-center",children:[(0,Ce.jsx)("span",{className:"mr-1",children:"\u23f1\ufe0f"}),e.duration]})]})]},t))}):(0,Ce.jsxs)("div",{className:"text-center py-12",children:[(0,Ce.jsx)("div",{className:"text-4xl mb-2",children:"\ud83d\udcbc"}),(0,Ce.jsx)("p",{className:"text-gray-600",children:"No service recommendations available."})]})]}),t&&(0,Ce.jsxs)("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-gray-100",children:[(0,Ce.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Ce.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-500 to-pink-600 rounded-lg flex items-center justify-center",children:(0,Ce.jsx)("span",{className:"text-white text-sm",children:"\ud83d\udcda"})}),(0,Ce.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:"Session Details"})]}),(0,Ce.jsxs)("div",{className:"space-y-4",children:[(0,Ce.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,Ce.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-3",children:[(0,Ce.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Ce.jsx)("span",{className:"text-lg",children:"\ud83d\udccb"}),(0,Ce.jsx)("h4",{className:"font-semibold text-gray-900 text-sm",children:"Types"})]}),(0,Ce.jsx)("div",{className:"flex flex-wrap gap-1",children:t.sessionTypes.slice(0,2).map((e,t)=>(0,Ce.jsx)("span",{className:"bg-blue-500 text-white px-2 py-1 rounded-full text-xs font-medium",children:e},t))})]}),(0,Ce.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-3",children:[(0,Ce.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Ce.jsx)("span",{className:"text-lg",children:"\u23f0"}),(0,Ce.jsx)("h4",{className:"font-semibold text-gray-900 text-sm",children:"Duration"})]}),(0,Ce.jsx)("p",{className:"text-gray-700 text-sm font-medium",children:t.duration})]}),(0,Ce.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-3",children:[(0,Ce.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Ce.jsx)("span",{className:"text-lg",children:"\ud83d\udc65"}),(0,Ce.jsx)("h4",{className:"font-semibold text-gray-900 text-sm",children:"Group Size"})]}),(0,Ce.jsx)("p",{className:"text-gray-700 text-sm font-medium",children:t.groupSize})]}),(0,Ce.jsxs)("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-xl p-3",children:[(0,Ce.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Ce.jsx)("span",{className:"text-lg",children:"\ud83c\udf93"}),(0,Ce.jsx)("h4",{className:"font-semibold text-gray-900 text-sm",children:"Instructor"})]}),(0,Ce.jsx)("p",{className:"text-gray-700 text-sm font-medium",children:t.instructorLevel})]})]}),t.bestTimes.length>0&&(0,Ce.jsxs)("div",{className:"bg-gradient-to-br from-pink-50 to-pink-100 rounded-xl p-3",children:[(0,Ce.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Ce.jsx)("span",{className:"text-lg",children:"\ud83c\udf05"}),(0,Ce.jsx)("h4",{className:"font-semibold text-gray-900 text-sm",children:"Best Times"})]}),(0,Ce.jsx)("div",{className:"flex flex-wrap gap-1",children:t.bestTimes.map((e,t)=>(0,Ce.jsx)("span",{className:"bg-pink-500 text-white px-2 py-1 rounded-full text-xs font-medium",children:e},t))})]})]})]})]})]})})()})]}),(0,Ce.jsx)("div",{className:"border-t border-gray-200 bg-gray-50 px-6 py-4",children:(0,Ce.jsx)("button",{onClick:m,disabled:l,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 px-6 rounded-lg font-medium hover:from-blue-700 hover:to-purple-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:l?(0,Ce.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,Ce.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,Ce.jsx)("span",{children:"Refreshing..."})]}):(0,Ce.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,Ce.jsx)("span",{children:"\ud83d\udd04"}),(0,Ce.jsx)("span",{children:"Refresh Data"})]})})})]})});var y};function mt(e,t,n){t||(t=[]);var i=t.length++;return Object.defineProperty({},"_",{set:function(s){t[i]=s,e.apply(n,t)}})}function ft(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function gt(e,t){ft(e,t),t.add(e)}function vt(e,t,n){ft(e,t),t.set(e,n)}function yt(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function bt(e,t,n){return n(yt(e,t))}function xt(e,t){return e.get(yt(e,t))}function wt(e,t,n){return e.set(yt(e,t),n),n}function St(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return St=function(e){this.s=e,this.n=e.next},St.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new St(e)}var kt,At,Et,_t,jt,Nt,Ct,Mt,Tt,Pt,It,Rt,Lt,Dt,Ft;const Ot="object"===typeof process&&process+""==="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&"browser"!==process.type),Wt=[.001,0,0,.001,0,0],Bt=1.35,Ut=1,zt=2,Ht=4,Gt=16,Vt=32,qt=64,Yt=128,Kt=256,Xt={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Qt="pdfjs_internal_editor_",$t={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101},Jt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},Zt=0,en=1,tn=2,nn=3,sn=3,an=4,rn={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},on={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},ln=1,cn=2,dn=3,un=4,hn=5,pn={ERRORS:0,WARNINGS:1,INFOS:5},mn={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},fn=0,gn=1,vn=2,yn=3;let bn=pn.WARNINGS;function xn(e){Number.isInteger(e)&&(bn=e)}function wn(){return bn}function Sn(e){bn>=pn.INFOS&&console.log("Info: ".concat(e))}function kn(e){bn>=pn.WARNINGS&&console.log("Warning: ".concat(e))}function An(e){throw new Error(e)}function En(e,t){e||An(t)}function _n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return null;if(n&&"string"===typeof e){if(n.addDefaultProtocol&&e.startsWith("www.")){const t=e.match(/\./g);(null===t||void 0===t?void 0:t.length)>=2&&(e="http://".concat(e))}if(n.tryConvertEncoding)try{e=decodeURIComponent(escape(e))}catch(s){}}const i=t?URL.parse(e,t):URL.parse(e);return function(e){switch(null===e||void 0===e?void 0:e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(i)?i:null}function jn(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=URL.parse(e);return i?(i.hash=t,i.href):n&&_n(e,"http://example.com")?e.split("#",1)[0]+"".concat(t?"#".concat(t):""):""}function Nn(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object.defineProperty(e,t,{value:n,enumerable:!i,configurable:!0,writable:!1}),n}const Cn=function(){function e(e,t){this.message=e,this.name=t}return e.prototype=new Error,e.constructor=e,e}();class Mn extends Cn{constructor(e,t){super(e,"PasswordException"),this.code=t}}class Tn extends Cn{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class Pn extends Cn{constructor(e){super(e,"InvalidPDFException")}}class In extends Cn{constructor(e,t,n){super(e,"ResponseException"),this.status=t,this.missing=n}}class Rn extends Cn{constructor(e){super(e,"FormatError")}}class Ln extends Cn{constructor(e){super(e,"AbortException")}}function Dn(e){"object"===typeof e&&void 0!==(null===e||void 0===e?void 0:e.length)||An("Invalid argument for bytesToString");const t=e.length,n=8192;if(t<n)return String.fromCharCode.apply(null,e);const i=[];for(let s=0;s<t;s+=n){const a=Math.min(s+n,t),r=e.subarray(s,a);i.push(String.fromCharCode.apply(null,r))}return i.join("")}function Fn(e){"string"!==typeof e&&An("Invalid argument for stringToBytes");const t=e.length,n=new Uint8Array(t);for(let i=0;i<t;++i)n[i]=255&e.charCodeAt(i);return n}class On{static get isLittleEndian(){return Nn(this,"isLittleEndian",function(){const e=new Uint8Array(4);return e[0]=1,1===new Uint32Array(e.buffer,0,1)[0]}())}static get isEvalSupported(){return Nn(this,"isEvalSupported",function(){try{return new Function(""),!0}catch(e){return!1}}())}static get isOffscreenCanvasSupported(){return Nn(this,"isOffscreenCanvasSupported","undefined"!==typeof OffscreenCanvas)}static get isImageDecoderSupported(){return Nn(this,"isImageDecoderSupported","undefined"!==typeof ImageDecoder)}static get platform(){const{platform:e,userAgent:t}=navigator;return Nn(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){var e,t;return Nn(this,"isCSSRoundSupported",null===(e=globalThis.CSS)||void 0===e||null===(t=e.supports)||void 0===t?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const Wn=Array.from(Array(256).keys(),e=>e.toString(16).padStart(2,"0"));class Bn{static makeHexColor(e,t,n){return"#".concat(Wn[e]).concat(Wn[t]).concat(Wn[n])}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=e[n],s=e[n+1];e[n]=i*t[0]+s*t[2]+t[4],e[n+1]=i*t[1]+s*t[3]+t[5]}static applyTransformToBezier(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=t[0],s=t[1],a=t[2],r=t[3],o=t[4],l=t[5];for(let c=0;c<6;c+=2){const t=e[n+c],d=e[n+c+1];e[n+c]=t*i+d*a+o,e[n+c+1]=t*s+d*r+l}}static applyInverseTransform(e,t){const n=e[0],i=e[1],s=t[0]*t[3]-t[1]*t[2];e[0]=(n*t[3]-i*t[2]+t[2]*t[5]-t[4]*t[3])/s,e[1]=(-n*t[1]+i*t[0]+t[4]*t[1]-t[5]*t[0])/s}static axialAlignedBoundingBox(e,t,n){const i=t[0],s=t[1],a=t[2],r=t[3],o=t[4],l=t[5],c=e[0],d=e[1],u=e[2],h=e[3];let p=i*c+o,m=p,f=i*u+o,g=f,v=r*d+l,y=v,b=r*h+l,x=b;if(0!==s||0!==a){const e=s*c,t=s*u,n=a*d,i=a*h;p+=n,g+=n,f+=i,m+=i,v+=e,x+=e,b+=t,y+=t}n[0]=Math.min(n[0],p,f,m,g),n[1]=Math.min(n[1],v,b,y,x),n[2]=Math.max(n[2],p,f,m,g),n[3]=Math.max(n[3],v,b,y,x)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const n=e[0],i=e[1],s=e[2],a=e[3],r=n**2+i**2,o=n*s+i*a,l=s**2+a**2,c=(r+l)/2,d=Math.sqrt(c**2-(r*l-o**2));t[0]=Math.sqrt(c+d||1),t[1]=Math.sqrt(c-d||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>a?null:[n,s,i,a]}static pointBoundingBox(e,t,n){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],t)}static rectBoundingBox(e,t,n,i,s){s[0]=Math.min(s[0],e,n),s[1]=Math.min(s[1],t,i),s[2]=Math.max(s[2],e,n),s[3]=Math.max(s[3],t,i)}static bezierBoundingBox(e,t,n,i,s,a,r,o,l){l[0]=Math.min(l[0],e,r),l[1]=Math.min(l[1],t,o),l[2]=Math.max(l[2],e,r),l[3]=Math.max(l[3],t,o),yt(Bn,this,zn).call(this,e,n,s,r,t,i,a,o,3*(3*(n-s)-e+r),6*(e-2*n+s),3*(n-e),l),yt(Bn,this,zn).call(this,e,n,s,r,t,i,a,o,3*(3*(i-a)-t+o),6*(t-2*i+a),3*(i-t),l)}}function Un(e,t,n,i,s,a,r,o,l,c){if(l<=0||l>=1)return;const d=1-l,u=l*l,h=u*l,p=d*(d*(d*e+3*l*t)+3*u*n)+h*i,m=d*(d*(d*s+3*l*a)+3*u*r)+h*o;c[0]=Math.min(c[0],p),c[1]=Math.min(c[1],m),c[2]=Math.max(c[2],p),c[3]=Math.max(c[3],m)}function zn(e,t,n,i,s,a,r,o,l,c,d,u){if(Math.abs(l)<1e-12)return void(Math.abs(c)>=1e-12&&yt(kt,this,Un).call(this,e,t,n,i,s,a,r,o,-d/c,u));const h=c**2-4*d*l;if(h<0)return;const p=Math.sqrt(h),m=2*l;yt(kt,this,Un).call(this,e,t,n,i,s,a,r,o,(-c+p)/m,u),yt(kt,this,Un).call(this,e,t,n,i,s,a,r,o,(-c-p)/m,u)}kt=Bn;let Hn=null,Gn=null;function Vn(){if("function"===typeof crypto.randomUUID)return crypto.randomUUID();const e=new Uint8Array(32);return crypto.getRandomValues(e),Dn(e)}const qn="pdfjs_internal_id_";function Yn(e,t,n){return Math.min(Math.max(e,t),n)}function Kn(e){return Uint8Array.prototype.toBase64?e.toBase64():btoa(Dn(e))}"function"!==typeof Promise.try&&(Promise.try=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return new Promise(t=>{t(e(...n))})}),"function"!==typeof Math.sumPrecise&&(Math.sumPrecise=function(e){return e.reduce((e,t)=>e+t,0)});const Xn="http://www.w3.org/2000/svg";class Qn{}async function $n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";if(ii(e,document.baseURI)){const n=await fetch(e);if(!n.ok)throw new Error(n.statusText);switch(t){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise((n,i)=>{const s=new XMLHttpRequest;s.open("GET",e,!0),s.responseType=t,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE)if(200!==s.status&&0!==s.status)i(new Error(s.statusText));else{switch(t){case"arraybuffer":case"blob":case"json":return void n(s.response)}n(s.responseText)}},s.send(null)})}At=Qn,Le(Qn,"CSS",96),Le(Qn,"PDF",72),Le(Qn,"PDF_TO_CSS_UNITS",At.CSS/At.PDF);class Jn{constructor(e){let{viewBox:t,userUnit:n,scale:i,rotation:s,offsetX:a=0,offsetY:r=0,dontFlip:o=!1}=e;this.viewBox=t,this.userUnit=n,this.scale=i,this.rotation=s,this.offsetX=a,this.offsetY=r,i*=n;const l=(t[2]+t[0])/2,c=(t[3]+t[1])/2;let d,u,h,p,m,f,g,v;switch(s%=360,s<0&&(s+=360),s){case 180:d=-1,u=0,h=0,p=1;break;case 90:d=0,u=1,h=1,p=0;break;case 270:d=0,u=-1,h=-1,p=0;break;case 0:d=1,u=0,h=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(h=-h,p=-p),0===d?(m=Math.abs(c-t[1])*i+a,f=Math.abs(l-t[0])*i+r,g=(t[3]-t[1])*i,v=(t[2]-t[0])*i):(m=Math.abs(l-t[0])*i+a,f=Math.abs(c-t[1])*i+r,g=(t[2]-t[0])*i,v=(t[3]-t[1])*i),this.transform=[d*i,u*i,h*i,p*i,m-d*i*l-h*i*c,f-u*i*l-p*i*c],this.width=g,this.height=v}get rawDims(){const e=this.viewBox;return Nn(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone(){let{scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Jn({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:s})}convertToViewportPoint(e,t){const n=[e,t];return Bn.applyTransform(n,this.transform),n}convertToViewportRectangle(e){const t=[e[0],e[1]];Bn.applyTransform(t,this.transform);const n=[e[2],e[3]];return Bn.applyTransform(n,this.transform),[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){const n=[e,t];return Bn.applyInverseTransform(n,this.transform),n}}class Zn extends Cn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super(e,"RenderingCancelledException"),this.extraDelay=t}}function ei(e){const t=e.length;let n=0;for(;n<t&&""===e[n].trim();)n++;return"data:"===e.substring(n,n+5).toLowerCase()}function ti(e){return"string"===typeof e&&/\.pdf$/i.test(e)}class ni{constructor(){Le(this,"started",Object.create(null)),Le(this,"times",[])}time(e){e in this.started&&kn("Timer is already running for ".concat(e)),this.started[e]=Date.now()}timeEnd(e){e in this.started||kn("Timer has not been started for ".concat(e)),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:i,end:s}of this.times)e.push("".concat(n.padEnd(t)," ").concat(s-i,"ms\n"));return e.join("")}}function ii(e,t){const n=t?URL.parse(e,t):URL.parse(e);return"http:"===(null===n||void 0===n?void 0:n.protocol)||"https:"===(null===n||void 0===n?void 0:n.protocol)}function si(e){e.preventDefault()}function ai(e){e.preventDefault(),e.stopPropagation()}class ri{static toDateObject(e){if(!e||"string"!==typeof e)return null;yt(ri,this,oi)._||(oi._=yt(ri,this,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?")));const t=yt(ri,this,oi)._.exec(e);if(!t)return null;const n=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;let r=parseInt(t[5],10);r=r>=0&&r<=59?r:0;let o=parseInt(t[6],10);o=o>=0&&o<=59?o:0;const l=t[7]||"Z";let c=parseInt(t[8],10);c=c>=0&&c<=23?c:0;let d=parseInt(t[9],10)||0;return d=d>=0&&d<=59?d:0,"-"===l?(a+=c,r+=d):"+"===l&&(a-=c,r-=d),new Date(Date.UTC(n,i,s,a,r,o))}}var oi={_:void 0};function li(e){if(e.startsWith("#")){const t=parseInt(e.slice(1),16);return[(16711680&t)>>16,(65280&t)>>8,255&t]}return e.startsWith("rgb(")?e.slice(4,-1).split(",").map(e=>parseInt(e)):e.startsWith("rgba(")?e.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(kn('Not a valid color format: "'.concat(e,'"')),[0,0,0])}function ci(e){const{a:t,b:n,c:i,d:s,e:a,f:r}=e.getTransform();return[t,n,i,s,a,r]}function di(e){const{a:t,b:n,c:i,d:s,e:a,f:r}=e.getTransform().invertSelf();return[t,n,i,s,a,r]}function ui(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(t instanceof Jn){const{pageWidth:i,pageHeight:s}=t.rawDims,{style:a}=e,r=On.isCSSRoundSupported,o="var(--total-scale-factor) * ".concat(i,"px"),l="var(--total-scale-factor) * ".concat(s,"px"),c=r?"round(down, ".concat(o,", var(--scale-round-x))"):"calc(".concat(o,")"),d=r?"round(down, ".concat(l,", var(--scale-round-y))"):"calc(".concat(l,")");n&&t.rotation%180!==0?(a.width=d,a.height=c):(a.width=c,a.height=d)}i&&e.setAttribute("data-main-rotation",t.rotation)}class hi{constructor(){const{pixelRatio:e}=hi;this.sx=e,this.sy=e}get scaled(){return 1!==this.sx||1!==this.sy}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,n,i){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,a=1/0,r=1/0,o=1/0;(n=hi.capPixels(n,s))>0&&(a=Math.sqrt(n/(e*t))),-1!==i&&(r=i/e,o=i/t);const l=Math.min(a,r,o);return(this.sx>l||this.sy>l)&&(this.sx=l,this.sy=l,!0)}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,n):n}return e}}const pi=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];var mi=new WeakMap,fi=new WeakMap,gi=new WeakMap,vi=new WeakMap,yi=new WeakMap,bi=new WeakMap,xi=new WeakSet;class wi{constructor(e){gt(this,xi),vt(this,mi,null),vt(this,fi,null),vt(this,gi,void 0),vt(this,vi,null),vt(this,yi,null),vt(this,bi,null),wt(gi,this,e),ji._||(ji._=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=wt(mi,this,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=xt(gi,this)._uiManager._signal;e.addEventListener("contextmenu",si,{signal:t}),e.addEventListener("pointerdown",Si,{signal:t});const n=wt(vi,this,document.createElement("div"));n.className="buttons",e.append(n);const i=xt(gi,this).toolbarPosition;if(i){const{style:t}=e,n="ltr"===xt(gi,this)._uiManager.direction?1-i[0]:i[0];t.insetInlineEnd="".concat(100*n,"%"),t.top="calc(".concat(100*i[1],"% + var(--editor-toolbar-vert-offset))")}return e}get div(){return xt(mi,this)}hide(){var e;xt(mi,this).classList.add("hidden"),null===(e=xt(fi,this))||void 0===e||e.hideDropdown()}show(){var e;xt(mi,this).classList.remove("hidden"),null===(e=xt(yi,this))||void 0===e||e.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=xt(gi,this),n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",ji._[e]),yt(xi,this,Ei).call(this,n),n.addEventListener("click",e=>{t.delete()},{signal:t._signal}),xt(vi,this).append(n)}async addAltText(e){const t=await e.render();yt(xi,this,Ei).call(this,t),xt(vi,this).append(t,bt(xi,this,_i)),wt(yi,this,e)}addColorPicker(e){wt(fi,this,e);const t=e.renderButton();yt(xi,this,Ei).call(this,t),xt(vi,this).append(t,bt(xi,this,_i))}async addEditSignatureButton(e){const t=wt(bi,this,await e.renderEditButton(xt(gi,this)));yt(xi,this,Ei).call(this,t),xt(vi,this).append(t,bt(xi,this,_i))}async addButton(e,t){switch(e){case"colorPicker":this.addColorPicker(t);break;case"altText":await this.addAltText(t);break;case"editSignature":await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton()}}updateEditSignatureButton(e){xt(bi,this)&&(xt(bi,this).title=e)}remove(){var e;xt(mi,this).remove(),null===(e=xt(fi,this))||void 0===e||e.destroy(),wt(fi,this,null)}}function Si(e){e.stopPropagation()}function ki(e){xt(gi,this)._focusEventsAllowed=!1,ai(e)}function Ai(e){xt(gi,this)._focusEventsAllowed=!0,ai(e)}function Ei(e){const t=xt(gi,this)._uiManager._signal;e.addEventListener("focusin",yt(xi,this,ki).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",yt(xi,this,Ai).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",si,{signal:t})}function _i(e){const t=document.createElement("div");return t.className="divider",t}var ji={_:null},Ni=new WeakMap,Ci=new WeakMap,Mi=new WeakMap,Ti=new WeakSet;class Pi{constructor(e){gt(this,Ti),vt(this,Ni,null),vt(this,Ci,null),vt(this,Mi,void 0),wt(Mi,this,e)}show(e,t,n){const[i,s]=yt(Ti,this,Ri).call(this,t,n),{style:a}=xt(Ci,this)||wt(Ci,this,yt(Ti,this,Ii).call(this));e.append(xt(Ci,this)),a.insetInlineEnd="".concat(100*i,"%"),a.top="calc(".concat(100*s,"% + var(--editor-toolbar-vert-offset))")}hide(){xt(Ci,this).remove()}}function Ii(){const e=wt(Ci,this,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",si,{signal:xt(Mi,this)._signal});const t=wt(Ni,this,document.createElement("div"));return t.className="buttons",e.append(t),yt(Ti,this,Li).call(this),e}function Ri(e,t){let n=0,i=0;for(const s of e){const e=s.y+s.height;if(e<n)continue;const a=s.x+(t?s.width:0);e>n?(i=a,n=e):t?a>i&&(i=a):a<i&&(i=a)}return[t?1-i:i,n]}function Li(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=xt(Mi,this)._signal;e.addEventListener("contextmenu",si,{signal:n}),e.addEventListener("click",()=>{xt(Mi,this).highlightSelection("floating_button")},{signal:n}),xt(Ni,this).append(e)}function Di(e,t,n){for(const i of n)t.addEventListener(i,e[i].bind(e))}var Fi=new WeakMap;class Oi{constructor(){vt(this,Fi,0)}get id(){var e,t;return"".concat(Qt).concat((wt(Fi,this,(e=xt(Fi,this),t=e++,e)),t))}}var Wi=new WeakMap,Bi=new WeakMap,Ui=new WeakMap,zi=new WeakSet;class Hi{constructor(){gt(this,zi),vt(this,Wi,Vn()),vt(this,Bi,0),vt(this,Ui,null)}static get _isSVGFittingCanvas(){const e=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),t=new Image;t.src='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>';return Nn(this,"_isSVGFittingCanvas",t.decode().then(()=>(e.drawImage(t,0,0,1,1,0,0,1,3),0===new Uint32Array(e.getImageData(0,0,1,1).data.buffer)[0])))}async getFromFile(e){const{lastModified:t,name:n,size:i,type:s}=e;return yt(zi,this,Gi).call(this,"".concat(t,"_").concat(n,"_").concat(i,"_").concat(s),e)}async getFromUrl(e){return yt(zi,this,Gi).call(this,e,e)}async getFromBlob(e,t){const n=await t;return yt(zi,this,Gi).call(this,e,n)}async getFromId(e){xt(Ui,this)||wt(Ui,this,new Map);const t=xt(Ui,this).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:e}=t;return delete t.blobPromise,this.getFromBlob(t.id,e)}return this.getFromUrl(t.url)}getFromCanvas(e,t){var n,i,s;xt(Ui,this)||wt(Ui,this,new Map);let a=xt(Ui,this).get(e);if(null!==(s=a)&&void 0!==s&&s.bitmap)return a.refCounter+=1,a;const r=new OffscreenCanvas(t.width,t.height);return r.getContext("2d").drawImage(t,0,0),a={bitmap:r.transferToImageBitmap(),id:"image_".concat(xt(Wi,this),"_").concat((wt(Bi,this,(n=xt(Bi,this),i=n++,n)),i)),refCounter:1,isSvg:!1},xt(Ui,this).set(e,a),xt(Ui,this).set(a.id,a),a}getSvgUrl(e){const t=xt(Ui,this).get(e);return null!==t&&void 0!==t&&t.isSvg?t.svgUrl:null}deleteId(e){var t;xt(Ui,this)||wt(Ui,this,new Map);const n=xt(Ui,this).get(e);if(!n)return;if(n.refCounter-=1,0!==n.refCounter)return;const{bitmap:i}=n;if(!n.url&&!n.file){const e=new OffscreenCanvas(i.width,i.height);e.getContext("bitmaprenderer").transferFromImageBitmap(i),n.blobPromise=e.convertToBlob()}null===(t=i.close)||void 0===t||t.call(i),n.bitmap=null}isValidId(e){return e.startsWith("image_".concat(xt(Wi,this),"_"))}}async function Gi(e,t){var n;xt(Ui,this)||wt(Ui,this,new Map);let i=xt(Ui,this).get(e);if(null===i)return null;if(null!==(n=i)&&void 0!==n&&n.bitmap)return i.refCounter+=1,i;try{var s,a;let e;if(i||(i={bitmap:null,id:"image_".concat(xt(Wi,this),"_").concat((wt(Bi,this,(s=xt(Bi,this),a=s++,s)),a)),refCounter:0,isSvg:!1}),"string"===typeof t?(i.url=t,e=await $n(t,"blob")):t instanceof File?e=i.file=t:t instanceof Blob&&(e=t),"image/svg+xml"===e.type){const t=Et._isSVGFittingCanvas,n=new FileReader,s=new Image,a=new Promise((e,a)=>{s.onload=()=>{i.bitmap=s,i.isSvg=!0,e()},n.onload=async()=>{const e=i.svgUrl=n.result;s.src=await t?"".concat(e,"#svgView(preserveAspectRatio(none))"):e},s.onerror=n.onerror=a});n.readAsDataURL(e),await a}else i.bitmap=await createImageBitmap(e);i.refCounter=1}catch(Fy){kn(Fy),i=null}return xt(Ui,this).set(e,i),i&&xt(Ui,this).set(i.id,i),i}Et=Hi;var Vi=new WeakMap,qi=new WeakMap,Yi=new WeakMap,Ki=new WeakMap;class Xi{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:128;vt(this,Vi,[]),vt(this,qi,!1),vt(this,Yi,void 0),vt(this,Ki,-1),wt(Yi,this,e)}add(e){let{cmd:t,undo:n,post:i,mustExec:s,type:a=NaN,overwriteIfSameType:r=!1,keepUndo:o=!1}=e;if(s&&t(),xt(qi,this))return;const l={cmd:t,undo:n,post:i,type:a};if(-1===xt(Ki,this))return xt(Vi,this).length>0&&(xt(Vi,this).length=0),wt(Ki,this,0),void xt(Vi,this).push(l);if(r&&xt(Vi,this)[xt(Ki,this)].type===a)return o&&(l.undo=xt(Vi,this)[xt(Ki,this)].undo),void(xt(Vi,this)[xt(Ki,this)]=l);const c=xt(Ki,this)+1;c===xt(Yi,this)?xt(Vi,this).splice(0,1):(wt(Ki,this,c),c<xt(Vi,this).length&&xt(Vi,this).splice(c)),xt(Vi,this).push(l)}undo(){if(-1===xt(Ki,this))return;wt(qi,this,!0);const{undo:e,post:t}=xt(Vi,this)[xt(Ki,this)];e(),null===t||void 0===t||t(),wt(qi,this,!1),wt(Ki,this,xt(Ki,this)-1)}redo(){if(xt(Ki,this)<xt(Vi,this).length-1){wt(Ki,this,xt(Ki,this)+1),wt(qi,this,!0);const{cmd:e,post:t}=xt(Vi,this)[xt(Ki,this)];e(),null===t||void 0===t||t(),wt(qi,this,!1)}}hasSomethingToUndo(){return-1!==xt(Ki,this)}hasSomethingToRedo(){return xt(Ki,this)<xt(Vi,this).length-1}cleanType(e){if(-1!==xt(Ki,this)){for(let t=xt(Ki,this);t>=0;t--)if(xt(Vi,this)[t].type!==e)return xt(Vi,this).splice(t+1,xt(Ki,this)-t),void wt(Ki,this,t);xt(Vi,this).length=0,wt(Ki,this,-1)}}destroy(){wt(Vi,this,null)}}var Qi=new WeakSet;class $i{constructor(e){gt(this,Qi),this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=On.platform;for(const[n,i,s={}]of e)for(const e of n){const n=e.startsWith("mac+");t&&n?(this.callbacks.set(e.slice(4),{callback:i,options:s}),this.allKeys.add(e.split("+").at(-1))):t||n||(this.callbacks.set(e,{callback:i,options:s}),this.allKeys.add(e.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(yt(Qi,this,Ji).call(this,t));if(!n)return;const{callback:i,options:{bubbles:s=!1,args:a=[],checker:r=null}}=n;r&&!r(e,t)||(i.bind(e,...a,t)(),s||ai(t))}}function Ji(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t}class Zi{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return function(e){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const n of e.keys()){t.style.color=n;const i=window.getComputedStyle(t).color;e.set(n,li(i))}t.remove()}(e),Nn(this,"_colors",e)}convert(e){const t=li(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,i]of this._colors)if(i.every((e,n)=>e===t[n]))return Zi._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?Bn.makeHexColor(...t):e}}Le(Zi,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));var es=new WeakMap,ts=new WeakMap,ns=new WeakMap,is=new WeakMap,ss=new WeakMap,as=new WeakMap,rs=new WeakMap,os=new WeakMap,ls=new WeakMap,cs=new WeakMap,ds=new WeakMap,us=new WeakMap,hs=new WeakMap,ps=new WeakMap,ms=new WeakMap,fs=new WeakMap,gs=new WeakMap,vs=new WeakMap,ys=new WeakMap,bs=new WeakMap,xs=new WeakMap,ws=new WeakMap,Ss=new WeakMap,ks=new WeakMap,As=new WeakMap,Es=new WeakMap,_s=new WeakMap,js=new WeakMap,Ns=new WeakMap,Cs=new WeakMap,Ms=new WeakMap,Ts=new WeakMap,Ps=new WeakMap,Is=new WeakMap,Rs=new WeakMap,Ls=new WeakMap,Ds=new WeakMap,Fs=new WeakMap,Os=new WeakMap,Ws=new WeakMap,Bs=new WeakMap,Us=new WeakMap,zs=new WeakMap,Hs=new WeakMap,Gs=new WeakMap,Vs=new WeakSet;class qs{static get _keyboardManager(){const e=qs.prototype,t=e=>xt(Us,e).contains(document.activeElement)&&"BUTTON"!==document.activeElement.tagName&&e.hasSomethingToControl(),n=(e,t)=>{let{target:n}=t;if(n instanceof HTMLInputElement){const{type:e}=n;return"text"!==e&&"number"!==e}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return Nn(this,"_keyboardManager",new $i([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(e,t)=>{let{target:n}=t;return!(n instanceof HTMLButtonElement)&&xt(Us,e).contains(n)&&!e.isEnterHandled}}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(e,t)=>{let{target:n}=t;return!(n instanceof HTMLButtonElement)&&xt(Us,e).contains(document.activeElement)}}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}constructor(e,t,n,i,s,a,r,o,l,c,d,u,h,p,m){gt(this,Vs),vt(this,es,new AbortController),vt(this,ts,null),vt(this,ns,new Map),vt(this,is,new Map),vt(this,ss,null),vt(this,as,null),vt(this,rs,null),vt(this,os,new Xi),vt(this,ls,null),vt(this,cs,null),vt(this,ds,0),vt(this,us,new Set),vt(this,hs,null),vt(this,ps,null),vt(this,ms,new Set),Le(this,"_editorUndoBar",null),vt(this,fs,!1),vt(this,gs,!1),vt(this,vs,!1),vt(this,ys,null),vt(this,bs,null),vt(this,xs,null),vt(this,ws,null),vt(this,Ss,!1),vt(this,ks,null),vt(this,As,new Oi),vt(this,Es,!1),vt(this,_s,!1),vt(this,js,null),vt(this,Ns,null),vt(this,Cs,null),vt(this,Ms,null),vt(this,Ts,null),vt(this,Ps,$t.NONE),vt(this,Is,new Set),vt(this,Rs,null),vt(this,Ls,null),vt(this,Ds,null),vt(this,Fs,null),vt(this,Os,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1}),vt(this,Ws,[0,0]),vt(this,Bs,null),vt(this,Us,null),vt(this,zs,null),vt(this,Hs,null),vt(this,Gs,null);const f=this._signal=xt(es,this).signal;wt(Us,this,e),wt(zs,this,t),wt(Hs,this,n),wt(ss,this,i),wt(Ls,this,s),this._eventBus=a,a._on("editingaction",this.onEditingAction.bind(this),{signal:f}),a._on("pagechanging",this.onPageChanging.bind(this),{signal:f}),a._on("scalechanging",this.onScaleChanging.bind(this),{signal:f}),a._on("rotationchanging",this.onRotationChanging.bind(this),{signal:f}),a._on("setpreference",this.onSetPreference.bind(this),{signal:f}),a._on("switchannotationeditorparams",e=>this.updateParams(e.type,e.value),{signal:f}),yt(Vs,this,Js).call(this),yt(Vs,this,aa).call(this),yt(Vs,this,ta).call(this),wt(as,this,r.annotationStorage),wt(ys,this,r.filterFactory),wt(Ds,this,o),wt(ws,this,l||null),wt(fs,this,c),wt(gs,this,d),wt(vs,this,u),wt(Ts,this,h||null),this.viewParameters={realScale:Qn.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=p||null,this._supportsPinchToZoom=!1!==m}destroy(){var e,t,n,i,s,a,r,o;null===(e=xt(Gs,this))||void 0===e||e.resolve(),wt(Gs,this,null),null===(t=xt(es,this))||void 0===t||t.abort(),wt(es,this,null),this._signal=null;for(const l of xt(is,this).values())l.destroy();xt(is,this).clear(),xt(ns,this).clear(),xt(ms,this).clear(),null===(n=xt(Ms,this))||void 0===n||n.clear(),wt(ts,this,null),xt(Is,this).clear(),xt(os,this).destroy(),null===(i=xt(ss,this))||void 0===i||i.destroy(),null===(s=xt(Ls,this))||void 0===s||s.destroy(),null===(a=xt(ks,this))||void 0===a||a.hide(),wt(ks,this,null),null===(r=xt(Cs,this))||void 0===r||r.destroy(),wt(Cs,this,null),xt(bs,this)&&(clearTimeout(xt(bs,this)),wt(bs,this,null)),xt(Bs,this)&&(clearTimeout(xt(Bs,this)),wt(Bs,this,null)),null===(o=this._editorUndoBar)||void 0===o||o.destroy()}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return xt(Ts,this)}get useNewAltTextFlow(){return xt(gs,this)}get useNewAltTextWhenAddingImage(){return xt(vs,this)}get hcmFilter(){return Nn(this,"hcmFilter",xt(Ds,this)?xt(ys,this).addHCMFilter(xt(Ds,this).foreground,xt(Ds,this).background):"none")}get direction(){return Nn(this,"direction",getComputedStyle(xt(Us,this)).direction)}get highlightColors(){return Nn(this,"highlightColors",xt(ws,this)?new Map(xt(ws,this).split(",").map(e=>((e=e.split("=").map(e=>e.trim()))[1]=e[1].toUpperCase(),e))):null)}get highlightColorNames(){return Nn(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),wt(cs,this,e)}setMainHighlightColorPicker(e){wt(Cs,this,e)}editAltText(e){var t;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];null===(t=xt(ss,this))||void 0===t||t.editAltText(this,e,n)}getSignature(e){var t;null===(t=xt(Ls,this))||void 0===t||t.getSignature({uiManager:this,editor:e})}get signatureManager(){return xt(Ls,this)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference(e){let{name:t,value:n}=e;if("enableNewAltTextWhenAddingImage"===t)wt(vs,this,n)}onPageChanging(e){let{pageNumber:t}=e;wt(ds,this,t-1)}focusMainContainer(){xt(Us,this).focus()}findParent(e,t){for(const n of xt(is,this).values()){const{x:i,y:s,width:a,height:r}=n.div.getBoundingClientRect();if(e>=i&&e<=i+a&&t>=s&&t<=s+r)return n}return null}disableUserSelect(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];xt(zs,this).classList.toggle("noUserSelect",e)}addShouldRescale(e){xt(ms,this).add(e)}removeShouldRescale(e){xt(ms,this).delete(e)}onScaleChanging(e){var t;let{scale:n}=e;this.commitOrRemove(),this.viewParameters.realScale=n*Qn.PDF_TO_CSS_UNITS;for(const i of xt(ms,this))i.onScaleChanging();null===(t=xt(cs,this))||void 0===t||t.onScaleChanging()}onRotationChanging(e){let{pagesRotation:t}=e;this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:n,anchorOffset:i,focusNode:s,focusOffset:a}=t,r=t.toString(),o=yt(Vs,this,Ys).call(this,t).closest(".textLayer"),l=this.getSelectionBoxes(o);if(!l)return;t.empty();const c=yt(Vs,this,Ks).call(this,o),d=xt(Ps,this)===$t.NONE,u=()=>{null===c||void 0===c||c.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:l,anchorNode:n,anchorOffset:i,focusNode:s,focusOffset:a,text:r}),d&&this.showAllEditors("highlight",!0,!0)};d?this.switchToMode($t.HIGHLIGHT,u):u()}addToAnnotationStorage(e){e.isEmpty()||!xt(as,this)||xt(as,this).has(e.id)||xt(as,this).setValue(e.id,e)}a11yAlert(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=xt(Hs,this);n&&(n.setAttribute("data-l10n-id",e),t?n.setAttribute("data-l10n-args",JSON.stringify(t)):n.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,xt(Ss,this)&&(wt(Ss,this,!1),yt(Vs,this,$s).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of xt(Is,this))if(t.div.contains(e)){wt(Ns,this,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!xt(Ns,this))return;const[e,t]=xt(Ns,this);wt(Ns,this,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){yt(Vs,this,ta).call(this),yt(Vs,this,ia).call(this)}removeEditListeners(){yt(Vs,this,na).call(this),yt(Vs,this,sa).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of xt(ps,this))if(n.isHandlingMimeForPasting(t))return e.dataTransfer.dropEffect="copy",void e.preventDefault()}drop(e){for(const t of e.dataTransfer.items)for(const n of xt(ps,this))if(n.isHandlingMimeForPasting(t.type))return n.paste(t,this.currentLayer),void e.preventDefault()}copy(e){var t;if(e.preventDefault(),null===(t=xt(ts,this))||void 0===t||t.commitOrRemove(),!this.hasSelection)return;const n=[];for(const i of xt(Is,this)){const e=i.serialize(!0);e&&n.push(e)}0!==n.length&&e.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const a of t.items)for(const e of xt(ps,this))if(e.isHandlingMimeForPasting(a.type))return void e.paste(a,this.currentLayer);let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(s){return void kn('paste: "'.concat(s.message,'".'))}if(!Array.isArray(n))return;this.unselectAll();const i=this.currentLayer;try{const e=[];for(const a of n){const t=await i.deserialize(a);if(!t)return;e.push(t)}const t=()=>{for(const t of e)yt(Vs,this,da).call(this,t);yt(Vs,this,pa).call(this,e)},s=()=>{for(const t of e)t.remove()};this.addCommands({cmd:t,undo:s,mustExec:!0})}catch(s){kn('paste: "'.concat(s.message,'".'))}}keydown(e){this.isShiftKeyDown||"Shift"!==e.key||(this.isShiftKeyDown=!0),xt(Ps,this)===$t.NONE||this.isEditorHandlingKeyboard||qs._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&"Shift"===e.key&&(this.isShiftKeyDown=!1,xt(Ss,this)&&(wt(Ss,this,!1),yt(Vs,this,$s).call(this,"main_toolbar")))}onEditingAction(e){let{name:t}=e;switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu")}}setEditingState(e){e?(yt(Vs,this,Zs).call(this),yt(Vs,this,ia).call(this),yt(Vs,this,ra).call(this,{isEditing:xt(Ps,this)!==$t.NONE,isEmpty:yt(Vs,this,ha).call(this),hasSomethingToUndo:xt(os,this).hasSomethingToUndo(),hasSomethingToRedo:xt(os,this).hasSomethingToRedo(),hasSelectedEditor:!1})):(yt(Vs,this,ea).call(this),yt(Vs,this,sa).call(this),yt(Vs,this,ra).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!xt(ps,this)){wt(ps,this,e);for(const e of xt(ps,this))yt(Vs,this,oa).call(this,e.defaultPropertiesToUpdate)}}getId(){return xt(As,this).id}get currentLayer(){return xt(is,this).get(xt(ds,this))}getLayer(e){return xt(is,this).get(e)}get currentPageIndex(){return xt(ds,this)}addLayer(e){xt(is,this).set(e.pageIndex,e),xt(Es,this)?e.enable():e.disable()}removeLayer(e){xt(is,this).delete(e.pageIndex)}async updateMode(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(xt(Ps,this)!==e&&(!xt(Gs,this)||(await xt(Gs,this).promise,xt(Gs,this)))){var a,r;if(wt(Gs,this,Promise.withResolvers()),null===(t=xt(cs,this))||void 0===t||t.commitOrRemove(),wt(Ps,this,e),e===$t.NONE)return this.setEditingState(!1),yt(Vs,this,ca).call(this),null===(a=this._editorUndoBar)||void 0===a||a.hide(),void xt(Gs,this).resolve();if(e===$t.SIGNATURE)await(null===(r=xt(Ls,this))||void 0===r?void 0:r.loadSignatures());this.setEditingState(!0),await yt(Vs,this,la).call(this),this.unselectAll();for(const t of xt(is,this).values())t.updateMode(e);if(!n)return i&&this.addNewEditorFromKeyboard(),void xt(Gs,this).resolve();for(const e of xt(ns,this).values())e.annotationElementId===n||e.id===n?(this.setSelected(e),s&&e.enterInEditMode()):e.unselect();xt(Gs,this).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==xt(Ps,this)&&this._eventBus.dispatch("switchannotationeditormode",Fe({source:this},e))}updateParams(e,t){var n;if(xt(ps,this)){switch(e){case Jt.CREATE:return void this.currentLayer.addNewEditor(t);case Jt.HIGHLIGHT_DEFAULT_COLOR:null===(n=xt(Cs,this))||void 0===n||n.updateColor(t);break;case Jt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(xt(Fs,this)||wt(Fs,this,new Map)).set(e,t),this.showAllEditors("highlight",t)}for(const n of xt(Is,this))n.updateParams(e,t);for(const n of xt(ps,this))n.updateDefaultParams(e,t)}}showAllEditors(e,t){var n,i;for(const s of xt(ns,this).values())s.editorType===e&&s.show(t);(null===(n=null===(i=xt(Fs,this))||void 0===i?void 0:i.get(Jt.HIGHLIGHT_SHOW_ALL))||void 0===n||n)!==t&&yt(Vs,this,oa).call(this,[[Jt.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(xt(_s,this)!==e){wt(_s,this,e);for(const t of xt(is,this).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const n of xt(ns,this).values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return xt(ns,this).get(e)}addEditor(e){xt(ns,this).set(e.id,e)}removeEditor(e){var t,n;(e.div.contains(document.activeElement)&&(xt(bs,this)&&clearTimeout(xt(bs,this)),wt(bs,this,setTimeout(()=>{this.focusMainContainer(),wt(bs,this,null)},0))),xt(ns,this).delete(e.id),e.annotationElementId)&&(null===(t=xt(Ms,this))||void 0===t||t.delete(e.annotationElementId));(this.unselect(e),e.annotationElementId&&xt(us,this).has(e.annotationElementId))||(null===(n=xt(as,this))||void 0===n||n.remove(e.id))}addDeletedAnnotationElement(e){xt(us,this).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return xt(us,this).has(e)}removeDeletedAnnotationElement(e){xt(us,this).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){xt(ts,this)!==e&&(wt(ts,this,e),e&&yt(Vs,this,oa).call(this,e.propertiesToUpdate))}updateUI(e){bt(Vs,this,ua)===e&&yt(Vs,this,oa).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){yt(Vs,this,oa).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(xt(Is,this).has(e))return xt(Is,this).delete(e),e.unselect(),void yt(Vs,this,ra).call(this,{hasSelectedEditor:this.hasSelection});xt(Is,this).add(e),e.select(),yt(Vs,this,oa).call(this,e.propertiesToUpdate),yt(Vs,this,ra).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;this.updateToolbar({mode:e.mode,editId:e.id}),null===(t=xt(cs,this))||void 0===t||t.commitOrRemove();for(const n of xt(Is,this))n!==e&&n.unselect();xt(Is,this).clear(),xt(Is,this).add(e),e.select(),yt(Vs,this,oa).call(this,e.propertiesToUpdate),yt(Vs,this,ra).call(this,{hasSelectedEditor:!0})}isSelected(e){return xt(Is,this).has(e)}get firstSelectedEditor(){return xt(Is,this).values().next().value}unselect(e){e.unselect(),xt(Is,this).delete(e),yt(Vs,this,ra).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==xt(Is,this).size}get isEnterHandled(){return 1===xt(Is,this).size&&this.firstSelectedEditor.isEnterHandled}undo(){var e;xt(os,this).undo(),yt(Vs,this,ra).call(this,{hasSomethingToUndo:xt(os,this).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:yt(Vs,this,ha).call(this)}),null===(e=this._editorUndoBar)||void 0===e||e.hide()}redo(){xt(os,this).redo(),yt(Vs,this,ra).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:xt(os,this).hasSomethingToRedo(),isEmpty:yt(Vs,this,ha).call(this)})}addCommands(e){xt(os,this).add(e),yt(Vs,this,ra).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:yt(Vs,this,ha).call(this)})}cleanUndoStack(e){xt(os,this).cleanType(e)}delete(){var e;this.commitOrRemove();const t=null===(e=this.currentLayer)||void 0===e?void 0:e.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const n=t?[t]:[...xt(Is,this)],i=()=>{for(const e of n)yt(Vs,this,da).call(this,e)};this.addCommands({cmd:()=>{var e;null===(e=this._editorUndoBar)||void 0===e||e.show(i,1===n.length?n[0].editorType:n.length);for(const t of n)t.remove()},undo:i,mustExec:!0})}commitOrRemove(){var e;null===(e=xt(ts,this))||void 0===e||e.commitOrRemove()}hasSomethingToControl(){return xt(ts,this)||this.hasSelection}selectAll(){for(const e of xt(Is,this))e.commit();yt(Vs,this,pa).call(this,xt(ns,this).values())}unselectAll(){var e;if((!xt(ts,this)||(xt(ts,this).commitOrRemove(),xt(Ps,this)===$t.NONE))&&(null===(e=xt(cs,this))||void 0===e||!e.commitOrRemove())&&this.hasSelection){for(const e of xt(Is,this))e.unselect();xt(Is,this).clear(),yt(Vs,this,ra).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]||this.commitOrRemove(),!this.hasSelection)return;xt(Ws,this)[0]+=e,xt(Ws,this)[1]+=t;const[n,i]=xt(Ws,this),s=[...xt(Is,this)];xt(Bs,this)&&clearTimeout(xt(Bs,this)),wt(Bs,this,setTimeout(()=>{wt(Bs,this,null),xt(Ws,this)[0]=xt(Ws,this)[1]=0,this.addCommands({cmd:()=>{for(const e of s)xt(ns,this).has(e.id)&&(e.translateInPage(n,i),e.translationDone())},undo:()=>{for(const e of s)xt(ns,this).has(e.id)&&(e.translateInPage(-n,-i),e.translationDone())},mustExec:!1})},1e3));for(const a of s)a.translateInPage(e,t),a.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),wt(hs,this,new Map);for(const e of xt(Is,this))xt(hs,this).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!xt(hs,this))return!1;this.disableUserSelect(!1);const e=xt(hs,this);wt(hs,this,null);let t=!1;for(const[{x:i,y:s,pageIndex:a},r]of e)r.newX=i,r.newY=s,r.newPageIndex=a,t||(t=i!==r.savedX||s!==r.savedY||a!==r.savedPageIndex);if(!t)return!1;const n=(e,t,n,i)=>{if(xt(ns,this).has(e.id)){const s=xt(is,this).get(i);s?e._setParentAndPosition(s,t,n):(e.pageIndex=i,e.x=t,e.y=n)}};return this.addCommands({cmd:()=>{for(const[t,{newX:i,newY:s,newPageIndex:a}]of e)n(t,i,s,a)},undo:()=>{for(const[t,{savedX:i,savedY:s,savedPageIndex:a}]of e)n(t,i,s,a)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(xt(hs,this))for(const n of xt(hs,this).keys())n.drag(e,t)}rebuild(e){if(null===e.parent){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return(null===(e=this.getActive())||void 0===e?void 0:e.shouldGetKeyboardEvents())||1===xt(Is,this).size&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return xt(ts,this)===e}getActive(){return xt(ts,this)}getMode(){return xt(Ps,this)}get imageManager(){return Nn(this,"imageManager",new Hi)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let l=0,c=t.rangeCount;l<c;l++)if(!e.contains(t.getRangeAt(l).commonAncestorContainer))return null;const{x:n,y:i,width:s,height:a}=e.getBoundingClientRect();let r;switch(e.getAttribute("data-main-rotation")){case"90":r=(e,t,r,o)=>({x:(t-i)/a,y:1-(e+r-n)/s,width:o/a,height:r/s});break;case"180":r=(e,t,r,o)=>({x:1-(e+r-n)/s,y:1-(t+o-i)/a,width:r/s,height:o/a});break;case"270":r=(e,t,r,o)=>({x:1-(t+o-i)/a,y:(e-n)/s,width:o/a,height:r/s});break;default:r=(e,t,r,o)=>({x:(e-n)/s,y:(t-i)/a,width:r/s,height:o/a})}const o=[];for(let l=0,c=t.rangeCount;l<c;l++){const e=t.getRangeAt(l);if(!e.collapsed)for(const{x:t,y:n,width:i,height:s}of e.getClientRects())0!==i&&0!==s&&o.push(r(t,n,i,s))}return 0===o.length?null:o}addChangedExistingAnnotation(e){let{annotationElementId:t,id:n}=e;(xt(rs,this)||wt(rs,this,new Map)).set(t,n)}removeChangedExistingAnnotation(e){var t;let{annotationElementId:n}=e;null===(t=xt(rs,this))||void 0===t||t.delete(n)}renderAnnotationElement(e){var t;const n=null===(t=xt(rs,this))||void 0===t?void 0:t.get(e.data.id);if(!n)return;const i=xt(as,this).getRawValue(n);i&&(xt(Ps,this)!==$t.NONE||i.hasBeenModified)&&i.renderAnnotationElement(e)}setMissingCanvas(e,t,n){var i;const s=null===(i=xt(Ms,this))||void 0===i?void 0:i.get(e);s&&(s.setCanvas(t,n),xt(Ms,this).delete(e))}addMissingCanvas(e,t){(xt(Ms,this)||wt(Ms,this,new Map)).set(e,t)}}function Ys(e){let{anchorNode:t}=e;return t.nodeType===Node.TEXT_NODE?t.parentElement:t}function Ks(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const n of xt(is,this).values())if(n.hasTextLayer(e))return n;return null}function Xs(){const e=document.getSelection();if(!e||e.isCollapsed)return;const t=yt(Vs,this,Ys).call(this,e).closest(".textLayer"),n=this.getSelectionBoxes(t);n&&(xt(ks,this)||wt(ks,this,new Pi(this)),xt(ks,this).show(t,n,"ltr"===this.direction))}function Qs(){var e;const t=document.getSelection();if(!t||t.isCollapsed){var n;if(xt(Rs,this))null===(n=xt(ks,this))||void 0===n||n.hide(),wt(Rs,this,null),yt(Vs,this,ra).call(this,{hasSelectedText:!1});return}const{anchorNode:i}=t;if(i===xt(Rs,this))return;const s=yt(Vs,this,Ys).call(this,t).closest(".textLayer");var a;if(s){if(null===(e=xt(ks,this))||void 0===e||e.hide(),wt(Rs,this,i),yt(Vs,this,ra).call(this,{hasSelectedText:!0}),(xt(Ps,this)===$t.HIGHLIGHT||xt(Ps,this)===$t.NONE)&&(xt(Ps,this)===$t.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),wt(Ss,this,this.isShiftKeyDown),!this.isShiftKeyDown)){const e=xt(Ps,this)===$t.HIGHLIGHT?yt(Vs,this,Ks).call(this,s):null;null===e||void 0===e||e.toggleDrawing();const t=new AbortController,n=this.combinedSignal(t),i=n=>{"pointerup"===n.type&&0!==n.button||(t.abort(),null===e||void 0===e||e.toggleDrawing(!0),"pointerup"===n.type&&yt(Vs,this,$s).call(this,"main_toolbar"))};window.addEventListener("pointerup",i,{signal:n}),window.addEventListener("blur",i,{signal:n})}}else xt(Rs,this)&&(null===(a=xt(ks,this))||void 0===a||a.hide(),wt(Rs,this,null),yt(Vs,this,ra).call(this,{hasSelectedText:!1}))}function $s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";xt(Ps,this)===$t.HIGHLIGHT?this.highlightSelection(e):xt(fs,this)&&yt(Vs,this,Xs).call(this)}function Js(){document.addEventListener("selectionchange",yt(Vs,this,Qs).bind(this),{signal:this._signal})}function Zs(){if(xt(xs,this))return;wt(xs,this,new AbortController);const e=this.combinedSignal(xt(xs,this));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})}function ea(){var e;null===(e=xt(xs,this))||void 0===e||e.abort(),wt(xs,this,null)}function ta(){if(xt(js,this))return;wt(js,this,new AbortController);const e=this.combinedSignal(xt(js,this));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})}function na(){var e;null===(e=xt(js,this))||void 0===e||e.abort(),wt(js,this,null)}function ia(){if(xt(ls,this))return;wt(ls,this,new AbortController);const e=this.combinedSignal(xt(ls,this));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})}function sa(){var e;null===(e=xt(ls,this))||void 0===e||e.abort(),wt(ls,this,null)}function aa(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}function ra(e){Object.entries(e).some(e=>{let[t,n]=e;return xt(Os,this)[t]!==n})&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(xt(Os,this),e)}),xt(Ps,this)===$t.HIGHLIGHT&&!1===e.hasSelectedEditor&&yt(Vs,this,oa).call(this,[[Jt.HIGHLIGHT_FREE,!0]]))}function oa(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}async function la(){if(!xt(Es,this)){wt(Es,this,!0);const e=[];for(const t of xt(is,this).values())e.push(t.enable());await Promise.all(e);for(const t of xt(ns,this).values())t.enable()}}function ca(){if(this.unselectAll(),xt(Es,this)){wt(Es,this,!1);for(const e of xt(is,this).values())e.disable();for(const e of xt(ns,this).values())e.disable()}}function da(e){const t=xt(is,this).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}function ua(e){let t=null;for(t of xt(Is,e));return t}function ha(){if(0===xt(ns,this).size)return!0;if(1===xt(ns,this).size)for(const e of xt(ns,this).values())return e.isEmpty();return!1}function pa(e){for(const t of xt(Is,this))t.unselect();xt(Is,this).clear();for(const t of e)t.isEmpty()||(xt(Is,this).add(t),t.select());yt(Vs,this,ra).call(this,{hasSelectedEditor:this.hasSelection})}Le(qs,"TRANSLATE_SMALL",1),Le(qs,"TRANSLATE_BIG",10);var ma=new WeakMap,fa=new WeakMap,ga=new WeakMap,va=new WeakMap,ya=new WeakMap,ba=new WeakMap,xa=new WeakMap,wa=new WeakMap,Sa=new WeakMap,ka=new WeakMap,Aa=new WeakMap,Ea=new WeakMap,_a=new WeakSet;class ja{constructor(e){gt(this,_a),vt(this,ma,null),vt(this,fa,!1),vt(this,ga,null),vt(this,va,null),vt(this,ya,null),vt(this,ba,null),vt(this,xa,!1),vt(this,wa,null),vt(this,Sa,null),vt(this,ka,null),vt(this,Aa,null),vt(this,Ea,!1),wt(Sa,this,e),wt(Ea,this,e._uiManager.useNewAltTextFlow),Ma._||(Ma._=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){var t;null!==(t=ja._l10n)&&void 0!==t||(ja._l10n=e)}async render(){const e=wt(ga,this,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=wt(va,this,document.createElement("span"));e.append(t),xt(Ea,this)?(e.classList.add("new"),e.setAttribute("data-l10n-id",Ma._.missing),t.setAttribute("data-l10n-id",Ma._["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=xt(Sa,this)._uiManager._signal;e.addEventListener("contextmenu",si,{signal:n}),e.addEventListener("pointerdown",e=>e.stopPropagation(),{signal:n});const i=e=>{e.preventDefault(),xt(Sa,this)._uiManager.editAltText(xt(Sa,this)),xt(Ea,this)&&xt(Sa,this)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:bt(_a,this,Na)}})};return e.addEventListener("click",i,{capture:!0,signal:n}),e.addEventListener("keydown",t=>{t.target===e&&"Enter"===t.key&&(wt(xa,this,!0),i(t))},{signal:n}),await yt(_a,this,Ca).call(this),e}finish(){xt(ga,this)&&(xt(ga,this).focus({focusVisible:xt(xa,this)}),wt(xa,this,!1))}isEmpty(){return xt(Ea,this)?null===xt(ma,this):!xt(ma,this)&&!xt(fa,this)}hasData(){return xt(Ea,this)?null!==xt(ma,this)||!!xt(ka,this):this.isEmpty()}get guessedText(){return xt(ka,this)}async setGuessedText(e){null===xt(ma,this)&&(wt(ka,this,e),wt(Aa,this,await ja._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),yt(_a,this,Ca).call(this))}toggleAltTextBadge(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;if(!xt(Ea,this)||xt(ma,this))return null===(t=xt(wa,this))||void 0===t||t.remove(),void wt(wa,this,null);if(!xt(wa,this)){const e=wt(wa,this,document.createElement("div"));e.className="noAltTextBadge",xt(Sa,this).div.append(e)}xt(wa,this).classList.toggle("hidden",!e)}serialize(e){let t=xt(ma,this);return e||xt(ka,this)!==t||(t=xt(Aa,this)),{altText:t,decorative:xt(fa,this),guessedText:xt(ka,this),textWithDisclaimer:xt(Aa,this)}}get data(){return{altText:xt(ma,this),decorative:xt(fa,this)}}set data(e){let{altText:t,decorative:n,guessedText:i,textWithDisclaimer:s,cancel:a=!1}=e;i&&(wt(ka,this,i),wt(Aa,this,s)),xt(ma,this)===t&&xt(fa,this)===n||(a||(wt(ma,this,t),wt(fa,this,n)),yt(_a,this,Ca).call(this))}toggle(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];xt(ga,this)&&(!e&&xt(ba,this)&&(clearTimeout(xt(ba,this)),wt(ba,this,null)),xt(ga,this).disabled=!e)}shown(){xt(Sa,this)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:bt(_a,this,Na)}})}destroy(){var e,t;null===(e=xt(ga,this))||void 0===e||e.remove(),wt(ga,this,null),wt(va,this,null),wt(ya,this,null),null===(t=xt(wa,this))||void 0===t||t.remove(),wt(wa,this,null)}}function Na(e){return(xt(ma,e)?"added":null===xt(ma,e)&&e.guessedText&&"review")||"missing"}async function Ca(){const e=xt(ga,this);if(!e)return;if(xt(Ea,this)){var t,n;if(e.classList.toggle("done",!!xt(ma,this)),e.setAttribute("data-l10n-id",Ma._[bt(_a,this,Na)]),null===(t=xt(va,this))||void 0===t||t.setAttribute("data-l10n-id",Ma._["".concat(bt(_a,this,Na),"-label")]),!xt(ma,this))return void(null===(n=xt(ya,this))||void 0===n||n.remove())}else{var i;if(!xt(ma,this)&&!xt(fa,this))return e.classList.remove("done"),void(null===(i=xt(ya,this))||void 0===i||i.remove());e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let s=xt(ya,this);if(!s){wt(ya,this,s=document.createElement("span")),s.className="tooltip",s.setAttribute("role","tooltip"),s.id="alt-text-tooltip-".concat(xt(Sa,this).id);const t=100,n=xt(Sa,this)._uiManager._signal;n.addEventListener("abort",()=>{clearTimeout(xt(ba,this)),wt(ba,this,null)},{once:!0}),e.addEventListener("mouseenter",()=>{wt(ba,this,setTimeout(()=>{wt(ba,this,null),xt(ya,this).classList.add("show"),xt(Sa,this)._reportTelemetry({action:"alt_text_tooltip"})},t))},{signal:n}),e.addEventListener("mouseleave",()=>{var e;xt(ba,this)&&(clearTimeout(xt(ba,this)),wt(ba,this,null)),null===(e=xt(ya,this))||void 0===e||e.classList.remove("show")},{signal:n})}xt(fa,this)?s.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(s.removeAttribute("data-l10n-id"),s.textContent=xt(ma,this)),s.parentNode||e.append(s);const a=xt(Sa,this).getElementForAltText();null===a||void 0===a||a.setAttribute("aria-describedby",s.id)}var Ma={_:null};Le(ja,"_l10n",null);var Ta=new WeakMap,Pa=new WeakMap,Ia=new WeakMap,Ra=new WeakMap,La=new WeakMap,Da=new WeakMap,Fa=new WeakMap,Oa=new WeakMap,Wa=new WeakMap,Ba=new WeakMap,Ua=new WeakMap,za=new WeakMap,Ha=new WeakSet;class Ga{constructor(e){let{container:t,isPinchingDisabled:n=null,isPinchingStopped:i=null,onPinchStart:s=null,onPinching:a=null,onPinchEnd:r=null,signal:o}=e;gt(this,Ha),vt(this,Ta,void 0),vt(this,Pa,!1),vt(this,Ia,null),vt(this,Ra,void 0),vt(this,La,void 0),vt(this,Da,void 0),vt(this,Fa,void 0),vt(this,Oa,null),vt(this,Wa,void 0),vt(this,Ba,null),vt(this,Ua,void 0),vt(this,za,null),wt(Ta,this,t),wt(Ia,this,i),wt(Ra,this,n),wt(La,this,s),wt(Da,this,a),wt(Fa,this,r),wt(Ua,this,new AbortController),wt(Wa,this,AbortSignal.any([o,xt(Ua,this).signal])),t.addEventListener("touchstart",yt(Ha,this,Va).bind(this),{passive:!1,signal:xt(Wa,this)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/hi.pixelRatio}destroy(){var e,t;null===(e=xt(Ua,this))||void 0===e||e.abort(),wt(Ua,this,null),null===(t=xt(Oa,this))||void 0===t||t.abort(),wt(Oa,this,null)}}function Va(e){var t,n;if(null!==(t=xt(Ra,this))&&void 0!==t&&t.call(this))return;if(1===e.touches.length){if(xt(Oa,this))return;const e=wt(Oa,this,new AbortController),t=AbortSignal.any([xt(Wa,this),e.signal]),n=xt(Ta,this),i={capture:!0,signal:t,passive:!1},s=e=>{var t;"touch"===e.pointerType&&(null===(t=xt(Oa,this))||void 0===t||t.abort(),wt(Oa,this,null))};return n.addEventListener("pointerdown",e=>{"touch"===e.pointerType&&(ai(e),s(e))},i),n.addEventListener("pointerup",s,i),void n.addEventListener("pointercancel",s,i)}if(!xt(za,this)){var i;wt(za,this,new AbortController);const e=AbortSignal.any([xt(Wa,this),xt(za,this).signal]),t=xt(Ta,this),n={signal:e,capture:!1,passive:!1};t.addEventListener("touchmove",yt(Ha,this,qa).bind(this),n);const s=yt(Ha,this,Ya).bind(this);t.addEventListener("touchend",s,n),t.addEventListener("touchcancel",s,n),n.capture=!0,t.addEventListener("pointerdown",ai,n),t.addEventListener("pointermove",ai,n),t.addEventListener("pointercancel",ai,n),t.addEventListener("pointerup",ai,n),null===(i=xt(La,this))||void 0===i||i.call(this)}if(ai(e),2!==e.touches.length||null!==(n=xt(Ia,this))&&void 0!==n&&n.call(this))return void wt(Ba,this,null);let[s,a]=e.touches;s.identifier>a.identifier&&([s,a]=[a,s]),wt(Ba,this,{touch0X:s.screenX,touch0Y:s.screenY,touch1X:a.screenX,touch1Y:a.screenY})}function qa(e){var t;if(!xt(Ba,this)||2!==e.touches.length)return;ai(e);let[n,i]=e.touches;n.identifier>i.identifier&&([n,i]=[i,n]);const{screenX:s,screenY:a}=n,{screenX:r,screenY:o}=i,l=xt(Ba,this),{touch0X:c,touch0Y:d,touch1X:u,touch1Y:h}=l,p=u-c,m=h-d,f=r-s,g=o-a,v=Math.hypot(f,g)||1,y=Math.hypot(p,m)||1;if(!xt(Pa,this)&&Math.abs(y-v)<=_t.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=s,l.touch0Y=a,l.touch1X=r,l.touch1Y=o,!xt(Pa,this))return void wt(Pa,this,!0);const b=[(s+r)/2,(a+o)/2];null===(t=xt(Da,this))||void 0===t||t.call(this,b,y,v)}function Ya(e){if(!(e.touches.length>=2)){var t;if(xt(za,this))xt(za,this).abort(),wt(za,this,null),null===(t=xt(Fa,this))||void 0===t||t.call(this);xt(Ba,this)&&(ai(e),wt(Ba,this,null),wt(Pa,this,!1))}}_t=Ga;var Ka=new WeakMap,Xa=new WeakMap,Qa=new WeakMap,$a=new WeakMap,Ja=new WeakMap,Za=new WeakMap,er=new WeakMap,tr=new WeakMap,nr=new WeakMap,ir=new WeakMap,sr=new WeakMap,ar=new WeakMap,rr=new WeakMap,or=new WeakMap,lr=new WeakMap,cr=new WeakMap,dr=new WeakMap,ur=new WeakMap,hr=new WeakMap,pr=new WeakMap,mr=new WeakMap,fr=new WeakMap,gr=new WeakMap,vr=new WeakMap,yr=new WeakSet;class br{static get _resizerKeyboardManager(){const e=br.prototype._resizeWithKeyboard,t=qs.TRANSLATE_SMALL,n=qs.TRANSLATE_BIG;return Nn(this,"_resizerKeyboardManager",new $i([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],br.prototype._stopResizingWithKeyboard]]))}constructor(e){gt(this,yr),vt(this,Ka,null),vt(this,Xa,null),vt(this,Qa,null),vt(this,$a,!1),vt(this,Ja,null),vt(this,Za,""),vt(this,er,!1),vt(this,tr,null),vt(this,nr,null),vt(this,ir,null),vt(this,sr,null),vt(this,ar,""),vt(this,rr,!1),vt(this,or,null),vt(this,lr,!1),vt(this,cr,!1),vt(this,dr,!1),vt(this,ur,null),vt(this,hr,0),vt(this,pr,0),vt(this,mr,null),vt(this,fr,null),Le(this,"isSelected",!1),Le(this,"_isCopy",!1),Le(this,"_editToolbar",null),Le(this,"_initialOptions",Object.create(null)),Le(this,"_initialData",null),Le(this,"_isVisible",!0),Le(this,"_uiManager",null),Le(this,"_focusEventsAllowed",!0),vt(this,gr,!1),vt(this,vr,br._zIndex++),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:i,pageX:s,pageY:a}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,i],this.pageTranslation=[s,a];const[r,o]=this.parentDimensions;this.x=e.x/r,this.y=e.y/o,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Nn(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new Wr({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){var n;if(null!==(n=br._l10n)&&void 0!==n||(br._l10n=e),br._l10nResizer||(br._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),-1!==br._borderLineWidth)return;const i=getComputedStyle(document.documentElement);br._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){An("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return xt(gr,this)}set _isDraggable(e){var t;wt(gr,this,e),null===(t=this.div)||void 0===t||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(2*e),this.y+=this.width*e/(2*t);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(2*e),this.y-=this.width*e/(2*t);break;default:this.x-=this.width/2,this.y-=this.height/2}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=xt(vr,this)}setParent(e){null!==e?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):yt(yr,this,Or).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(xt(rr,this)?wt(rr,this,!1):this.parent.setSelected(this))}focusout(e){var t;if(!this._focusEventsAllowed)return;if(!this.isAttachedToDOM)return;const n=e.relatedTarget;null!==n&&void 0!==n&&n.closest("#".concat(this.id))||(e.preventDefault(),null!==(t=this.parent)&&void 0!==t&&t.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,i){const[s,a]=this.parentDimensions;[n,i]=this.screenToPageTranslation(n,i),this.x=(e+n)/s,this.y=(t+i)/a,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[n,i]=this.parentDimensions;this.setAt(e*n,t*i,this.width*n,this.height*i),this._onTranslated()}translate(e,t){yt(yr,this,xr).call(this,this.parentDimensions,e,t)}translateInPage(e,t){xt(or,this)||wt(or,this,[this.x,this.y,this.width,this.height]),yt(yr,this,xr).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){xt(or,this)||wt(or,this,[this.x,this.y,this.width,this.height]);const{div:n,parentDimensions:[i,s]}=this;if(this.x+=e/i,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:e,y:t}=this.div.getBoundingClientRect();this.parent.findNewParent(this,e,t)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:r}=this;const[o,l]=this.getBaseTranslation();a+=o,r+=l;const{style:c}=n;c.left="".concat((100*a).toFixed(2),"%"),c.top="".concat((100*r).toFixed(2),"%"),this._onTranslating(a,r),n.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!xt(or,this)&&(xt(or,this)[0]!==this.x||xt(or,this)[1]!==this.y)}get _hasBeenResized(){return!!xt(or,this)&&(xt(or,this)[2]!==this.width||xt(or,this)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=br,i=n/e,s=n/t;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.rotation;const{div:{style:t},pageDimensions:[n,i]}=this;let{x:s,y:a,width:r,height:o}=this;if(r*=n,o*=i,s*=n,a*=i,this._mustFixPosition)switch(e){case 0:s=Yn(s,0,n-r),a=Yn(a,0,i-o);break;case 90:s=Yn(s,0,n-o),a=Yn(a,r,i);break;case 180:s=Yn(s,r,n),a=Yn(a,o,i);break;case 270:s=Yn(s,o,n),a=Yn(a,0,i-r)}this.x=s/=n,this.y=a/=i;const[l,c]=this.getBaseTranslation();s+=l,a+=c,t.left="".concat((100*s).toFixed(2),"%"),t.top="".concat((100*a).toFixed(2),"%"),this.moveInDOM()}screenToPageTranslation(e,t){return wr.call(br,e,t,this.parentRotation)}pageTranslationToScreen(e,t){return wr.call(br,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this;return[t*e,n*e]}setDims(e,t){const[n,i]=this.parentDimensions,{style:s}=this.div;s.width="".concat((100*e/n).toFixed(2),"%"),xt(er,this)||(s.height="".concat((100*t/i).toFixed(2),"%"))}fixDims(){const{style:e}=this.div,{height:t,width:n}=e,i=n.endsWith("%"),s=!xt(er,this)&&t.endsWith("%");if(i&&s)return;const[a,r]=this.parentDimensions;i||(e.width="".concat((100*parseFloat(n)/a).toFixed(2),"%")),xt(er,this)||s||(e.height="".concat((100*parseFloat(t)/r).toFixed(2),"%"))}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(1e4*e)/1e4}_onResizing(){}altTextFinish(){var e;null===(e=xt(Qa,this))||void 0===e||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||xt(cr,this))return this._editToolbar;this._editToolbar=new wi(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,n]of e)await this._editToolbar.addButton(t,n);return this._editToolbar.addButton("delete"),this._editToolbar}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,null===(e=xt(Qa,this))||void 0===e||e.destroy())}addContainer(e){var t;const n=null===(t=this._editToolbar)||void 0===t?void 0:t.div;n?n.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return xt(Qa,this)||(ja.initialize(br._l10n),wt(Qa,this,new ja(this)),xt(Ka,this)&&(xt(Qa,this).data=xt(Ka,this),wt(Ka,this,null))),xt(Qa,this)}get altTextData(){var e;return null===(e=xt(Qa,this))||void 0===e?void 0:e.data}set altTextData(e){xt(Qa,this)&&(xt(Qa,this).data=e)}get guessedAltText(){var e;return null===(e=xt(Qa,this))||void 0===e?void 0:e.guessedText}async setGuessedAltText(e){var t;await(null===(t=xt(Qa,this))||void 0===t?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return null===(t=xt(Qa,this))||void 0===t?void 0:t.serialize(e)}hasAltText(){return!!xt(Qa,this)&&!xt(Qa,this).isEmpty()}hasAltTextData(){var e,t;return null!==(e=null===(t=xt(Qa,this))||void 0===t?void 0:t.hasData())&&void 0!==e&&e}render(){var e;const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=xt($a,this)?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),yt(yr,this,Ir).call(this);const[n,i]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth="".concat((100*i/n).toFixed(2),"%"),t.style.maxHeight="".concat((100*n/i).toFixed(2),"%"));const[s,a]=this.getInitialTranslation();return this.translate(s,a),Di(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(xt(fr,this)||wt(fr,this,new Ga({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:yt(yr,this,Nr).bind(this),onPinching:yt(yr,this,Cr).bind(this),onPinchEnd:yt(yr,this,Mr).bind(this),signal:this._uiManager._signal}))),null===(e=this._uiManager._editorUndoBar)||void 0===e||e.hide(),t}pointerdown(e){const{isMac:t}=On.platform;0!==e.button||e.ctrlKey&&t?e.preventDefault():(wt(rr,this,!0),this._isDraggable?yt(yr,this,Pr).call(this,e):yt(yr,this,Tr).call(this,e))}_onStartDragging(){}_onStopDragging(){}moveInDOM(){xt(ur,this)&&clearTimeout(xt(ur,this)),wt(ur,this,setTimeout(()=>{var e;wt(ur,this,null),null===(e=this.parent)||void 0===e||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.rotation;const i=this.parentScale,[s,a]=this.pageDimensions,[r,o]=this.pageTranslation,l=e/i,c=t/i,d=this.x*s,u=this.y*a,h=this.width*s,p=this.height*a;switch(n){case 0:return[d+l+r,a-u-c-p+o,d+l+h+r,a-u-c+o];case 90:return[d+c+r,a-u+l+o,d+c+p+r,a-u+l+h+o];case 180:return[d-l-h+r,a-u+c+o,d-l+r,a-u+c+p+o];case 270:return[d-c-p+r,a-u-l-h+o,d-c+r,a-u-l+o];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,i,s,a]=e,r=s-n,o=a-i;switch(this.rotation){case 0:return[n,t-a,r,o];case 90:return[n,t-i,o,r];case 180:return[s,t-i,r,o];case 270:return[s,t-a,o,r];default:throw new Error("Invalid rotation")}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return!this.isInEditMode()&&(this.parent.setEditingState(!1),wt(cr,this,!0),!0)}disableEditMode(){return!!this.isInEditMode()&&(this.parent.setEditingState(!0),wt(cr,this,!1),!0)}isInEditMode(){return xt(cr,this)}shouldGetKeyboardEvents(){return xt(dr,this)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:n,right:i}=this.getClientDimensions(),{innerHeight:s,innerWidth:a}=window;return t<a&&i>0&&e<s&&n>0}rebuild(){yt(yr,this,Ir).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:(null===(e=this._initialData)||void 0===e?void 0:e.popupRef)||""}}serialize(){An("An editor must be serializable")}static async deserialize(e,t,n){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n,annotationElementId:e.annotationElementId});i.rotation=e.rotation,wt(Ka,i,e.accessibilityData),i._isCopy=e.isCopy||!1;const[s,a]=i.pageDimensions,[r,o,l,c]=i.getRectInCurrentCoords(e.rect,a);return i.x=r/s,i.y=o/a,i.width=l/s,i.height=c/a,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||null!==this.serialize())}remove(){var e,t;if(null===(e=xt(sr,this))||void 0===e||e.abort(),wt(sr,this,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),xt(ur,this)&&(clearTimeout(xt(ur,this)),wt(ur,this,null)),yt(yr,this,Or).call(this),this.removeEditToolbar(),xt(mr,this)){for(const e of xt(mr,this).values())clearTimeout(e);wt(mr,this,null)}this.parent=null,null===(t=xt(fr,this))||void 0===t||t.destroy(),wt(fr,this,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(yt(yr,this,kr).call(this),xt(tr,this).classList.remove("hidden"))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||"Enter"!==e.key)return;this._uiManager.setSelected(this),wt(ir,this,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=xt(tr,this).children;if(!xt(Xa,this)){wt(Xa,this,Array.from(t));const e=yt(yr,this,Rr).bind(this),n=yt(yr,this,Lr).bind(this),i=this._uiManager._signal;for(const t of xt(Xa,this)){const s=t.getAttribute("data-resizer-name");t.setAttribute("role","spinbutton"),t.addEventListener("keydown",e,{signal:i}),t.addEventListener("blur",n,{signal:i}),t.addEventListener("focus",yt(yr,this,Dr).bind(this,s),{signal:i}),t.setAttribute("data-l10n-id",br._l10nResizer[s])}}const n=xt(Xa,this)[0];let i=0;for(const a of t){if(a===n)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(xt(Xa,this).length/4);if(s!==i){if(s<i)for(let t=0;t<i-s;t++)xt(tr,this).append(xt(tr,this).firstChild);else if(s>i)for(let t=0;t<s-i;t++)xt(tr,this).firstChild.before(xt(tr,this).lastChild);let e=0;for(const n of t){const t=xt(Xa,this)[e++].getAttribute("data-resizer-name");n.setAttribute("data-l10n-id",br._l10nResizer[t])}}yt(yr,this,Fr).call(this,0),wt(dr,this,!0),xt(tr,this).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){xt(dr,this)&&yt(yr,this,jr).call(this,xt(ar,this),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){yt(yr,this,Or).call(this),this.div.focus()}select(){var e,t,n;this.isSelected&&this._editToolbar||(this.isSelected=!0,this.makeResizable(),null===(e=this.div)||void 0===e||e.classList.add("selectedEditor"),this._editToolbar?(null===(t=this._editToolbar)||void 0===t||t.show(),null===(n=xt(Qa,this))||void 0===n||n.toggleAltTextBadge(!1)):this.addEditToolbar().then(()=>{var e,t;null!==(e=this.div)&&void 0!==e&&e.classList.contains("selectedEditor")&&(null===(t=this._editToolbar)||void 0===t||t.show())}))}unselect(){var e,t,n,i,s;this.isSelected&&(this.isSelected=!1,null===(e=xt(tr,this))||void 0===e||e.classList.add("hidden"),null===(t=this.div)||void 0===t||t.classList.remove("selectedEditor"),null!==(n=this.div)&&void 0!==n&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),null===(i=this._editToolbar)||void 0===i||i.hide(),null===(s=xt(Qa,this))||void 0===s||s.toggleAltTextBadge(!0))}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return xt(lr,this)}set isEditing(e){wt(lr,this,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){wt(er,this,!0);const n=e/t,{style:i}=this.div;i.aspectRatio=n,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){xt(mr,this)||wt(mr,this,new Map);const{action:t}=e;let n=xt(mr,this).get(t);return n&&clearTimeout(n),n=setTimeout(()=>{this._reportTelemetry(e),xt(mr,this).delete(t),0===xt(mr,this).size&&wt(mr,this,null)},br._telemetryTimeout),void xt(mr,this).set(t,n)}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isVisible;this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),wt($a,this,!1)}disable(){this.div&&(this.div.tabIndex=-1),wt($a,this,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(t){if("CANVAS"===t.nodeName){const e=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.before(t)}}else t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);return t}resetAnnotationElement(e){const{firstChild:t}=e.container;"DIV"===(null===t||void 0===t?void 0:t.nodeName)&&t.classList.contains("annotationContent")&&t.remove()}}function xr(e,t,n){let[i,s]=e;[t,n]=this.screenToPageTranslation(t,n),this.x+=t/i,this.y+=n/s,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}function wr(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}function Sr(e){switch(e){case 90:{const[e,t]=this.pageDimensions;return[0,-e/t,t/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,t]=this.pageDimensions;return[0,e/t,-t/e,0]}default:return[1,0,0,1]}}function kr(){if(xt(tr,this))return;wt(tr,this,document.createElement("div")),xt(tr,this).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const e=document.createElement("div");xt(tr,this).append(e),e.classList.add("resizer",n),e.setAttribute("data-resizer-name",n),e.addEventListener("pointerdown",yt(yr,this,Ar).bind(this,n),{signal:t}),e.addEventListener("contextmenu",si,{signal:t}),e.tabIndex=-1}this.div.prepend(xt(tr,this))}function Ar(e,t){var n;t.preventDefault();const{isMac:i}=On.platform;if(0!==t.button||t.ctrlKey&&i)return;null===(n=xt(Qa,this))||void 0===n||n.toggle(!1);const s=this._isDraggable;this._isDraggable=!1,wt(nr,this,[t.screenX,t.screenY]);const a=new AbortController,r=this._uiManager.combinedSignal(a);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",yt(yr,this,jr).bind(this,e),{passive:!0,capture:!0,signal:r}),window.addEventListener("touchmove",ai,{passive:!1,signal:r}),window.addEventListener("contextmenu",si,{signal:r}),wt(ir,this,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const o=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const c=()=>{var e;a.abort(),this.parent.togglePointerEvents(!0),null===(e=xt(Qa,this))||void 0===e||e.toggle(!0),this._isDraggable=s,this.parent.div.style.cursor=o,this.div.style.cursor=l,yt(yr,this,_r).call(this)};window.addEventListener("pointerup",c,{signal:r}),window.addEventListener("blur",c,{signal:r})}function Er(e,t,n,i){this.width=n,this.height=i,this.x=e,this.y=t;const[s,a]=this.parentDimensions;this.setDims(s*n,a*i),this.fixAndSetPosition(),this._onResized()}function _r(){if(!xt(ir,this))return;const{savedX:e,savedY:t,savedWidth:n,savedHeight:i}=xt(ir,this);wt(ir,this,null);const s=this.x,a=this.y,r=this.width,o=this.height;s===e&&a===t&&r===n&&o===i||this.addCommands({cmd:yt(yr,this,Er).bind(this,s,a,r,o),undo:yt(yr,this,Er).bind(this,e,t,n,i),mustExec:!0})}function jr(e,t){const[n,i]=this.parentDimensions,s=this.x,a=this.y,r=this.width,o=this.height,l=jt.MIN_SIZE/n,c=jt.MIN_SIZE/i,d=yt(yr,this,Sr).call(this,this.rotation),u=(e,t)=>[d[0]*e+d[2]*t,d[1]*e+d[3]*t],h=yt(yr,this,Sr).call(this,360-this.rotation);let p,m,f=!1,g=!1;switch(e){case"topLeft":f=!0,p=(e,t)=>[0,0],m=(e,t)=>[e,t];break;case"topMiddle":p=(e,t)=>[e/2,0],m=(e,t)=>[e/2,t];break;case"topRight":f=!0,p=(e,t)=>[e,0],m=(e,t)=>[0,t];break;case"middleRight":g=!0,p=(e,t)=>[e,t/2],m=(e,t)=>[0,t/2];break;case"bottomRight":f=!0,p=(e,t)=>[e,t],m=(e,t)=>[0,0];break;case"bottomMiddle":p=(e,t)=>[e/2,t],m=(e,t)=>[e/2,0];break;case"bottomLeft":f=!0,p=(e,t)=>[0,t],m=(e,t)=>[e,0];break;case"middleLeft":g=!0,p=(e,t)=>[0,t/2],m=(e,t)=>[e,t/2]}const v=p(r,o),y=m(r,o);let b=u(...y);const x=jt._round(s+b[0]),w=jt._round(a+b[1]);let S,k,A=1,E=1;if(t.fromKeyboard)({deltaX:S,deltaY:k}=t);else{const{screenX:e,screenY:n}=t,[i,s]=xt(nr,this);[S,k]=this.screenToPageTranslation(e-i,n-s),xt(nr,this)[0]=e,xt(nr,this)[1]=n}var _,j;if([S,k]=(_=S/n,j=k/i,[h[0]*_+h[2]*j,h[1]*_+h[3]*j]),f){const e=Math.hypot(r,o);A=E=Math.max(Math.min(Math.hypot(y[0]-v[0]-S,y[1]-v[1]-k)/e,1/r,1/o),l/r,c/o)}else g?A=Yn(Math.abs(y[0]-v[0]-S),l,1)/r:E=Yn(Math.abs(y[1]-v[1]-k),c,1)/o;const N=jt._round(r*A),C=jt._round(o*E);b=u(...m(N,C));const M=x-b[0],T=w-b[1];xt(or,this)||wt(or,this,[this.x,this.y,this.width,this.height]),this.width=N,this.height=C,this.x=M,this.y=T,this.setDims(n*N,i*C),this.fixAndSetPosition(),this._onResizing()}function Nr(){var e;wt(ir,this,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),null===(e=xt(Qa,this))||void 0===e||e.toggle(!1),this.parent.togglePointerEvents(!1)}function Cr(e,t,n){let i=n/t*.7+1-.7;if(1===i)return;const s=yt(yr,this,Sr).call(this,this.rotation),a=(e,t)=>[s[0]*e+s[2]*t,s[1]*e+s[3]*t],[r,o]=this.parentDimensions,l=this.x,c=this.y,d=this.width,u=this.height,h=jt.MIN_SIZE/r,p=jt.MIN_SIZE/o;i=Math.max(Math.min(i,1/d,1/u),h/d,p/u);const m=jt._round(d*i),f=jt._round(u*i);if(m===d&&f===u)return;xt(or,this)||wt(or,this,[l,c,d,u]);const g=a(d/2,u/2),v=jt._round(l+g[0]),y=jt._round(c+g[1]),b=a(m/2,f/2);this.x=v-b[0],this.y=y-b[1],this.width=m,this.height=f,this.setDims(r*m,o*f),this.fixAndSetPosition(),this._onResizing()}function Mr(){var e;null===(e=xt(Qa,this))||void 0===e||e.toggle(!0),this.parent.togglePointerEvents(!0),yt(yr,this,_r).call(this)}function Tr(e){const{isMac:t}=On.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}function Pr(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let n=!1;const i=new AbortController,s=this._uiManager.combinedSignal(i),a={capture:!0,passive:!1,signal:s},r=e=>{i.abort(),wt(Ja,this,null),wt(rr,this,!1),this._uiManager.endDragSession()||yt(yr,this,Tr).call(this,e),n&&this._onStopDragging()};t&&(wt(hr,this,e.clientX),wt(pr,this,e.clientY),wt(Ja,this,e.pointerId),wt(Za,this,e.pointerType),window.addEventListener("pointermove",e=>{n||(n=!0,this._onStartDragging());const{clientX:t,clientY:i,pointerId:s}=e;if(s!==xt(Ja,this))return void ai(e);const[a,r]=this.screenToPageTranslation(t-xt(hr,this),i-xt(pr,this));wt(hr,this,t),wt(pr,this,i),this._uiManager.dragSelectedEditors(a,r)},a),window.addEventListener("touchmove",ai,a),window.addEventListener("pointerdown",e=>{e.pointerType===xt(Za,this)&&(xt(fr,this)||e.isPrimary)&&r(e),ai(e)},a));const o=e=>{xt(Ja,this)&&xt(Ja,this)!==e.pointerId?ai(e):r(e)};window.addEventListener("pointerup",o,{signal:s}),window.addEventListener("blur",o,{signal:s})}function Ir(){if(xt(sr,this)||!this.div)return;wt(sr,this,new AbortController);const e=this._uiManager.combinedSignal(xt(sr,this));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})}function Rr(e){jt._resizerKeyboardManager.exec(this,e)}function Lr(e){var t;xt(dr,this)&&(null===(t=e.relatedTarget)||void 0===t?void 0:t.parentNode)!==xt(tr,this)&&yt(yr,this,Or).call(this)}function Dr(e){wt(ar,this,xt(dr,this)?e:"")}function Fr(e){if(xt(Xa,this))for(const t of xt(Xa,this))t.tabIndex=e}function Or(){wt(dr,this,!1),yt(yr,this,Fr).call(this,-1),yt(yr,this,_r).call(this)}jt=br,Le(br,"_l10n",null),Le(br,"_l10nResizer",null),Le(br,"_borderLineWidth",-1),Le(br,"_colorManager",new Zi),Le(br,"_zIndex",1),Le(br,"_telemetryTimeout",1e3);class Wr extends br{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const Br=3285377520,Ur=4294901760,zr=65535;class Hr{constructor(e){this.h1=e?4294967295&e:Br,this.h2=e?4294967295&e:Br}update(e){let t,n;if("string"===typeof e){t=new Uint8Array(2*e.length),n=0;for(let i=0,s=e.length;i<s;i++){const s=e.charCodeAt(i);s<=255?t[n++]=s:(t[n++]=s>>>8,t[n++]=255&s)}}else{if(!ArrayBuffer.isView(e))throw new Error("Invalid data format, must be a string or TypedArray.");t=e.slice(),n=t.byteLength}const i=n>>2,s=n-4*i,a=new Uint32Array(t.buffer,0,i);let r=0,o=0,l=this.h1,c=this.h2;const d=3432918353,u=461845907,h=11601,p=13715;for(let m=0;m<i;m++)1&m?(r=a[m],r=r*d&Ur|r*h&zr,r=r<<15|r>>>17,r=r*u&Ur|r*p&zr,l^=r,l=l<<13|l>>>19,l=5*l+3864292196):(o=a[m],o=o*d&Ur|o*h&zr,o=o<<15|o>>>17,o=o*u&Ur|o*p&zr,c^=o,c=c<<13|c>>>19,c=5*c+3864292196);switch(r=0,s){case 3:r^=t[4*i+2]<<16;case 2:r^=t[4*i+1]<<8;case 1:r^=t[4*i],r=r*d&Ur|r*h&zr,r=r<<15|r>>>17,r=r*u&Ur|r*p&zr,1&i?l^=r:c^=r}this.h1=l,this.h2=c}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=3981806797*e&Ur|36045*e&zr,t=4283543511*t&Ur|(2950163797*(t<<16|e>>>16)&Ur)>>>16,e^=t>>>1,e=444984403*e&Ur|60499*e&zr,t=3301882366*t&Ur|(3120437893*(t<<16|e>>>16)&Ur)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const Gr=Object.freeze({map:null,hash:"",transfer:void 0});var Vr=new WeakMap,qr=new WeakMap,Yr=new WeakMap,Kr=new WeakSet;class Xr{constructor(){gt(this,Kr),vt(this,Vr,!1),vt(this,qr,null),vt(this,Yr,new Map),this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=xt(Yr,this).get(e);return void 0===n?t:Object.assign(t,n)}getRawValue(e){return xt(Yr,this).get(e)}remove(e){if(xt(Yr,this).delete(e),0===xt(Yr,this).size&&this.resetModified(),"function"===typeof this.onAnnotationEditor){for(const e of xt(Yr,this).values())if(e instanceof br)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=xt(Yr,this).get(e);let i=!1;if(void 0!==n)for(const[s,a]of Object.entries(t))n[s]!==a&&(i=!0,n[s]=a);else i=!0,xt(Yr,this).set(e,t);i&&yt(Kr,this,Qr).call(this),t instanceof br&&"function"===typeof this.onAnnotationEditor&&this.onAnnotationEditor(t.constructor._type)}has(e){return xt(Yr,this).has(e)}get size(){return xt(Yr,this).size}resetModified(){xt(Vr,this)&&(wt(Vr,this,!1),"function"===typeof this.onResetModified&&this.onResetModified())}get print(){return new Jr(this)}get serializable(){if(0===xt(Yr,this).size)return Gr;const e=new Map,t=new Hr,n=[],i=Object.create(null);let s=!1;for(const[a,r]of xt(Yr,this)){const n=r instanceof br?r.serialize(!1,i):r;n&&(e.set(a,n),t.update("".concat(a,":").concat(JSON.stringify(n))),s||(s=!!n.bitmap))}if(s)for(const a of e.values())a.bitmap&&n.push(a.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:Gr}get editorStats(){let e=null;const t=new Map;for(const s of xt(Yr,this).values()){var n;if(!(s instanceof br))continue;const a=s.telemetryFinalData;if(!a)continue;const{type:r}=a;t.has(r)||t.set(r,Object.getPrototypeOf(s).constructor),e||(e=Object.create(null));const o=(n=e)[r]||(n[r]=new Map);for(const[e,t]of Object.entries(a)){var i;if("type"===e)continue;let n=o.get(e);n||(n=new Map,o.set(e,n));const s=null!==(i=n.get(t))&&void 0!==i?i:0;n.set(t,s+1)}}for(const[s,a]of t)e[s]=a.computeTelemetryFinalData(e[s]);return e}resetModifiedIds(){wt(qr,this,null)}get modifiedIds(){if(xt(qr,this))return xt(qr,this);const e=[];for(const t of xt(Yr,this).values())t instanceof br&&t.annotationElementId&&t.serialize()&&e.push(t.annotationElementId);return wt(qr,this,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return xt(Yr,this).entries()}}function Qr(){xt(Vr,this)||(wt(Vr,this,!0),"function"===typeof this.onSetModified&&this.onSetModified())}var $r=new WeakMap;class Jr extends Xr{constructor(e){super(),vt(this,$r,void 0);const{map:t,hash:n,transfer:i}=e.serializable,s=structuredClone(t,i?{transfer:i}:null);wt($r,this,{map:s,hash:n,transfer:i})}get print(){An("Should not call PrintAnnotationStorage.print")}get serializable(){return xt($r,this)}get modifiedIds(){return Nn(this,"modifiedIds",{ids:new Set,hash:""})}}var Zr=new WeakMap;class eo{constructor(e){let{ownerDocument:t=globalThis.document,styleElement:n=null}=e;vt(this,Zr,new Set),this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),xt(Zr,this).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(e){let{systemFontInfo:t,disableFontFace:n,_inspectFont:i}=e;if(t&&!xt(Zr,this).has(t.loadedName)){if(En(!n,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:e,src:n,style:a}=t,r=new FontFace(e,n,a);this.addNativeFontFace(r);try{await r.load(),xt(Zr,this).add(e),null===i||void 0===i||i(t)}catch(s){kn("Cannot load system font: ".concat(t.baseFontName,", installing it could help to improve PDF rendering.")),this.removeNativeFontFace(r)}return}An("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo)return void await this.loadSystemFont(e);if(this.isFontLoadingAPISupported){const t=e.createNativeFontFace();if(t){this.addNativeFontFace(t);try{await t.loaded}catch(n){throw kn("Failed to load font '".concat(t.family,"': '").concat(n,"'.")),e.disableFontFace=!0,n}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(t=>{const n=this._queueLoadingCallback(t);this._prepareFontLoadEvent(e,n)})}}get isFontLoadingAPISupported(){var e;return Nn(this,"isFontLoadingAPISupported",!(null===(e=this._document)||void 0===e||!e.fonts))}get isSyncFontLoadingSupported(){return Nn(this,"isSyncFontLoadingSupported",Ot||On.platform.isFirefox)}_queueLoadingCallback(e){const{loadingRequests:t}=this,n={done:!1,complete:function(){for(En(!n.done,"completeRequest() cannot be called twice."),n.done=!0;t.length>0&&t[0].done;){const e=t.shift();setTimeout(e.callback,0)}},callback:e};return t.push(n),n}get _loadTestFont(){return Nn(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(e,t){function n(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function i(e,t,n,i){return e.substring(0,t)+i+e.substring(t+n)}let s,a;const r=this._document.createElement("canvas");r.width=1,r.height=1;const o=r.getContext("2d");let l=0;const c="lt".concat(Date.now()).concat(this.loadTestFontId++);let d=this._loadTestFont;d=i(d,976,c.length,c);const u=1482184792;let h=n(d,16);for(s=0,a=c.length-3;s<a;s+=4)h=h-u+n(c,s)|0;var p;s<c.length&&(h=h-u+n(c+"XXX",s)|0),d=i(d,16,4,(p=h,String.fromCharCode(p>>24&255,p>>16&255,p>>8&255,255&p)));const m="url(data:font/opentype;base64,".concat(btoa(d),");"),f='@font-face {font-family:"'.concat(c,'";src:').concat(m,"}");this.insertRule(f);const g=this._document.createElement("div");g.style.visibility="hidden",g.style.width=g.style.height="10px",g.style.position="absolute",g.style.top=g.style.left="0px";for(const v of[e.loadedName,c]){const e=this._document.createElement("span");e.textContent="Hi",e.style.fontFamily=v,g.append(e)}this._document.body.append(g),function e(t,n){if(++l>30)return kn("Load test font never loaded."),void n();o.font="30px "+t,o.fillText(".",0,20),o.getImageData(0,0,1,1).data[3]>0?n():setTimeout(e.bind(null,t,n))}(c,()=>{g.remove(),t.complete()})}}class to{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.compiledGlyphs=Object.create(null);for(const n in e)this[n]=e[n];this._inspectFont=t}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(this.cssFontInfo){const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style="oblique ".concat(this.cssFontInfo.italicAngle,"deg")),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}else t=new FontFace(this.loadedName,this.data,{});return null===(e=this._inspectFont)||void 0===e||e.call(this,this),t}createFontFaceRule(){var e;if(!this.data||this.disableFontFace)return null;const t="url(data:".concat(this.mimetype,";base64,").concat(Kn(this.data),");");let n;if(this.cssFontInfo){let e="font-weight: ".concat(this.cssFontInfo.fontWeight,";");this.cssFontInfo.italicAngle&&(e+="font-style: oblique ".concat(this.cssFontInfo.italicAngle,"deg;")),n='@font-face {font-family:"'.concat(this.cssFontInfo.fontFamily,'";').concat(e,"src:").concat(t,"}")}else n='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(t,"}");return null===(e=this._inspectFont)||void 0===e||e.call(this,this,t),n}getPathGenerator(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];const n=this.loadedName+"_path_"+t;let i;try{i=e.get(n)}catch(a){kn('getPathGenerator - ignoring character: "'.concat(a,'".'))}const s=new Path2D(i||"");return this.fontExtraProperties||e.delete(n),this.compiledGlyphs[t]=s}}function no(e){if("string"!==typeof e)return null;if(e.endsWith("/"))return e;throw new Error('Invalid factory url: "'.concat(e,'" must include trailing slash.'))}const io=e=>"object"===typeof e&&Number.isInteger(null===e||void 0===e?void 0:e.num)&&e.num>=0&&Number.isInteger(null===e||void 0===e?void 0:e.gen)&&e.gen>=0,so=function(e,t,n){if(!Array.isArray(n)||n.length<2)return!1;const[i,s,...a]=n;if(!e(i)&&!Number.isInteger(i))return!1;if(!t(s))return!1;const r=a.length;let o=!0;switch(s.name){case"XYZ":if(r<2||r>3)return!1;break;case"Fit":case"FitB":return 0===r;case"FitH":case"FitBH":case"FitV":case"FitBV":if(r>1)return!1;break;case"FitR":if(4!==r)return!1;o=!1;break;default:return!1}for(const l of a)if(!("number"===typeof l||o&&null===l))return!1;return!0}.bind(null,io,e=>"object"===typeof e&&"string"===typeof(null===e||void 0===e?void 0:e.name));var ao=new WeakMap,ro=new WeakMap;class oo{constructor(){vt(this,ao,new Map),vt(this,ro,Promise.resolve())}postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};xt(ro,this).then(()=>{for(const[e]of xt(ao,this))e.call(this,n)})}addEventListener(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=null;if((null===n||void 0===n?void 0:n.signal)instanceof AbortSignal){const{signal:s}=n;if(s.aborted)return void kn("LoopbackPort - cannot use an `aborted` signal.");const a=()=>this.removeEventListener(e,t);i=()=>s.removeEventListener("abort",a),s.addEventListener("abort",a)}xt(ao,this).set(t,i)}removeEventListener(e,t){const n=xt(ao,this).get(t);null===n||void 0===n||n(),xt(ao,this).delete(t)}terminate(){for(const[,e]of xt(ao,this))null===e||void 0===e||e();xt(ao,this).clear()}}const lo=1,co=2,uo=1,ho=2,po=3,mo=4,fo=5,go=6,vo=7,yo=8;function bo(){}function xo(e){if(e instanceof Ln||e instanceof Pn||e instanceof Mn||e instanceof In||e instanceof Tn)return e;switch(e instanceof Error||"object"===typeof e&&null!==e||An('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),e.name){case"AbortException":return new Ln(e.message);case"InvalidPDFException":return new Pn(e.message);case"PasswordException":return new Mn(e.message,e.code);case"ResponseException":return new In(e.message,e.status,e.missing);case"UnknownErrorException":return new Tn(e.message,e.details)}return new Tn(e.message,e.toString())}var wo=new WeakMap,So=new WeakSet;class ko{constructor(e,t,n){gt(this,So),vt(this,wo,new AbortController),this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",yt(So,this,Ao).bind(this),{signal:xt(wo,this).signal})}on(e,t){const n=this.actionHandler;if(n[e])throw new Error('There is already an actionName called "'.concat(e,'"'));n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},n)}catch(a){s.reject(a)}return s.promise}sendWithStream(e,t,n,i){const s=this.streamId++,a=this.sourceName,r=this.targetName,o=this.comObj;return new ReadableStream({start:n=>{const l=Promise.withResolvers();return this.streamControllers[s]={controller:n,startCall:l,pullCall:null,cancelCall:null,isClosed:!1},o.postMessage({sourceName:a,targetName:r,action:e,streamId:s,data:t,desiredSize:n.desiredSize},i),l.promise},pull:e=>{const t=Promise.withResolvers();return this.streamControllers[s].pullCall=t,o.postMessage({sourceName:a,targetName:r,stream:go,streamId:s,desiredSize:e.desiredSize}),t.promise},cancel:e=>{En(e instanceof Error,"cancel must have a valid reason");const t=Promise.withResolvers();return this.streamControllers[s].cancelCall=t,this.streamControllers[s].isClosed=!0,o.postMessage({sourceName:a,targetName:r,stream:uo,streamId:s,reason:xo(e)}),t.promise}},n)}destroy(){var e;null===(e=xt(wo,this))||void 0===e||e.abort(),wt(wo,this,null)}}function Ao(e){let{data:t}=e;if(t.targetName!==this.sourceName)return;if(t.stream)return void yt(So,this,_o).call(this,t);if(t.callback){const e=t.callbackId,n=this.callbackCapabilities[e];if(!n)throw new Error("Cannot resolve callback ".concat(e));if(delete this.callbackCapabilities[e],t.callback===lo)n.resolve(t.data);else{if(t.callback!==co)throw new Error("Unexpected callback case");n.reject(xo(t.reason))}return}const n=this.actionHandler[t.action];if(!n)throw new Error("Unknown action from worker: ".concat(t.action));if(t.callbackId){const e=this.sourceName,i=t.sourceName,s=this.comObj;return void Promise.try(n,t.data).then(function(n){s.postMessage({sourceName:e,targetName:i,callback:lo,callbackId:t.callbackId,data:n})},function(n){s.postMessage({sourceName:e,targetName:i,callback:co,callbackId:t.callbackId,reason:xo(n)})})}t.streamId?yt(So,this,Eo).call(this,t):n(t.data)}function Eo(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,s=this.comObj,a=this,r=this.actionHandler[e.action],o={enqueue(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2?arguments[2]:void 0;if(this.isCancelled)return;const o=this.desiredSize;this.desiredSize-=a,o>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:n,targetName:i,stream:mo,streamId:t,chunk:e},r)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:i,stream:po,streamId:t}),delete a.streamSinks[t])},error(e){En(e instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:i,stream:fo,streamId:t,reason:xo(e)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};o.sinkCapability.resolve(),o.ready=o.sinkCapability.promise,this.streamSinks[t]=o,Promise.try(r,e.data,o).then(function(){s.postMessage({sourceName:n,targetName:i,stream:yo,streamId:t,success:!0})},function(e){s.postMessage({sourceName:n,targetName:i,stream:yo,streamId:t,reason:xo(e)})})}function _o(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,s=this.comObj,a=this.streamControllers[t],r=this.streamSinks[t];switch(e.stream){case yo:e.success?a.startCall.resolve():a.startCall.reject(xo(e.reason));break;case vo:e.success?a.pullCall.resolve():a.pullCall.reject(xo(e.reason));break;case go:if(!r){s.postMessage({sourceName:n,targetName:i,stream:vo,streamId:t,success:!0});break}r.desiredSize<=0&&e.desiredSize>0&&r.sinkCapability.resolve(),r.desiredSize=e.desiredSize,Promise.try(r.onPull||bo).then(function(){s.postMessage({sourceName:n,targetName:i,stream:vo,streamId:t,success:!0})},function(e){s.postMessage({sourceName:n,targetName:i,stream:vo,streamId:t,reason:xo(e)})});break;case mo:if(En(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case po:if(En(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),yt(So,this,jo).call(this,a,t);break;case fo:En(a,"error should have stream controller"),a.controller.error(xo(e.reason)),yt(So,this,jo).call(this,a,t);break;case ho:e.success?a.cancelCall.resolve():a.cancelCall.reject(xo(e.reason)),yt(So,this,jo).call(this,a,t);break;case uo:if(!r)break;const o=xo(e.reason);Promise.try(r.onCancel||bo,o).then(function(){s.postMessage({sourceName:n,targetName:i,stream:ho,streamId:t,success:!0})},function(e){s.postMessage({sourceName:n,targetName:i,stream:ho,streamId:t,reason:xo(e)})}),r.sinkCapability.reject(o),r.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}async function jo(e,t){var n,i,s;await Promise.allSettled([null===(n=e.startCall)||void 0===n?void 0:n.promise,null===(i=e.pullCall)||void 0===i?void 0:i.promise,null===(s=e.cancelCall)||void 0===s?void 0:s.promise]),delete this.streamControllers[t]}var No=new WeakMap;class Co{constructor(e){let{enableHWA:t=!1}=e;vt(this,No,!1),wt(No,this,t)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!xt(No,this)})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){An("Abstract method `_createCanvas` called.")}}class Mo extends Co{constructor(e){let{ownerDocument:t=globalThis.document,enableHWA:n=!1}=e;super({enableHWA:n}),this._document=t}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}class To{constructor(e){let{baseUrl:t=null,isCompressed:n=!0}=e;this.baseUrl=t,this.isCompressed=n}async fetch(e){let{name:t}=e;if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const n=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(n).then(e=>({cMapData:e,isCompressed:this.isCompressed})).catch(e=>{throw new Error("Unable to load ".concat(this.isCompressed?"binary ":"","CMap at: ").concat(n))})}async _fetch(e){An("Abstract method `_fetch` called.")}}class Po extends To{async _fetch(e){const t=await $n(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):Fn(t)}}class Io{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,i,s){return"none"}destroy(){}}var Ro=new WeakMap,Lo=new WeakMap,Do=new WeakMap,Fo=new WeakMap,Oo=new WeakMap,Wo=new WeakMap,Bo=new WeakMap,Uo=new WeakSet;class zo extends Io{constructor(e){let{docId:t,ownerDocument:n=globalThis.document}=e;super(),gt(this,Uo),vt(this,Ro,void 0),vt(this,Lo,void 0),vt(this,Do,void 0),vt(this,Fo,void 0),vt(this,Oo,void 0),vt(this,Wo,void 0),vt(this,Bo,0),wt(Fo,this,t),wt(Oo,this,n)}addFilter(e){var t,n;if(!e)return"none";let i=bt(Uo,this,Ho).get(e);if(i)return i;const[s,a,r]=yt(Uo,this,qo).call(this,e),o=1===e.length?s:"".concat(s).concat(a).concat(r);if(i=bt(Uo,this,Ho).get(o),i)return bt(Uo,this,Ho).set(e,i),i;const l="g_".concat(xt(Fo,this),"_transfer_map_").concat((wt(Bo,this,(t=xt(Bo,this),n=t++,t)),n)),c=yt(Uo,this,Yo).call(this,l);bt(Uo,this,Ho).set(e,c),bt(Uo,this,Ho).set(o,c);const d=yt(Uo,this,Qo).call(this,l);return yt(Uo,this,Jo).call(this,s,a,r,d),c}addHCMFilter(e,t){var n;const i="".concat(e,"-").concat(t),s="base";let a=bt(Uo,this,Go).get(s);if((null===(n=a)||void 0===n?void 0:n.key)===i)return a.url;var r;a?(null===(r=a.filter)||void 0===r||r.remove(),a.key=i,a.url="none",a.filter=null):(a={key:i,url:"none",filter:null},bt(Uo,this,Go).set(s,a));if(!e||!t)return a.url;const o=yt(Uo,this,el).call(this,e);e=Bn.makeHexColor(...o);const l=yt(Uo,this,el).call(this,t);if(t=Bn.makeHexColor(...l),bt(Uo,this,Vo).style.color="","#000000"===e&&"#ffffff"===t||e===t)return a.url;const c=new Array(256);for(let m=0;m<=255;m++){const e=m/255;c[m]=e<=.03928?e/12.92:((e+.055)/1.055)**2.4}const d=c.join(","),u="g_".concat(xt(Fo,this),"_hcm_filter"),h=a.filter=yt(Uo,this,Qo).call(this,u);yt(Uo,this,Jo).call(this,d,d,d,h),yt(Uo,this,Xo).call(this,h);const p=(e,t)=>{const n=o[e]/255,i=l[e]/255,s=new Array(t+1);for(let a=0;a<=t;a++)s[a]=n+a/t*(i-n);return s.join(",")};return yt(Uo,this,Jo).call(this,p(0,5),p(1,5),p(2,5),h),a.url=yt(Uo,this,Yo).call(this,u),a.url}addAlphaFilter(e){var t,n;let i=bt(Uo,this,Ho).get(e);if(i)return i;const[s]=yt(Uo,this,qo).call(this,[e]),a="alpha_".concat(s);if(i=bt(Uo,this,Ho).get(a),i)return bt(Uo,this,Ho).set(e,i),i;const r="g_".concat(xt(Fo,this),"_alpha_map_").concat((wt(Bo,this,(t=xt(Bo,this),n=t++,t)),n)),o=yt(Uo,this,Yo).call(this,r);bt(Uo,this,Ho).set(e,o),bt(Uo,this,Ho).set(a,o);const l=yt(Uo,this,Qo).call(this,r);return yt(Uo,this,Zo).call(this,s,l),o}addLuminosityFilter(e){var t,n;let i,s,a=bt(Uo,this,Ho).get(e||"luminosity");if(a)return a;if(e?([i]=yt(Uo,this,qo).call(this,[e]),s="luminosity_".concat(i)):s="luminosity",a=bt(Uo,this,Ho).get(s),a)return bt(Uo,this,Ho).set(e,a),a;const r="g_".concat(xt(Fo,this),"_luminosity_map_").concat((wt(Bo,this,(t=xt(Bo,this),n=t++,t)),n)),o=yt(Uo,this,Yo).call(this,r);bt(Uo,this,Ho).set(e,o),bt(Uo,this,Ho).set(s,o);const l=yt(Uo,this,Qo).call(this,r);return yt(Uo,this,Ko).call(this,l),e&&yt(Uo,this,Zo).call(this,i,l),o}addHighlightHCMFilter(e,t,n,i,s){var a;const r="".concat(t,"-").concat(n,"-").concat(i,"-").concat(s);let o=bt(Uo,this,Go).get(e);if((null===(a=o)||void 0===a?void 0:a.key)===r)return o.url;var l;o?(null===(l=o.filter)||void 0===l||l.remove(),o.key=r,o.url="none",o.filter=null):(o={key:r,url:"none",filter:null},bt(Uo,this,Go).set(e,o));if(!t||!n)return o.url;const[c,d]=[t,n].map(yt(Uo,this,el).bind(this));let u=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),h=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[p,m]=[i,s].map(yt(Uo,this,el).bind(this));h<u&&([u,h,p,m]=[h,u,m,p]),bt(Uo,this,Vo).style.color="";const f=(e,t,n)=>{const i=new Array(256),s=(h-u)/n,a=e/255,r=(t-e)/(255*n);let o=0;for(let l=0;l<=n;l++){const e=Math.round(u+l*s),t=a+l*r;for(let n=o;n<=e;n++)i[n]=t;o=e+1}for(let l=o;l<256;l++)i[l]=i[o-1];return i.join(",")},g="g_".concat(xt(Fo,this),"_hcm_").concat(e,"_filter"),v=o.filter=yt(Uo,this,Qo).call(this,g);return yt(Uo,this,Xo).call(this,v),yt(Uo,this,Jo).call(this,f(p[0],m[0],5),f(p[1],m[1],5),f(p[2],m[2],5),v),o.url=yt(Uo,this,Yo).call(this,g),o.url}destroy(){var e,t,n,i;arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&null!==(e=xt(Wo,this))&&void 0!==e&&e.size||(null===(t=xt(Do,this))||void 0===t||t.parentNode.parentNode.remove(),wt(Do,this,null),null===(n=xt(Lo,this))||void 0===n||n.clear(),wt(Lo,this,null),null===(i=xt(Wo,this))||void 0===i||i.clear(),wt(Wo,this,null),wt(Bo,this,0))}}function Ho(e){return xt(Lo,e)||wt(Lo,e,new Map)}function Go(e){return xt(Wo,e)||wt(Wo,e,new Map)}function Vo(e){if(!xt(Do,e)){const t=xt(Oo,e).createElement("div"),{style:n}=t;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const i=xt(Oo,e).createElementNS(Xn,"svg");i.setAttribute("width",0),i.setAttribute("height",0),wt(Do,e,xt(Oo,e).createElementNS(Xn,"defs")),t.append(i),i.append(xt(Do,e)),xt(Oo,e).body.append(t)}return xt(Do,e)}function qo(e){if(1===e.length){const t=e[0],n=new Array(256);for(let e=0;e<256;e++)n[e]=t[e]/255;const i=n.join(",");return[i,i,i]}const[t,n,i]=e,s=new Array(256),a=new Array(256),r=new Array(256);for(let o=0;o<256;o++)s[o]=t[o]/255,a[o]=n[o]/255,r[o]=i[o]/255;return[s.join(","),a.join(","),r.join(",")]}function Yo(e){if(void 0===xt(Ro,this)){wt(Ro,this,"");const e=xt(Oo,this).URL;e!==xt(Oo,this).baseURI&&(ei(e)?kn('#createUrl: ignore "data:"-URL for performance reasons.'):wt(Ro,this,jn(e,"")))}return"url(".concat(xt(Ro,this),"#").concat(e,")")}function Ko(e){const t=xt(Oo,this).createElementNS(Xn,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(t)}function Xo(e){const t=xt(Oo,this).createElementNS(Xn,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}function Qo(e){const t=xt(Oo,this).createElementNS(Xn,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),bt(Uo,this,Vo).append(t),t}function $o(e,t,n){const i=xt(Oo,this).createElementNS(Xn,t);i.setAttribute("type","discrete"),i.setAttribute("tableValues",n),e.append(i)}function Jo(e,t,n,i){const s=xt(Oo,this).createElementNS(Xn,"feComponentTransfer");i.append(s),yt(Uo,this,$o).call(this,s,"feFuncR",e),yt(Uo,this,$o).call(this,s,"feFuncG",t),yt(Uo,this,$o).call(this,s,"feFuncB",n)}function Zo(e,t){const n=xt(Oo,this).createElementNS(Xn,"feComponentTransfer");t.append(n),yt(Uo,this,$o).call(this,n,"feFuncA",e)}function el(e){return bt(Uo,this,Vo).style.color=e,li(getComputedStyle(bt(Uo,this,Vo)).getPropertyValue("color"))}class tl{constructor(e){let{baseUrl:t=null}=e;this.baseUrl=t}async fetch(e){let{filename:t}=e;if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const n="".concat(this.baseUrl).concat(t);return this._fetch(n).catch(e=>{throw new Error("Unable to load font data at: ".concat(n))})}async _fetch(e){An("Abstract method `_fetch` called.")}}class nl extends tl{async _fetch(e){const t=await $n(e,"arraybuffer");return new Uint8Array(t)}}class il{constructor(e){let{baseUrl:t=null}=e;this.baseUrl=t}async fetch(e){let{filename:t}=e;if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const n="".concat(this.baseUrl).concat(t);return this._fetch(n).catch(e=>{throw new Error("Unable to load wasm data at: ".concat(n))})}async _fetch(e){An("Abstract method `_fetch` called.")}}class sl extends il{async _fetch(e){const t=await $n(e,"arraybuffer");return new Uint8Array(t)}}async function al(e){const t=process.getBuiltinModule("fs"),n=await t.promises.readFile(e);return new Uint8Array(n)}Ot&&kn("Please use the `legacy` build in Node.js environments.");class rl extends Io{}class ol extends Co{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire("file:///Users/sujaljoshi/Desktop/MpT/frontend/node_modules/pdfjs-dist/build/pdf.mjs")("@napi-rs/canvas").createCanvas(e,t)}}class ll extends To{async _fetch(e){return al(e)}}class cl extends tl{async _fetch(e){return al(e)}}class dl extends il{async _fetch(e){return al(e)}}const ul="Fill",hl="Stroke",pl="Shading";function ml(e,t){if(!t)return;const n=t[2]-t[0],i=t[3]-t[1],s=new Path2D;s.rect(t[0],t[1],n,i),e.clip(s)}class fl{isModifyingCurrentTransform(){return!1}getPattern(){An("Abstract method `getPattern` called.")}}class gl extends fl{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;"axial"===this._type?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,i){let s;if(i===hl||i===ul){const a=t.current.getClippedPathBoundingBox(i,ci(e))||[0,0,0,0],r=Math.ceil(a[2]-a[0])||1,o=Math.ceil(a[3]-a[1])||1,l=t.cachedCanvases.getCanvas("pattern",r,o),c=l.context;c.clearRect(0,0,c.canvas.width,c.canvas.height),c.beginPath(),c.rect(0,0,c.canvas.width,c.canvas.height),c.translate(-a[0],-a[1]),n=Bn.transform(n,[1,0,0,1,a[0],a[1]]),c.transform(...t.baseTransform),this.matrix&&c.transform(...this.matrix),ml(c,this._bbox),c.fillStyle=this._createGradient(c),c.fill(),s=e.createPattern(l.canvas,"no-repeat");const d=new DOMMatrix(n);s.setTransform(d)}else ml(e,this._bbox),s=this._createGradient(e);return s}}function vl(e,t,n,i,s,a,r,o){const l=t.coords,c=t.colors,d=e.data,u=4*e.width;let h;l[n+1]>l[i+1]&&(h=n,n=i,i=h,h=a,a=r,r=h),l[i+1]>l[s+1]&&(h=i,i=s,s=h,h=r,r=o,o=h),l[n+1]>l[i+1]&&(h=n,n=i,i=h,h=a,a=r,r=h);const p=(l[n]+t.offsetX)*t.scaleX,m=(l[n+1]+t.offsetY)*t.scaleY,f=(l[i]+t.offsetX)*t.scaleX,g=(l[i+1]+t.offsetY)*t.scaleY,v=(l[s]+t.offsetX)*t.scaleX,y=(l[s+1]+t.offsetY)*t.scaleY;if(m>=y)return;const b=c[a],x=c[a+1],w=c[a+2],S=c[r],k=c[r+1],A=c[r+2],E=c[o],_=c[o+1],j=c[o+2],N=Math.round(m),C=Math.round(y);let M,T,P,I,R,L,D,F;for(let O=N;O<=C;O++){if(O<g){const e=O<m?0:(m-O)/(m-g);M=p-(p-f)*e,T=b-(b-S)*e,P=x-(x-k)*e,I=w-(w-A)*e}else{let e;e=O>y?1:g===y?0:(g-O)/(g-y),M=f-(f-v)*e,T=S-(S-E)*e,P=k-(k-_)*e,I=A-(A-j)*e}let e;e=O<m?0:O>y?1:(m-O)/(m-y),R=p-(p-v)*e,L=b-(b-E)*e,D=x-(x-_)*e,F=w-(w-j)*e;const t=Math.round(Math.min(M,R)),n=Math.round(Math.max(M,R));let i=u*O+4*t;for(let s=t;s<=n;s++)e=(M-s)/(M-R),e<0?e=0:e>1&&(e=1),d[i++]=T-(T-L)*e|0,d[i++]=P-(P-D)*e|0,d[i++]=I-(I-F)*e|0,d[i++]=255}}function yl(e,t,n){const i=t.coords,s=t.colors;let a,r;switch(t.type){case"lattice":const o=t.verticesPerRow,l=Math.floor(i.length/o)-1,c=o-1;for(a=0;a<l;a++){let t=a*o;for(let a=0;a<c;a++,t++)vl(e,n,i[t],i[t+1],i[t+o],s[t],s[t+1],s[t+o]),vl(e,n,i[t+o+1],i[t+1],i[t+o],s[t+o+1],s[t+1],s[t+o])}break;case"triangles":for(a=0,r=i.length;a<r;a+=3)vl(e,n,i[a],i[a+1],i[a+2],s[a],s[a+1],s[a+2]);break;default:throw new Error("illegal figure")}}class bl extends fl{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,n){const i=Math.floor(this._bounds[0]),s=Math.floor(this._bounds[1]),a=Math.ceil(this._bounds[2])-i,r=Math.ceil(this._bounds[3])-s,o=Math.min(Math.ceil(Math.abs(a*e[0]*1.1)),3e3),l=Math.min(Math.ceil(Math.abs(r*e[1]*1.1)),3e3),c=a/o,d=r/l,u={coords:this._coords,colors:this._colors,offsetX:-i,offsetY:-s,scaleX:1/c,scaleY:1/d},h=o+4,p=l+4,m=n.getCanvas("mesh",h,p),f=m.context,g=f.createImageData(o,l);if(t){const e=g.data;for(let n=0,i=e.length;n<i;n+=4)e[n]=t[0],e[n+1]=t[1],e[n+2]=t[2],e[n+3]=255}for(const v of this._figures)yl(g,v,u);f.putImageData(g,2,2);return{canvas:m.canvas,offsetX:i-2*c,offsetY:s-2*d,scaleX:c,scaleY:d}}isModifyingCurrentTransform(){return!0}getPattern(e,t,n,i){ml(e,this._bbox);const s=new Float32Array(2);if(i===pl)Bn.singularValueDecompose2dScale(ci(e),s);else if(this.matrix){Bn.singularValueDecompose2dScale(this.matrix,s);const[e,n]=s;Bn.singularValueDecompose2dScale(t.baseTransform,s),s[0]*=e,s[1]*=n}else Bn.singularValueDecompose2dScale(t.baseTransform,s);const a=this._createMeshCanvas(s,i===pl?null:this._background,t.cachedCanvases);return i!==pl&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class xl extends fl{getPattern(){return"hotpink"}}const wl=1,Sl=2;class kl{constructor(e,t,n,i){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=n,this.baseTransform=i}createPatternCanvas(e){const{bbox:t,operatorList:n,paintType:i,tilingType:s,color:a,canvasGraphicsFactory:r}=this;let{xstep:o,ystep:l}=this;o=Math.abs(o),l=Math.abs(l),Sn("TilingType: "+s);const c=t[0],d=t[1],u=t[2],h=t[3],p=u-c,m=h-d,f=new Float32Array(2);Bn.singularValueDecompose2dScale(this.matrix,f);const[g,v]=f;Bn.singularValueDecompose2dScale(this.baseTransform,f);const y=g*f[0],b=v*f[1];let x=p,w=m,S=!1,k=!1;const A=Math.ceil(o*y),E=Math.ceil(l*b);A>=Math.ceil(p*y)?x=o:S=!0,E>=Math.ceil(m*b)?w=l:k=!0;const _=this.getSizeAndScale(x,this.ctx.canvas.width,y),j=this.getSizeAndScale(w,this.ctx.canvas.height,b),N=e.cachedCanvases.getCanvas("pattern",_.size,j.size),C=N.context,M=r.createCanvasGraphics(C);if(M.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(M,i,a),C.translate(-_.scale*c,-j.scale*d),M.transform(_.scale,0,0,j.scale,0,0),C.save(),this.clipBbox(M,c,d,u,h),M.baseTransform=ci(M.ctx),M.executeOperatorList(n),M.endDrawing(),C.restore(),S||k){const t=N.canvas;S&&(x=o),k&&(w=l);const n=this.getSizeAndScale(x,this.ctx.canvas.width,y),i=this.getSizeAndScale(w,this.ctx.canvas.height,b),s=n.size,a=i.size,r=e.cachedCanvases.getCanvas("pattern-workaround",s,a),u=r.context,h=S?Math.floor(p/o):0,f=k?Math.floor(m/l):0;for(let e=0;e<=h;e++)for(let n=0;n<=f;n++)u.drawImage(t,s*e,a*n,s,a,0,0,s,a);return{canvas:r.canvas,scaleX:n.scale,scaleY:i.scale,offsetX:c,offsetY:d}}return{canvas:N.canvas,scaleX:_.scale,scaleY:j.scale,offsetX:c,offsetY:d}}getSizeAndScale(e,t,n){const i=Math.max(kl.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*n);return s>=i?s=i:n=s/e,{scale:n,size:s}}clipBbox(e,t,n,i,s){const a=i-t,r=s-n;e.ctx.rect(t,n,a,r),Bn.axialAlignedBoundingBox([t,n,i,s],ci(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const i=e.ctx,s=e.current;switch(t){case wl:const{fillStyle:e,strokeStyle:a}=this.ctx;i.fillStyle=s.fillColor=e,i.strokeStyle=s.strokeColor=a;break;case Sl:i.fillStyle=i.strokeStyle=n,s.fillColor=s.strokeColor=n;break;default:throw new Rn("Unsupported paint type: ".concat(t))}}isModifyingCurrentTransform(){return!1}getPattern(e,t,n,i){let s=n;i!==pl&&(s=Bn.transform(s,t.baseTransform),this.matrix&&(s=Bn.transform(s,this.matrix)));const a=this.createPatternCanvas(t);let r=new DOMMatrix(s);r=r.translate(a.offsetX,a.offsetY),r=r.scale(1/a.scaleX,1/a.scaleY);const o=e.createPattern(a.canvas,"repeat");return o.setTransform(r),o}}function Al(e){let{src:t,srcPos:n=0,dest:i,width:s,height:a,nonBlackColor:r=4294967295,inverseDecode:o=!1}=e;const l=On.isLittleEndian?4278190080:255,[c,d]=o?[r,l]:[l,r],u=s>>3,h=7&s,p=t.length;i=new Uint32Array(i.buffer);let m=0;for(let f=0;f<a;f++){for(const s=n+u;n<s;n++){const e=n<p?t[n]:255;i[m++]=128&e?d:c,i[m++]=64&e?d:c,i[m++]=32&e?d:c,i[m++]=16&e?d:c,i[m++]=8&e?d:c,i[m++]=4&e?d:c,i[m++]=2&e?d:c,i[m++]=1&e?d:c}if(0===h)continue;const e=n<p?t[n++]:255;for(let t=0;t<h;t++)i[m++]=e&1<<7-t?d:c}return{srcPos:n,destPos:m}}Le(kl,"MAX_PATTERN_SIZE",3e3);const El=16,_l=new DOMMatrix,jl=new Float32Array(2),Nl=new Float32Array([1/0,1/0,-1/0,-1/0]);class Cl{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let i;return void 0!==this.cache[e]?(i=this.cache[e],this.canvasFactory.reset(i,t,n)):(i=this.canvasFactory.create(t,n),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function Ml(e,t,n,i,s,a,r,o,l,c){const[d,u,h,p,m,f]=ci(e);if(0===u&&0===h){const g=r*d+m,v=Math.round(g),y=o*p+f,b=Math.round(y),x=(r+l)*d+m,w=Math.abs(Math.round(x)-v)||1,S=(o+c)*p+f,k=Math.abs(Math.round(S)-b)||1;return e.setTransform(Math.sign(d),0,0,Math.sign(p),v,b),e.drawImage(t,n,i,s,a,0,0,w,k),e.setTransform(d,u,h,p,m,f),[w,k]}if(0===d&&0===p){const g=o*h+m,v=Math.round(g),y=r*u+f,b=Math.round(y),x=(o+c)*h+m,w=Math.abs(Math.round(x)-v)||1,S=(r+l)*u+f,k=Math.abs(Math.round(S)-b)||1;return e.setTransform(0,Math.sign(u),Math.sign(h),0,v,b),e.drawImage(t,n,i,s,a,0,0,k,w),e.setTransform(d,u,h,p,m,f),[k,w]}e.drawImage(t,n,i,s,a,r,o,l,c);return[Math.hypot(d,u)*l,Math.hypot(h,p)*c]}class Tl{constructor(e,t){Le(this,"alphaIsShape",!1),Le(this,"fontSize",0),Le(this,"fontSizeScale",1),Le(this,"textMatrix",null),Le(this,"textMatrixScale",1),Le(this,"fontMatrix",Wt),Le(this,"leading",0),Le(this,"x",0),Le(this,"y",0),Le(this,"lineX",0),Le(this,"lineY",0),Le(this,"charSpacing",0),Le(this,"wordSpacing",0),Le(this,"textHScale",1),Le(this,"textRenderingMode",Zt),Le(this,"textRise",0),Le(this,"fillColor","#000000"),Le(this,"strokeColor","#000000"),Le(this,"patternFill",!1),Le(this,"patternStroke",!1),Le(this,"fillAlpha",1),Le(this,"strokeAlpha",1),Le(this,"lineWidth",1),Le(this,"activeSMask",null),Le(this,"transferMaps","none"),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=Nl.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ul,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=this.minMax.slice();if(e===hl){t||An("Stroke bounding box must include transform."),Bn.singularValueDecompose2dScale(t,jl);const e=jl[0]*this.lineWidth/2,i=jl[1]*this.lineWidth/2;n[0]-=e,n[1]-=i,n[2]+=e,n[3]+=i}return n}updateClipFromPath(){const e=Bn.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(Nl,0)}getClippedPathBoundingBox(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ul,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Bn.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function Pl(e,t){if(t instanceof ImageData)return void e.putImageData(t,0,0);const n=t.height,i=t.width,s=n%El,a=(n-s)/El,r=0===s?a:a+1,o=e.createImageData(i,El);let l,c=0;const d=t.data,u=o.data;let h,p,m,f;if(t.kind===rn.GRAYSCALE_1BPP){const t=d.byteLength,n=new Uint32Array(u.buffer,0,u.byteLength>>2),f=n.length,g=i+7>>3,v=4294967295,y=On.isLittleEndian?4278190080:255;for(h=0;h<r;h++){for(m=h<a?El:s,l=0,p=0;p<m;p++){const e=t-c;let s=0;const a=e>g?i:8*e-7,r=-8&a;let o=0,u=0;for(;s<r;s+=8)u=d[c++],n[l++]=128&u?v:y,n[l++]=64&u?v:y,n[l++]=32&u?v:y,n[l++]=16&u?v:y,n[l++]=8&u?v:y,n[l++]=4&u?v:y,n[l++]=2&u?v:y,n[l++]=1&u?v:y;for(;s<a;s++)0===o&&(u=d[c++],o=128),n[l++]=u&o?v:y,o>>=1}for(;l<f;)n[l++]=0;e.putImageData(o,0,h*El)}}else if(t.kind===rn.RGBA_32BPP){for(p=0,f=i*El*4,h=0;h<a;h++)u.set(d.subarray(c,c+f)),c+=f,e.putImageData(o,0,p),p+=El;h<r&&(f=i*s*4,u.set(d.subarray(c,c+f)),e.putImageData(o,0,p))}else{if(t.kind!==rn.RGB_24BPP)throw new Error("bad image kind: ".concat(t.kind));for(m=El,f=i*m,h=0;h<r;h++){for(h>=a&&(m=s,f=i*m),l=0,p=f;p--;)u[l++]=d[c++],u[l++]=d[c++],u[l++]=d[c++],u[l++]=255;e.putImageData(o,0,h*El)}}}function Il(e,t){if(t.bitmap)return void e.drawImage(t.bitmap,0,0);const n=t.height,i=t.width,s=n%El,a=(n-s)/El,r=0===s?a:a+1,o=e.createImageData(i,El);let l=0;const c=t.data,d=o.data;for(let u=0;u<r;u++){const t=u<a?El:s;({srcPos:l}=Al({src:c,srcPos:l,dest:d,width:i,height:t,nonBlackColor:0})),e.putImageData(o,0,u*El)}}function Rl(e,t){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of n)void 0!==e[i]&&(t[i]=e[i]);void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function Ll(e){e.strokeStyle=e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0);const{filter:t}=e;"none"!==t&&""!==t&&(e.filter="none")}function Dl(e,t){if(t)return!0;Bn.singularValueDecompose2dScale(e,jl);const n=Math.fround(hi.pixelRatio*Qn.PDF_TO_CSS_UNITS);return jl[0]<=n&&jl[1]<=n}const Fl=["butt","round","square"],Ol=["miter","round","bevel"],Wl={},Bl={};var Ul=new WeakSet;class zl{constructor(e,t,n,i,s,a,r,o){let{optionalContentConfig:l,markedContentStack:c=null}=a;gt(this,Ul),this.ctx=e,this.current=new Tl(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=l,this.cachedCanvases=new Cl(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=r,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=o,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"string"===typeof e?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing(e){let{transform:t,viewport:n,transparency:i=!1,background:s=null}=e;const a=this.ctx.canvas.width,r=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,a,r),this.ctx.fillStyle=o,i){const e=this.cachedCanvases.getCanvas("transparent",a,r);this.compositeCtx=this.ctx,this.transparentCanvas=e.canvas,this.ctx=e.context,this.ctx.save(),this.ctx.transform(...ci(this.compositeCtx))}this.ctx.save(),Ll(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=ci(this.ctx)}executeOperatorList(e,t,n,i){const s=e.argsArray,a=e.fnArray;let r=t||0;const o=s.length;if(o===r)return r;const l=o-r>10&&"function"===typeof n,c=l?Date.now()+15:0;let d=0;const u=this.commonObjs,h=this.objs;let p;for(;;){if(void 0!==i&&r===i.nextBreakPoint)return i.breakIt(r,n),r;if(p=a[r],p!==mn.dependency)this[p].apply(this,s[r]);else for(const e of s[r]){const t=e.startsWith("g_")?u:h;if(!t.has(e))return t.get(e,n),r}if(r++,r===o)return r;if(l&&++d>10){if(Date.now()>c)return n(),r;d=0}}}endDrawing(){yt(Ul,this,Hl).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())"undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),yt(Ul,this,Gl).call(this)}_scaleImage(e,t){var n,i;const s=null!==(n=e.width)&&void 0!==n?n:e.displayWidth,a=null!==(i=e.height)&&void 0!==i?i:e.displayHeight;let r,o,l=Math.max(Math.hypot(t[0],t[1]),1),c=Math.max(Math.hypot(t[2],t[3]),1),d=s,u=a,h="prescale1";for(;l>2&&d>1||c>2&&u>1;){let t=d,n=u;l>2&&d>1&&(t=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d/2),l/=d/t),c>2&&u>1&&(n=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u)/2,c/=u/n),r=this.cachedCanvases.getCanvas(h,t,n),o=r.context,o.clearRect(0,0,t,n),o.drawImage(e,0,0,d,u,0,0,t,n),e=r.canvas,d=t,u=n,h="prescale1"===h?"prescale2":"prescale1"}return{img:e,paintWidth:d,paintHeight:u}}_createMaskCanvas(e){const t=this.ctx,{width:n,height:i}=e,s=this.current.fillColor,a=this.current.patternFill,r=ci(t);let o,l,c,d;if((e.bitmap||e.data)&&e.count>1){const t=e.bitmap||e.data.buffer;l=JSON.stringify(a?r:[r.slice(0,4),s]),o=this._cachedBitmapsMap.get(t),o||(o=new Map,this._cachedBitmapsMap.set(t,o));const n=o.get(l);if(n&&!a){return{canvas:n,offsetX:Math.round(Math.min(r[0],r[2])+r[4]),offsetY:Math.round(Math.min(r[1],r[3])+r[5])}}c=n}c||(d=this.cachedCanvases.getCanvas("maskCanvas",n,i),Il(d.context,e));let u=Bn.transform(r,[1/n,0,0,-1/i,0,0]);u=Bn.transform(u,[1,0,0,1,0,-i]);const h=Nl.slice();Bn.axialAlignedBoundingBox([0,0,n,i],u,h);const[p,m,f,g]=h,v=Math.round(f-p)||1,y=Math.round(g-m)||1,b=this.cachedCanvases.getCanvas("fillCanvas",v,y),x=b.context,w=p,S=m;x.translate(-w,-S),x.transform(...u),c||(c=this._scaleImage(d.canvas,di(x)),c=c.img,o&&a&&o.set(l,c)),x.imageSmoothingEnabled=Dl(ci(x),e.interpolate),Ml(x,c,0,0,c.width,c.height,0,0,n,i),x.globalCompositeOperation="source-in";const k=Bn.transform(di(x),[1,0,0,1,-w,-S]);return x.fillStyle=a?s.getPattern(t,this,k,ul):s,x.fillRect(0,0,n,i),o&&!a&&(this.cachedCanvases.delete("fillCanvas"),o.set(l,b.canvas)),{canvas:b.canvas,offsetX:Math.round(w),offsetY:Math.round(S)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=Fl[e]}setLineJoin(e){this.ctx.lineJoin=Ol[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const n=this.ctx;void 0!==n.setLineDash&&(n.setLineDash(e),n.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n)}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx;const s=this.ctx=i.context;s.setTransform(this.suspendedCtx.getTransform()),Rl(this.suspendedCtx,s),function(e,t){if(e._removeMirroring)throw new Error("Context is already forwarding operations.");e.__originalSave=e.save,e.__originalRestore=e.restore,e.__originalRotate=e.rotate,e.__originalScale=e.scale,e.__originalTranslate=e.translate,e.__originalTransform=e.transform,e.__originalSetTransform=e.setTransform,e.__originalResetTransform=e.resetTransform,e.__originalClip=e.clip,e.__originalMoveTo=e.moveTo,e.__originalLineTo=e.lineTo,e.__originalBezierCurveTo=e.bezierCurveTo,e.__originalRect=e.rect,e.__originalClosePath=e.closePath,e.__originalBeginPath=e.beginPath,e._removeMirroring=()=>{e.save=e.__originalSave,e.restore=e.__originalRestore,e.rotate=e.__originalRotate,e.scale=e.__originalScale,e.translate=e.__originalTranslate,e.transform=e.__originalTransform,e.setTransform=e.__originalSetTransform,e.resetTransform=e.__originalResetTransform,e.clip=e.__originalClip,e.moveTo=e.__originalMoveTo,e.lineTo=e.__originalLineTo,e.bezierCurveTo=e.__originalBezierCurveTo,e.rect=e.__originalRect,e.closePath=e.__originalClosePath,e.beginPath=e.__originalBeginPath,delete e._removeMirroring},e.save=function(){t.save(),this.__originalSave()},e.restore=function(){t.restore(),this.__originalRestore()},e.translate=function(e,n){t.translate(e,n),this.__originalTranslate(e,n)},e.scale=function(e,n){t.scale(e,n),this.__originalScale(e,n)},e.transform=function(e,n,i,s,a,r){t.transform(e,n,i,s,a,r),this.__originalTransform(e,n,i,s,a,r)},e.setTransform=function(e,n,i,s,a,r){t.setTransform(e,n,i,s,a,r),this.__originalSetTransform(e,n,i,s,a,r)},e.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},e.rotate=function(e){t.rotate(e),this.__originalRotate(e)},e.clip=function(e){t.clip(e),this.__originalClip(e)},e.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},e.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},e.bezierCurveTo=function(e,n,i,s,a,r){t.bezierCurveTo(e,n,i,s,a,r),this.__originalBezierCurveTo(e,n,i,s,a,r)},e.rect=function(e,n,i,s){t.rect(e,n,i,s),this.__originalRect(e,n,i,s)},e.closePath=function(){t.closePath(),this.__originalClosePath()},e.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}(s,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Rl(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,i){const s=i[0],a=i[1],r=i[2]-s,o=i[3]-a;0!==r&&0!==o&&(this.genericComposeSMask(t.context,n,r,o,t.subtype,t.backdrop,t.transferMap,s,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,i,s,a,r,o,l,c,d){let u=e.canvas,h=o-c,p=l-d;if(a)if(h<0||p<0||h+n>u.width||p+i>u.height){const e=this.cachedCanvases.getCanvas("maskExtension",n,i),t=e.context;t.drawImage(u,-h,-p),t.globalCompositeOperation="destination-atop",t.fillStyle=a,t.fillRect(0,0,n,i),t.globalCompositeOperation="source-over",u=e.canvas,h=p=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const t=new Path2D;t.rect(h,p,n,i),e.clip(t),e.globalCompositeOperation="destination-atop",e.fillStyle=a,e.fillRect(h,p,n,i),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),"Alpha"===s&&r?t.filter=this.filterFactory.addAlphaFilter(r):"Luminosity"===s&&(t.filter=this.filterFactory.addLuminosityFilter(r));const m=new Path2D;m.rect(o,l,n,i),t.clip(m),t.globalCompositeOperation="destination-in",t.drawImage(u,h,p,n,i,o,l,n,i),t.restore()}save(){this.inSMaskMode&&Rl(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){0!==this.stateStack.length?(this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Rl(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null):this.inSMaskMode&&this.endSMaskMode()}transform(e,t,n,i,s,a){this.ctx.transform(e,t,n,i,s,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n){let[i]=t;if(!n)return i||(i=t[0]=new Path2D),void this[e](i);if(!(i instanceof Path2D)){const e=t[0]=new Path2D;for(let t=0,n=i.length;t<n;)switch(i[t++]){case fn:e.moveTo(i[t++],i[t++]);break;case gn:e.lineTo(i[t++],i[t++]);break;case vn:e.bezierCurveTo(i[t++],i[t++],i[t++],i[t++],i[t++],i[t++]);break;case yn:e.closePath();break;default:kn("Unrecognized drawing path operator: ".concat(i[t-1]))}i=e}Bn.axialAlignedBoundingBox(n,ci(this.ctx),this.current.minMax),this[e](i)}closePath(){this.ctx.closePath()}stroke(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.ctx,i=this.current.strokeColor;if(n.globalAlpha=this.current.strokeAlpha,this.contentVisible)if("object"===typeof i&&null!==i&&void 0!==i&&i.getPattern){const t=i.isModifyingCurrentTransform()?n.getTransform():null;if(n.save(),n.strokeStyle=i.getPattern(n,this,di(n),hl),t){const i=new Path2D;i.addPath(e,n.getTransform().invertSelf().multiplySelf(t)),e=i}this.rescaleAndStroke(e,!1),n.restore()}else this.rescaleAndStroke(e,!0);t&&this.consumePath(e,this.current.getClippedPathBoundingBox(hl,ci(this.ctx))),n.globalAlpha=this.current.fillAlpha}closeStroke(e){this.stroke(e)}fill(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.ctx,i=this.current.fillColor;let s=!1;if(this.current.patternFill){const t=i.isModifyingCurrentTransform()?n.getTransform():null;if(n.save(),n.fillStyle=i.getPattern(n,this,di(n),ul),t){const i=new Path2D;i.addPath(e,n.getTransform().invertSelf().multiplySelf(t)),e=i}s=!0}const a=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==a&&(this.pendingEOFill?(n.fill(e,"evenodd"),this.pendingEOFill=!1):n.fill(e)),s&&n.restore(),t&&this.consumePath(e,a)}eoFill(e){this.pendingEOFill=!0,this.fill(e)}fillStroke(e){this.fill(e,!1),this.stroke(e,!1),this.consumePath(e)}eoFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}closeFillStroke(e){this.fillStroke(e)}closeEOFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}endPath(e){this.consumePath(e)}rawFillPath(e){this.ctx.fill(e)}clip(){this.pendingClip=Wl}eoClip(){this.pendingClip=Bl}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(void 0===e)return;const n=new Path2D,i=t.getTransform().invertSelf();for(const{transform:s,x:a,y:r,fontSize:o,path:l}of e)n.addPath(l,new DOMMatrix(s).preMultiplySelf(i).translate(a,r).scale(o,-o));t.clip(n),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var n;const i=this.commonObjs.get(e),s=this.current;if(!i)throw new Error("Can't find font for ".concat(e));if(s.fontMatrix=i.fontMatrix||Wt,0!==s.fontMatrix[0]&&0!==s.fontMatrix[3]||kn("Invalid font matrix for font "+e),t<0?(t=-t,s.fontDirection=-1):s.fontDirection=1,this.current.font=i,this.current.fontSize=t,i.isType3Font)return;const a=i.loadedName||"sans-serif",r=(null===(n=i.systemFontInfo)||void 0===n?void 0:n.css)||'"'.concat(a,'", ').concat(i.fallbackName);let o="normal";i.black?o="900":i.bold&&(o="bold");const l=i.italic?"italic":"normal";let c=t;t<16?c=16:t>100&&(c=100),this.current.fontSizeScale=t/c,this.ctx.font="".concat(l," ").concat(o," ").concat(c,"px ").concat(r)}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e){const{current:t}=this;t.textMatrix=e,t.textMatrixScale=Math.hypot(e[0],e[1]),t.x=t.lineX=0,t.y=t.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,n,i,s){const a=this.ctx,r=this.current,o=r.font,l=r.textRenderingMode,c=r.fontSize/r.fontSizeScale,d=l&sn,u=!!(l&an),h=r.patternFill&&!o.missingFile,p=r.patternStroke&&!o.missingFile;let m;if((o.disableFontFace||u||h||p)&&(m=o.getPathGenerator(this.commonObjs,e)),o.disableFontFace||h||p){let e;if(a.save(),a.translate(t,n),a.scale(c,-c),d!==Zt&&d!==tn||(i?(e=a.getTransform(),a.setTransform(...i),a.fill(yt(Ul,this,Vl).call(this,m,e,i))):a.fill(m)),d===en||d===tn)if(s){e||(e=a.getTransform()),a.setTransform(...s);const{a:t,b:n,c:i,d:r}=e,o=Bn.inverseTransform(s),l=Bn.transform([t,n,i,r,0,0],o);Bn.singularValueDecompose2dScale(l,jl),a.lineWidth*=Math.max(jl[0],jl[1])/c,a.stroke(yt(Ul,this,Vl).call(this,m,e,s))}else a.lineWidth/=c,a.stroke(m);a.restore()}else d!==Zt&&d!==tn||a.fillText(e,t,n),d!==en&&d!==tn||a.strokeText(e,t,n);if(u){(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:ci(a),x:t,y:n,fontSize:c,path:m})}}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){n=!0;break}return Nn(this,"isFontSubpixelAAEnabled",n)}showText(e){const t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);const i=t.fontSize;if(0===i)return;const s=this.ctx,a=t.fontSizeScale,r=t.charSpacing,o=t.wordSpacing,l=t.fontDirection,c=t.textHScale*l,d=e.length,u=n.vertical,h=u?1:-1,p=n.defaultVMetrics,m=i*t.fontMatrix[0],f=t.textRenderingMode===Zt&&!n.disableFontFace&&!t.patternFill;let g,v;if(s.save(),t.textMatrix&&s.transform(...t.textMatrix),s.translate(t.x,t.y+t.textRise),l>0?s.scale(c,-1):s.scale(c,1),t.patternFill){s.save();const e=t.fillColor.getPattern(s,this,di(s),ul);g=ci(s),s.restore(),s.fillStyle=e}if(t.patternStroke){s.save();const e=t.strokeColor.getPattern(s,this,di(s),hl);v=ci(s),s.restore(),s.strokeStyle=e}let y=t.lineWidth;const b=t.textMatrixScale;if(0===b||0===y){const e=t.textRenderingMode&sn;e!==en&&e!==tn||(y=this.getSinglePixelWidth())}else y/=b;if(1!==a&&(s.scale(a,a),y/=a),s.lineWidth=y,n.isInvalidPDFjsFont){const n=[];let i=0;for(const t of e)n.push(t.unicode),i+=t.width;return s.fillText(n.join(""),0,0),t.x+=i*m*c,s.restore(),void this.compose()}let x,w=0;for(x=0;x<d;++x){const t=e[x];if("number"===typeof t){w+=h*t*i/1e3;continue}let c=!1;const d=(t.isSpace?o:0)+r,y=t.fontChar,b=t.accent;let S,k,A=t.width;if(u){const e=t.vmetric||p,n=-(t.vmetric?e[1]:.5*A)*m,i=e[2]*m;A=e?-e[0]:A,S=n/a,k=(w+i)/a}else S=w/a,k=0;if(n.remeasure&&A>0){const e=1e3*s.measureText(y).width/i*a;if(A<e&&this.isFontSubpixelAAEnabled){const t=A/e;c=!0,s.save(),s.scale(t,1),S/=t}else A!==e&&(S+=(A-e)/2e3*i/a)}if(this.contentVisible&&(t.isInFont||n.missingFile))if(f&&!b)s.fillText(y,S,k);else if(this.paintChar(y,S,k,g,v),b){const e=S+i*b.offset.x/a,t=k-i*b.offset.y/a;this.paintChar(b.fontChar,e,t,g,v)}w+=u?A*m-d*l:A*m+d*l,c&&s.restore()}u?t.y-=w:t.x+=w*c,s.restore(),this.compose()}showType3Text(e){const t=this.ctx,n=this.current,i=n.font,s=n.fontSize,a=n.fontDirection,r=i.vertical?1:-1,o=n.charSpacing,l=n.wordSpacing,c=n.textHScale*a,d=n.fontMatrix||Wt,u=e.length;let h,p,m,f;if(!(n.textRenderingMode===nn)&&0!==s){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),n.textMatrix&&t.transform(...n.textMatrix),t.translate(n.x,n.y+n.textRise),t.scale(c,a),h=0;h<u;++h){if(p=e[h],"number"===typeof p){f=r*p*s/1e3,this.ctx.translate(f,0),n.x+=f*c;continue}const a=(p.isSpace?l:0)+o,u=i.charProcOperatorList[p.operatorListId];u?this.contentVisible&&(this.save(),t.scale(s,s),t.transform(...d),this.executeOperatorList(u),this.restore()):kn('Type3 character "'.concat(p.operatorListId,'" is not available.'));const g=[p.width,0];Bn.applyTransform(g,d),m=g[0]*s+a,t.translate(m,0),n.x+=m*c}t.restore()}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,n,i,s,a){const r=new Path2D;r.rect(n,i,s-n,a-i),this.ctx.clip(r),this.endPath()}getColorN_Pattern(e){let t;if("TilingPattern"===e[0]){const n=this.baseTransform||ci(this.ctx),i={createCanvasGraphics:e=>new zl(e,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new kl(e,this.ctx,i,n)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e){this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e){this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.cachedPatterns.has(e)?t=this.cachedPatterns.get(e):(t=function(e){switch(e[0]){case"RadialAxial":return new gl(e);case"Mesh":return new bl(e);case"Dummy":return new xl}throw new Error("Unknown IR type: ".concat(e[0]))}(this.getObject(e)),this.cachedPatterns.set(e,t)),n&&(t.matrix=n),t}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,di(t),pl);const i=di(t);if(i){const{width:e,height:n}=t.canvas,s=Nl.slice();Bn.axialAlignedBoundingBox([0,0,e,n],i,s);const[a,r,o,l]=s;this.ctx.fillRect(a,r,o-a,l-r)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){An("Should not call beginInlineImage")}beginImageData(){An("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=ci(this.ctx),t)){Bn.axialAlignedBoundingBox(t,this.baseTransform,this.current.minMax);const[e,n,i,s]=t,a=new Path2D;a.rect(e,n,i-e,s-n),this.ctx.clip(a),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||Sn("TODO: Support non-isolated groups."),e.knockout&&kn("Knockout groups not supported.");const n=ci(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=Nl.slice();Bn.axialAlignedBoundingBox(e.bbox,ci(t),i);const s=[0,0,t.canvas.width,t.canvas.height];i=Bn.intersect(i,s)||[0,0,0,0];const a=Math.floor(i[0]),r=Math.floor(i[1]),o=Math.max(Math.ceil(i[2])-a,1),l=Math.max(Math.ceil(i[3])-r,1);this.current.startNewPathAndClipBox([0,0,o,l]);let c="groupAt"+this.groupLevel;e.smask&&(c+="_smask_"+this.smaskCounter++%2);const d=this.cachedCanvases.getCanvas(c,o,l),u=d.context;u.translate(-a,-r),u.transform(...n);let h=new Path2D;const[p,m,f,g]=e.bbox;if(h.rect(p,m,f-p,g-m),e.matrix){const t=new Path2D;t.addPath(h,new DOMMatrix(e.matrix)),h=t}u.clip(h),e.smask?this.smaskStack.push({canvas:d.canvas,context:u,offsetX:a,offsetY:r,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(a,r),t.save()),Rl(t,u),this.ctx=u,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const e=ci(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...e);const n=Nl.slice();Bn.axialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],e,n),this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(n)}}beginAnnotation(e,t,n,i,s){if(yt(Ul,this,Hl).call(this),Ll(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const i=t[2]-t[0],a=t[3]-t[1];if(s&&this.annotationCanvasMap){(n=n.slice())[4]-=t[0],n[5]-=t[1],(t=t.slice())[0]=t[1]=0,t[2]=i,t[3]=a,Bn.singularValueDecompose2dScale(ci(this.ctx),jl);const{viewportScale:s}=this,r=Math.ceil(i*this.outputScaleX*s),o=Math.ceil(a*this.outputScaleY*s);this.annotationCanvas=this.canvasFactory.create(r,o);const{canvas:l,context:c}=this.annotationCanvas;this.annotationCanvasMap.set(e,l),this.annotationCanvas.savedCtx=this.ctx,this.ctx=c,this.ctx.save(),this.ctx.setTransform(jl[0],0,0,-jl[1],0,a*jl[1]),Ll(this.ctx)}else{Ll(this.ctx),this.endPath();const e=new Path2D;e.rect(t[0],t[1],i,a),this.ctx.clip(e)}}this.current=new Tl(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),yt(Ul,this,Gl).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;(e=this.getObject(e.data,e)).count=t;const n=this.ctx,i=this._createMaskCanvas(e),s=i.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(s,i.offsetX,i.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;if(!this.contentVisible)return;e=this.getObject(e.data,e);const r=this.ctx;r.save();const o=ci(r);r.transform(t,n,i,s,0,0);const l=this._createMaskCanvas(e);r.setTransform(1,0,0,1,l.offsetX-o[4],l.offsetY-o[5]);for(let c=0,d=a.length;c<d;c+=2){const e=Bn.transform(o,[t,n,i,s,a[c],a[c+1]]);r.drawImage(l.canvas,e[4],e[5])}r.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,n=this.current.fillColor,i=this.current.patternFill;for(const s of e){const{data:e,width:a,height:r,transform:o}=s,l=this.cachedCanvases.getCanvas("maskCanvas",a,r),c=l.context;c.save();Il(c,this.getObject(e,s)),c.globalCompositeOperation="source-in",c.fillStyle=i?n.getPattern(c,this,di(t),ul):n,c.fillRect(0,0,a,r),c.restore(),t.save(),t.transform(...o),t.scale(1,-1),Ml(t,l.canvas,0,0,a,r,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);t?this.paintInlineImageXObject(t):kn("Dependent image isn't ready yet")}paintImageXObjectRepeat(e,t,n,i){if(!this.contentVisible)return;const s=this.getObject(e);if(!s)return void kn("Dependent image isn't ready yet");const a=s.width,r=s.height,o=[];for(let l=0,c=i.length;l<c;l+=2)o.push({transform:[t,0,0,n,i[l],i[l+1]],x:0,y:0,w:a,h:r});this.paintInlineImageXObjectGroup(s,o)}applyTransferMapsToCanvas(e){return"none"!==this.current.transferMaps&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if("none"===this.current.transferMaps)return e.bitmap;const{bitmap:t,width:n,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",n,i),a=s.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,n=e.height,i=this.ctx;this.save();const{filter:s}=i;let a;if("none"!==s&&""!==s&&(i.filter="none"),i.scale(1/t,-1/n),e.bitmap)a=this.applyTransferMapsToBitmap(e);else if("function"===typeof HTMLElement&&e instanceof HTMLElement||!e.data)a=e;else{const i=this.cachedCanvases.getCanvas("inlineImage",t,n).context;Pl(i,e),a=this.applyTransferMapsToCanvas(i)}const r=this._scaleImage(a,di(i));i.imageSmoothingEnabled=Dl(ci(i),e.interpolate),Ml(i,r.img,0,0,r.paintWidth,r.paintHeight,0,-n,t,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const t=e.width,n=e.height,s=this.cachedCanvases.getCanvas("inlineImage",t,n).context;Pl(s,e),i=this.applyTransferMapsToCanvas(s)}for(const s of t)n.save(),n.transform(...s.transform),n.scale(1,-1),Ml(n,i,s.x,s.y,s.w,s.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){"OC"===e?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e,t){const n=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const i=this.ctx;this.pendingClip&&(n||(this.pendingClip===Bl?i.clip(e,"evenodd"):i.clip(e)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=ci(this.ctx);if(0===e[1]&&0===e[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(-1===this._cachedScaleForStroking[0]){const{lineWidth:e}=this.current,{a:t,b:n,c:i,d:s}=this.ctx.getTransform();let a,r;if(0===n&&0===i){const n=Math.abs(t),i=Math.abs(s);if(n===i)if(0===e)a=r=1/n;else{const t=n*e;a=r=t<1?1/t:1}else if(0===e)a=1/n,r=1/i;else{const t=n*e,s=i*e;a=t<1?1/t:1,r=s<1?1/s:1}}else{const o=Math.abs(t*s-n*i),l=Math.hypot(t,n),c=Math.hypot(i,s);if(0===e)a=c/o,r=l/o;else{const t=e*o;a=c>t?c/t:1,r=l>t?l/t:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=r}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:n,current:{lineWidth:i}}=this,[s,a]=this.getScaleForStroking();if(s===a)return n.lineWidth=(i||1)*s,void n.stroke(e);const r=n.getLineDash();t&&n.save(),n.scale(s,a),_l.a=1/s,_l.d=1/a;const o=new Path2D;if(o.addPath(e,_l),r.length>0){const e=Math.max(s,a);n.setLineDash(r.map(t=>t/e)),n.lineDashOffset/=e}n.lineWidth=i||1,n.stroke(o),t&&n.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}function Hl(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}function Gl(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if("none"!==e){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}function Vl(e,t,n){const i=new Path2D;return i.addPath(e,new DOMMatrix(n).invertSelf().multiplySelf(t)),i}for(const n in mn)void 0!==zl.prototype[n]&&(zl.prototype[mn[n]]=zl.prototype[n]);class ql{static get workerPort(){return yt(ql,this,Yl)._}static set workerPort(e){if(!("undefined"!==typeof Worker&&e instanceof Worker)&&null!==e)throw new Error("Invalid `workerPort` type.");Yl._=yt(ql,this,e)}static get workerSrc(){return yt(ql,this,Kl)._}static set workerSrc(e){if("string"!==typeof e)throw new Error("Invalid `workerSrc` type.");Kl._=yt(ql,this,e)}}var Yl={_:null},Kl={_:""},Xl=new WeakMap,Ql=new WeakMap;class $l{constructor(e){let{parsedData:t,rawData:n}=e;vt(this,Xl,void 0),vt(this,Ql,void 0),wt(Xl,this,t),wt(Ql,this,n)}getRaw(){return xt(Ql,this)}get(e){var t;return null!==(t=xt(Xl,this).get(e))&&void 0!==t?t:null}[Symbol.iterator](){return xt(Xl,this).entries()}}const Jl=Symbol("INTERNAL");var Zl=new WeakMap,ec=new WeakMap,tc=new WeakMap,nc=new WeakMap;class ic{constructor(e,t){let{name:n,intent:i,usage:s,rbGroups:a}=t;vt(this,Zl,!1),vt(this,ec,!1),vt(this,tc,!1),vt(this,nc,!0),wt(Zl,this,!!(e&zt)),wt(ec,this,!!(e&Ht)),this.name=n,this.intent=i,this.usage=s,this.rbGroups=a}get visible(){if(xt(tc,this))return xt(nc,this);if(!xt(nc,this))return!1;const{print:e,view:t}=this.usage;return xt(Zl,this)?"OFF"!==(null===t||void 0===t?void 0:t.viewState):!xt(ec,this)||"OFF"!==(null===e||void 0===e?void 0:e.printState)}_setVisible(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e!==Jl&&An("Internal method `_setVisible` called."),wt(tc,this,n),wt(nc,this,t)}}var sc=new WeakMap,ac=new WeakMap,rc=new WeakMap,oc=new WeakMap,lc=new WeakSet;class cc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zt;if(gt(this,lc),vt(this,sc,null),vt(this,ac,new Map),vt(this,rc,null),vt(this,oc,null),this.renderingIntent=t,this.name=null,this.creator=null,null!==e){this.name=e.name,this.creator=e.creator,wt(oc,this,e.order);for(const n of e.groups)xt(ac,this).set(n.id,new ic(t,n));if("OFF"===e.baseState)for(const e of xt(ac,this).values())e._setVisible(Jl,!1);for(const t of e.on)xt(ac,this).get(t)._setVisible(Jl,!0);for(const t of e.off)xt(ac,this).get(t)._setVisible(Jl,!1);wt(rc,this,this.getHash())}}isVisible(e){if(0===xt(ac,this).size)return!0;if(!e)return Sn("Optional content group not defined."),!0;if("OCG"===e.type)return xt(ac,this).has(e.id)?xt(ac,this).get(e.id).visible:(kn("Optional content group not found: ".concat(e.id)),!0);if("OCMD"===e.type){if(e.expression)return yt(lc,this,dc).call(this,e.expression);if(!e.policy||"AnyOn"===e.policy){for(const t of e.ids){if(!xt(ac,this).has(t))return kn("Optional content group not found: ".concat(t)),!0;if(xt(ac,this).get(t).visible)return!0}return!1}if("AllOn"===e.policy){for(const t of e.ids){if(!xt(ac,this).has(t))return kn("Optional content group not found: ".concat(t)),!0;if(!xt(ac,this).get(t).visible)return!1}return!0}if("AnyOff"===e.policy){for(const t of e.ids){if(!xt(ac,this).has(t))return kn("Optional content group not found: ".concat(t)),!0;if(!xt(ac,this).get(t).visible)return!0}return!1}if("AllOff"===e.policy){for(const t of e.ids){if(!xt(ac,this).has(t))return kn("Optional content group not found: ".concat(t)),!0;if(xt(ac,this).get(t).visible)return!1}return!0}return kn("Unknown optional content policy ".concat(e.policy,".")),!0}return kn("Unknown group type ".concat(e.type,".")),!0}setVisibility(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=xt(ac,this).get(e);if(i){if(n&&t&&i.rbGroups.length)for(const t of i.rbGroups)for(const n of t){var s;if(n!==e)null===(s=xt(ac,this).get(n))||void 0===s||s._setVisible(Jl,!1,!0)}i._setVisible(Jl,!!t,!0),wt(sc,this,null)}else kn("Optional content group not found: ".concat(e))}setOCGState(e){let t,{state:n,preserveRB:i}=e;for(const s of n){switch(s){case"ON":case"OFF":case"Toggle":t=s;continue}const e=xt(ac,this).get(s);if(e)switch(t){case"ON":this.setVisibility(s,!0,i);break;case"OFF":this.setVisibility(s,!1,i);break;case"Toggle":this.setVisibility(s,!e.visible,i)}}wt(sc,this,null)}get hasInitialVisibility(){return null===xt(rc,this)||this.getHash()===xt(rc,this)}getOrder(){return xt(ac,this).size?xt(oc,this)?xt(oc,this).slice():[...xt(ac,this).keys()]:null}getGroup(e){return xt(ac,this).get(e)||null}getHash(){if(null!==xt(sc,this))return xt(sc,this);const e=new Hr;for(const[t,n]of xt(ac,this))e.update("".concat(t,":").concat(n.visible));return wt(sc,this,e.hexdigest())}[Symbol.iterator](){return xt(ac,this).entries()}}function dc(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let i=1;i<t;i++){const t=e[i];let s;if(Array.isArray(t))s=yt(lc,this,dc).call(this,t);else{if(!xt(ac,this).has(t))return kn("Optional content group not found: ".concat(t)),!0;s=xt(ac,this).get(t).visible}switch(n){case"And":if(!s)return!1;break;case"Or":if(s)return!0;break;case"Not":return!s;default:return!0}}return"And"===n}class uc{constructor(e,t){let{disableRange:n=!1,disableStream:i=!1}=t;En(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:a,progressiveDone:r,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=r,this._contentDispositionFilename=o,(null===a||void 0===a?void 0:a.length)>0){const e=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;this._queuedChunks.push(e)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!i,this._isRangeSupported=!n,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((e,t)=>{this._onReceiveData({begin:e,chunk:t})}),e.addProgressListener((e,t)=>{this._onProgress({loaded:e,total:t})}),e.addProgressiveReadListener(e=>{this._onReceiveData({chunk:e})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData(e){let{begin:t,chunk:n}=e;const i=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(void 0===t)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{En(this._rangeReaders.some(function(e){return e._begin===t&&(e._enqueue(i),!0)}),"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}_onProgress(e){var t,n,i,s;void 0===e.total?null===(t=this._rangeReaders[0])||void 0===t||null===(n=t.onProgress)||void 0===n||n.call(t,{loaded:e.loaded}):null===(i=this._fullRequestReader)||void 0===i||null===(s=i.onProgress)||void 0===s||s.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;null===(e=this._fullRequestReader)||void 0===e||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){En(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new hc(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new pc(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class hc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this._stream=e,this._done=n||!1,this._filename=ti(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length>0){this._requests.shift().resolve({value:e,done:!1})}else this._queuedChunks.push(e);this._loaded+=e.byteLength}}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0){return{value:this._queuedChunks.shift(),done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class pc{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(0===this._requests.length)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function mc(e,t){const n=new Headers;if(!e||!t||"object"!==typeof t)return n;for(const i in t){const e=t[i];void 0!==e&&n.append(i,e)}return n}function fc(e){var t,n;return null!==(t=null===(n=URL.parse(e))||void 0===n?void 0:n.origin)&&void 0!==t?t:null}function gc(e){let{responseHeaders:t,isHttp:n,rangeChunkSize:i,disableRange:s}=e;const a={allowRangeRequests:!1,suggestedLength:void 0},r=parseInt(t.get("Content-Length"),10);if(!Number.isInteger(r))return a;if(a.suggestedLength=r,r<=2*i)return a;if(s||!n)return a;if("bytes"!==t.get("Accept-Ranges"))return a;return"identity"!==(t.get("Content-Encoding")||"identity")||(a.allowRangeRequests=!0),a}function vc(e){const t=e.get("Content-Disposition");if(t){let e=function(e){let t=!0,n=i("filename\\*","i").exec(e);if(n){n=n[1];let e=r(n);return e=unescape(e),e=o(e),e=l(e),a(e)}if(n=function(e){const t=[];let n;const s=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(n=s.exec(e));){let[,e,i,s]=n;if(e=parseInt(e,10),e in t){if(0===e)break}else t[e]=[i,s]}const a=[];for(let i=0;i<t.length&&i in t;++i){let[e,n]=t[i];n=r(n),e&&(n=unescape(n),0===i&&(n=o(n))),a.push(n)}return a.join("")}(e),n)return a(l(n));if(n=i("filename","i").exec(e),n){n=n[1];let e=r(n);return e=l(e),a(e)}function i(e,t){return new RegExp("(?:^|;)\\s*"+e+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',t)}function s(e,n){if(e){if(!/^[\x00-\xFF]+$/.test(n))return n;try{const i=new TextDecoder(e,{fatal:!0}),s=Fn(n);n=i.decode(s),t=!1}catch(i){}}return n}function a(e){return t&&/[\x80-\xff]/.test(e)&&(e=s("utf-8",e),t&&(e=s("iso-8859-1",e))),e}function r(e){if(e.startsWith('"')){const t=e.slice(1).split('\\"');for(let e=0;e<t.length;++e){const n=t[e].indexOf('"');-1!==n&&(t[e]=t[e].slice(0,n),t.length=e+1),t[e]=t[e].replaceAll(/\\(.)/g,"$1")}e=t.join('"')}return e}function o(e){const t=e.indexOf("'");return-1===t?e:s(e.slice(0,t),e.slice(t+1).replace(/^[^']*'/,""))}function l(e){return!e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(e)?e:e.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(e,t,n,i){if("q"===n||"Q"===n)return s(t,i=(i=i.replaceAll("_"," ")).replaceAll(/=([0-9a-fA-F]{2})/g,function(e,t){return String.fromCharCode(parseInt(t,16))}));try{i=atob(i)}catch(a){}return s(t,i)})}return""}(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch(n){}if(ti(e))return e}return null}function yc(e,t){return new In("Unexpected server response (".concat(e,') while retrieving PDF "').concat(t,'".'),e,404===e||0===e&&t.startsWith("file:"))}function bc(e){return 200===e||206===e}function xc(e,t,n){return{method:"GET",headers:e,signal:n.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function wc(e){return e instanceof Uint8Array?e.buffer:e instanceof ArrayBuffer?e:(kn("getArrayBuffer - unexpected data format: ".concat(e)),new Uint8Array(e).buffer)}class Sc{constructor(e){Le(this,"_responseOrigin",null),this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=mc(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}getFullReader(){return En(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new kc(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new Ac(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class kc{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const n=new Headers(e.headers),i=t.url;fetch(i,xc(n,this._withCredentials,this._abortController)).then(t=>{if(e._responseOrigin=fc(t.url),!bc(t.status))throw yc(t.status,i);this._reader=t.body.getReader(),this._headersCapability.resolve();const n=t.headers,{allowRangeRequests:s,suggestedLength:a}=gc({responseHeaders:n,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=a||this._contentLength,this._filename=vc(n),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Ln("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;await this._headersCapability.promise;const{value:t,done:n}=await this._reader.read();return n?{value:t,done:n}:(this._loaded+=t.byteLength,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded,total:this._contentLength}),{value:wc(t),done:!1})}cancel(e){var t;null===(t=this._reader)||void 0===t||t.cancel(e),this._abortController.abort()}}class Ac{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range","bytes=".concat(t,"-").concat(n-1));const a=i.url;fetch(a,xc(s,this._withCredentials,this._abortController)).then(t=>{const n=fc(t.url);if(n!==e._responseOrigin)throw new Error('Expected range response-origin "'.concat(n,'" to match "').concat(e._responseOrigin,'".'));if(!bc(t.status))throw yc(t.status,a);this._readCapability.resolve(),this._reader=t.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;await this._readCapability.promise;const{value:t,done:n}=await this._reader.read();return n?{value:t,done:n}:(this._loaded+=t.byteLength,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded}),{value:wc(t),done:!1})}cancel(e){var t;null===(t=this._reader)||void 0===t||t.cancel(e),this._abortController.abort()}}class Ec{constructor(e){let{url:t,httpHeaders:n,withCredentials:i}=e;Le(this,"_responseOrigin",null),this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=mc(this.isHttp,n),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,i=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[s,a]of this.headers)t.setRequestHeader(s,a);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range","bytes=".concat(e.begin,"-").concat(e.end-1)),i.expectedStatus=206):i.expectedStatus=200,t.responseType="arraybuffer",En(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){var n;const i=this.pendingRequests[e];i&&(null===(n=i.onProgress)||void 0===n||n.call(i,t))}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4!==i.readyState)return;if(!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],0===i.status&&this.isHttp)return void n.onError(i.status);const s=i.status||200;if(!(200===s&&206===n.expectedStatus)&&s!==n.expectedStatus)return void n.onError(i.status);const a=function(e){const t=e.response;return"string"!==typeof t?t:Fn(t).buffer}(i);if(206===s){const e=i.getResponseHeader("Content-Range"),t=/bytes (\d+)-(\d+)\/(\d+)/.exec(e);t?n.onDone({begin:parseInt(t[1],10),chunk:a}):(kn('Missing or invalid "Content-Range" header.'),n.onError(0))}else a?n.onDone({begin:0,chunk:a}):n.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class _c{constructor(e){this._source=e,this._manager=new Ec(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return En(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new jc(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new Nc(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class jc{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=fc(t.responseURL);const n=t.getAllResponseHeaders(),i=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(e=>{const[t,...n]=e.split(": ");return[t,n.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:a}=gc({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=vc(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e)if(this._requests.length>0){this._requests.shift().resolve({value:e.chunk,done:!1})}else this._cachedChunks.push(e.chunk);if(this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=yc(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0){return{value:this._cachedChunks.shift(),done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Nc{constructor(e,t,n){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var e;const t=fc(null===(e=this._manager.getRequestXhr(this._requestId))||void 0===e?void 0:e.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error('Expected range response-origin "'.concat(t,'" to match "').concat(this._manager._responseOrigin,'".')),this._onError(0))}_close(){var e;null===(e=this.onClosed)||void 0===e||e.call(this,this)}_onDone(e){const t=e.chunk;if(this._requests.length>0){this._requests.shift().resolve({value:t,done:!1})}else this._queuedChunk=t;this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){var t;null!==(t=this._storedError)&&void 0!==t||(this._storedError=yc(e,this._url));for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:e.loaded}))}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(null!==this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const Cc=/^[a-z][a-z0-9\-+.]+:/i;class Mc{constructor(e){this.source=e,this.url=function(e){if(Cc.test(e))return new URL(e);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(e))}(e.url),En("file:"===this.url.protocol,"PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}getFullReader(){return En(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new Tc(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new Pc(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class Tc{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(e=>{this._contentLength=e.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},e=>{"ENOENT"===e.code&&(e=yc(0,this._url.href)),this._storedError=e,this._headersCapability.reject(e)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();if(null===t)return this._readCapability=Promise.withResolvers(),this.read();this._loaded+=t.length,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded,total:this._contentLength});return{value:new Uint8Array(t).buffer,done:!1}}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Ln("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Pc{constructor(e,t,n){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:t,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();if(null===t)return this._readCapability=Promise.withResolvers(),this.read();this._loaded+=t.length,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded});return{value:new Uint8Array(t).buffer,done:!1}}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Ic=Symbol("INITIAL_DATA");var Rc=new WeakMap,Lc=new WeakSet;class Dc{constructor(){gt(this,Lc),vt(this,Rc,Object.create(null))}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t){const n=yt(Lc,this,Fc).call(this,e);return n.promise.then(()=>t(n.data)),null}const n=xt(Rc,this)[e];if(!n||n.data===Ic)throw new Error("Requesting object that isn't resolved yet ".concat(e,"."));return n.data}has(e){const t=xt(Rc,this)[e];return!!t&&t.data!==Ic}delete(e){const t=xt(Rc,this)[e];return!(!t||t.data===Ic)&&(delete xt(Rc,this)[e],!0)}resolve(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=yt(Lc,this,Fc).call(this,e);n.data=t,n.resolve()}clear(){for(const t in xt(Rc,this)){var e;const{data:n}=xt(Rc,this)[t];null===n||void 0===n||null===(e=n.bitmap)||void 0===e||e.close()}wt(Rc,this,Object.create(null))}*[Symbol.iterator](){for(const e in xt(Rc,this)){const{data:t}=xt(Rc,this)[e];t!==Ic&&(yield[e,t])}}}function Fc(e){var t;return(t=xt(Rc,this))[e]||(t[e]=Fe(Fe({},Promise.withResolvers()),{},{data:Ic}))}var Oc=new WeakMap,Wc=new WeakMap,Bc=new WeakMap,Uc=new WeakMap,zc=new WeakMap,Hc=new WeakMap,Gc=new WeakMap,Vc=new WeakMap,qc=new WeakMap,Yc=new WeakMap,Kc=new WeakMap,Xc=new WeakMap,Qc=new WeakMap,$c=new WeakMap,Jc=new WeakMap,Zc=new WeakMap,ed=new WeakMap,td=new WeakMap,nd=new WeakSet;class id{constructor(e){var t;let{textContentSource:n,container:i,viewport:s}=e;if(gt(this,nd),vt(this,Oc,Promise.withResolvers()),vt(this,Wc,null),vt(this,Bc,!1),vt(this,Uc,!(null===(t=globalThis.FontInspector)||void 0===t||!t.enabled)),vt(this,zc,null),vt(this,Hc,null),vt(this,Gc,0),vt(this,Vc,0),vt(this,qc,null),vt(this,Yc,null),vt(this,Kc,0),vt(this,Xc,0),vt(this,Qc,Object.create(null)),vt(this,$c,[]),vt(this,Jc,null),vt(this,Zc,[]),vt(this,ed,new WeakMap),vt(this,td,null),n instanceof ReadableStream)wt(Jc,this,n);else{if("object"!==typeof n)throw new Error('No "textContentSource" parameter specified.');wt(Jc,this,new ReadableStream({start(e){e.enqueue(n),e.close()}}))}wt(Wc,this,wt(Yc,this,i)),wt(Xc,this,s.scale*hi.pixelRatio),wt(Kc,this,s.rotation),wt(Hc,this,{div:null,properties:null,ctx:null});const{pageWidth:a,pageHeight:r,pageX:o,pageY:l}=s.rawDims;wt(td,this,[1,0,0,-1,-o,l+r]),wt(Vc,this,a),wt(Gc,this,r),cd.call(id),ui(i,s),xt(Oc,this).promise.finally(()=>{fd._.delete(this),wt(Hc,this,null),wt(Qc,this,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=On.platform;return Nn(this,"fontFamilyMap",new Map([["sans-serif","".concat(e&&t?"Calibri, ":"","sans-serif")],["monospace","".concat(e&&t?"Lucida Console, ":"","monospace")]]))}render(){const e=()=>{xt(qc,this).read().then(t=>{var n;let{value:i,done:s}=t;s?xt(Oc,this).resolve():(null!==(n=xt(zc,this))&&void 0!==n||wt(zc,this,i.lang),Object.assign(xt(Qc,this),i.styles),yt(nd,this,sd).call(this,i.items),e())},xt(Oc,this).reject)};return wt(qc,this,xt(Jc,this).getReader()),fd._.add(this),e(),xt(Oc,this).promise}update(e){let{viewport:t,onBefore:n=null}=e;const i=t.scale*hi.pixelRatio,s=t.rotation;if(s!==xt(Kc,this)&&(null===n||void 0===n||n(),wt(Kc,this,s),ui(xt(Yc,this),{rotation:s})),i!==xt(Xc,this)){null===n||void 0===n||n(),wt(Xc,this,i);const e={div:null,properties:null,ctx:od.call(id,xt(zc,this))};for(const t of xt(Zc,this))e.properties=xt(ed,this).get(t),e.div=t,yt(nd,this,rd).call(this,e)}}cancel(){var e;const t=new Ln("TextLayer task cancelled.");null===(e=xt(qc,this))||void 0===e||e.cancel(t).catch(()=>{}),wt(qc,this,null),xt(Oc,this).reject(t)}get textDivs(){return xt(Zc,this)}get textContentItemsStr(){return xt($c,this)}static cleanup(){if(!(yt(id,this,fd)._.size>0)){yt(id,this,ud)._.clear();for(const{canvas:e}of yt(id,this,hd)._.values())e.remove();yt(id,this,hd)._.clear()}}}function sd(e){var t,n;if(xt(Bc,this))return;null!==(n=(t=xt(Hc,this)).ctx)&&void 0!==n||(t.ctx=od.call(Nt,xt(zc,this)));const i=xt(Zc,this),s=xt($c,this);for(const a of e){if(i.length>1e5)return kn("Ignoring additional textDivs for performance reasons."),void wt(Bc,this,!0);if(void 0!==a.str)s.push(a.str),yt(nd,this,ad).call(this,a);else if("beginMarkedContentProps"===a.type||"beginMarkedContent"===a.type){const e=xt(Wc,this);wt(Wc,this,document.createElement("span")),xt(Wc,this).classList.add("markedContent"),null!==a.id&&xt(Wc,this).setAttribute("id","".concat(a.id)),e.append(xt(Wc,this))}else"endMarkedContent"===a.type&&wt(Wc,this,xt(Wc,this).parentNode)}}function ad(e){const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:""!==e.str,hasEOL:e.hasEOL,fontSize:0};xt(Zc,this).push(t);const i=Bn.transform(xt(td,this),e.transform);let s=Math.atan2(i[1],i[0]);const a=xt(Qc,this)[e.fontName];a.vertical&&(s+=Math.PI/2);let r=xt(Uc,this)&&a.fontSubstitution||a.fontFamily;r=Nt.fontFamilyMap.get(r)||r;const o=Math.hypot(i[2],i[3]),l=o*dd.call(Nt,r,a,xt(zc,this));let c,d;0===s?(c=i[4],d=i[5]-l):(c=i[4]+l*Math.sin(s),d=i[5]-l*Math.cos(s));const u="calc(var(--total-scale-factor) *",h=t.style;xt(Wc,this)===xt(Yc,this)?(h.left="".concat((100*c/xt(Vc,this)).toFixed(2),"%"),h.top="".concat((100*d/xt(Gc,this)).toFixed(2),"%")):(h.left="".concat(u).concat(c.toFixed(2),"px)"),h.top="".concat(u).concat(d.toFixed(2),"px)")),h.fontSize="".concat(u).concat((md._*o).toFixed(2),"px)"),h.fontFamily=r,n.fontSize=o,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,xt(Uc,this)&&(t.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),0!==s&&(n.angle=s*(180/Math.PI));let p=!1;if(e.str.length>1)p=!0;else if(" "!==e.str&&e.transform[0]!==e.transform[3]){const t=Math.abs(e.transform[0]),n=Math.abs(e.transform[3]);t!==n&&Math.max(t,n)/Math.min(t,n)>1.5&&(p=!0)}if(p&&(n.canvasWidth=a.vertical?e.height:e.width),xt(ed,this).set(t,n),xt(Hc,this).div=t,xt(Hc,this).properties=n,yt(nd,this,rd).call(this,xt(Hc,this)),n.hasText&&xt(Wc,this).append(t),n.hasEOL){const e=document.createElement("br");e.setAttribute("role","presentation"),xt(Wc,this).append(e)}}function rd(e){const{div:t,properties:n,ctx:i}=e,{style:s}=t;let a="";if(md._>1&&(a="scale(".concat(1/md._,")")),0!==n.canvasWidth&&n.hasText){const{fontFamily:e}=s,{canvasWidth:r,fontSize:o}=n;ld.call(Nt,i,o*xt(Xc,this),e);const{width:l}=i.measureText(t.textContent);l>0&&(a="scaleX(".concat(r*xt(Xc,this)/l,") ").concat(a))}0!==n.angle&&(a="rotate(".concat(n.angle,"deg) ").concat(a)),a.length>0&&(s.transform=a)}function od(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=yt(Nt,this,hd)._.get(e||(e=""));if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),yt(Nt,this,hd)._.set(e,t),yt(Nt,this,pd)._.set(t,{size:0,family:""})}return t}function ld(e,t,n){const i=yt(Nt,this,pd)._.get(e);t===i.size&&n===i.family||(e.font="".concat(t,"px ").concat(n),i.size=t,i.family=n)}function cd(){if(null!==yt(Nt,this,md)._)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),md._=yt(Nt,this,e.getBoundingClientRect().height),e.remove()}function dd(e,t,n){const i=yt(Nt,this,ud)._.get(e);if(i)return i;const s=yt(Nt,this,od).call(this,n);s.canvas.width=s.canvas.height=30,yt(Nt,this,ld).call(this,s,30,e);const a=s.measureText(""),r=a.fontBoundingBoxAscent,o=Math.abs(a.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let l=.8;return r?l=r/(r+o):(On.platform.isFirefox&&kn("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?l=t.ascent:t.descent&&(l=1+t.descent)),yt(Nt,this,ud)._.set(e,l),l}Nt=id;var ud={_:new Map},hd={_:new Map},pd={_:new WeakMap},md={_:null},fd={_:new Set};class gd{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};return function e(n){var i;if(!n)return;let s=null;const a=n.name;if("#text"===a)s=n.value;else{if(!gd.shouldBuildText(a))return;null!==n&&void 0!==n&&null!==(i=n.attributes)&&void 0!==i&&i.textContent?s=n.attributes.textContent:n.value&&(s=n.value)}if(null!==s&&t.push({str:s}),n.children)for(const t of n.children)e(t)}(e),n}static shouldBuildText(e){return!("textarea"===e||"input"===e||"option"===e||"select"===e)}}class vd{constructor(){Le(this,"_capability",Promise.withResolvers()),Le(this,"_transport",null),Le(this,"_worker",null),Le(this,"docId","d".concat((yd._=(Ct=yd._,Mt=Ct++,Ct),Mt))),Le(this,"destroyed",!1),Le(this,"onPassword",null),Le(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e;this.destroyed=!0;try{var t,n;null!==(t=this._worker)&&void 0!==t&&t.port&&(this._worker._pendingDestroy=!0),await(null===(n=this._transport)||void 0===n?void 0:n.destroy())}catch(s){var i;throw null!==(i=this._worker)&&void 0!==i&&i.port&&delete this._worker._pendingDestroy,s}this._transport=null,null===(e=this._worker)||void 0===e||e.destroy(),this._worker=null}async getData(){return this._transport.getData()}}var yd={_:0},bd=new WeakMap,xd=new WeakMap,wd=new WeakMap,Sd=new WeakMap,kd=new WeakMap;class Ad{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;vt(this,bd,Promise.withResolvers()),vt(this,xd,[]),vt(this,wd,[]),vt(this,Sd,[]),vt(this,kd,[]),this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=i}addRangeListener(e){xt(kd,this).push(e)}addProgressListener(e){xt(Sd,this).push(e)}addProgressiveReadListener(e){xt(wd,this).push(e)}addProgressiveDoneListener(e){xt(xd,this).push(e)}onDataRange(e,t){for(const n of xt(kd,this))n(e,t)}onDataProgress(e,t){xt(bd,this).promise.then(()=>{for(const n of xt(Sd,this))n(e,t)})}onDataProgressiveRead(e){xt(bd,this).promise.then(()=>{for(const t of xt(wd,this))t(e)})}onDataProgressiveDone(){xt(bd,this).promise.then(()=>{for(const e of xt(xd,this))e()})}transportReady(){xt(bd,this).resolve()}requestDataRange(e,t){An("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class Ed{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Nn(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){let{intent:e="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var _d=new WeakMap,jd=new WeakSet;class Nd{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];gt(this,jd),vt(this,_d,!1),this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=i?new ni:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new Dc,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport(){let{scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:s=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Jn({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:s})}getAnnotations(){let{intent:e="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Nn(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return(null===(e=this._transport._htmlForXfa)||void 0===e?void 0:e.children[this._pageIndex])||null}render(e){var t,n;let{canvasContext:i,viewport:s,intent:a="display",annotationMode:r=Xt.ENABLE,transform:o=null,background:l=null,optionalContentConfigPromise:c=null,annotationCanvasMap:d=null,pageColors:u=null,printAnnotationStorage:h=null,isEditing:p=!1}=e;null===(t=this._stats)||void 0===t||t.time("Overall");const m=this._transport.getRenderingIntent(a,r,h,p),{renderingIntent:f,cacheKey:g}=m;wt(_d,this,!1),c||(c=this._transport.getOptionalContentConfig(f));let v=this._intentStates.get(g);v||(v=Object.create(null),this._intentStates.set(g,v)),v.streamReaderCancelTimeout&&(clearTimeout(v.streamReaderCancelTimeout),v.streamReaderCancelTimeout=null);const y=!!(f&Ht);var b;v.displayReadyCapability||(v.displayReadyCapability=Promise.withResolvers(),v.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},null===(b=this._stats)||void 0===b||b.time("Page Request"),this._pumpOperatorList(m));const x=e=>{var t;(v.renderTasks.delete(w),y&&wt(_d,this,!0),yt(jd,this,Cd).call(this),e?(w.capability.reject(e),this._abortOperatorList({intentState:v,reason:e instanceof Error?e:new Error(e)})):w.capability.resolve(),this._stats)&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),null!==(t=globalThis.Stats)&&void 0!==t&&t.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},w=new tu({callback:x,params:{canvasContext:i,viewport:s,transform:o,background:l},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:d,operatorList:v.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!y,pdfBug:this._pdfBug,pageColors:u});((n=v).renderTasks||(n.renderTasks=new Set)).add(w);const S=w.task;return Promise.all([v.displayReadyCapability.promise,c]).then(e=>{var t;let[n,i]=e;if(this.destroyed)x();else{if(null===(t=this._stats)||void 0===t||t.time("Rendering"),!(i.renderingIntent&f))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");w.initializeGraphics({transparency:n,optionalContentConfig:i}),w.operatorListChanged()}}).catch(x),S}getOperatorList(){let{intent:e="display",annotationMode:t=Xt.ENABLE,printAnnotationStorage:n=null,isEditing:i=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const s=this._transport.getRenderingIntent(e,t,n,i,!0);let a,r=this._intentStates.get(s.cacheKey);var o,l;(r||(r=Object.create(null),this._intentStates.set(s.cacheKey,r)),r.opListReadCapability)||(a=Object.create(null),a.operatorListChanged=function(){r.operatorList.lastChunk&&(r.opListReadCapability.resolve(r.operatorList),r.renderTasks.delete(a))},r.opListReadCapability=Promise.withResolvers(),((o=r).renderTasks||(o.renderTasks=new Set)).add(a),r.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},null===(l=this._stats)||void 0===l||l.time("Page Request"),this._pumpOperatorList(s));return r.opListReadCapability.promise}streamTextContent(){let{includeMarkedContent:e=!1,disableNormalization:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===e,disableNormalization:!0===t},{highWaterMark:100,size:e=>e.items.length})}getTextContent(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then(e=>gd.textContent(e));const t=this.streamTextContent(e);return new Promise(function(e,n){const i=t.getReader(),s={items:[],styles:Object.create(null),lang:null};!function t(){i.read().then(function(n){var i;let{value:a,done:r}=n;r?e(s):(null!==(i=s.lang)&&void 0!==i||(s.lang=a.lang),Object.assign(s.styles,a.styles),s.items.push(...a.items),t())},n)}()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),wt(_d,this,!1),Promise.all(e)}cleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];wt(_d,this,!0);const t=yt(jd,this,Cd).call(this);return e&&t&&this._stats&&(this._stats=new ni),t}_startRenderPage(e,t){var n,i;const s=this._intentStates.get(t);s&&(null===(n=this._stats)||void 0===n||n.timeEnd("Page Request"),null===(i=s.displayReadyCapability)||void 0===i||i.resolve(e))}_renderPageChunk(e,t){for(let n=0,i=e.length;n<i;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&yt(jd,this,Cd).call(this)}_pumpOperatorList(e){let{renderingIntent:t,cacheKey:n,annotationStorageSerializable:i,modifiedIds:s}=e;const{map:a,transfer:r}=i,o=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:n,annotationStorage:a,modifiedIds:s},r).getReader(),l=this._intentStates.get(n);l.streamReader=o;const c=()=>{o.read().then(e=>{let{value:t,done:n}=e;n?l.streamReader=null:this._transport.destroyed||(this._renderPageChunk(t,l),c())},e=>{if(l.streamReader=null,!this._transport.destroyed){if(l.operatorList){l.operatorList.lastChunk=!0;for(const e of l.renderTasks)e.operatorListChanged();yt(jd,this,Cd).call(this)}if(l.displayReadyCapability)l.displayReadyCapability.reject(e);else{if(!l.opListReadCapability)throw e;l.opListReadCapability.reject(e)}}})};c()}_abortOperatorList(e){let{intentState:t,reason:n,force:i=!1}=e;if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!i){if(t.renderTasks.size>0)return;if(n instanceof Zn){let e=100;return n.extraDelay>0&&n.extraDelay<1e3&&(e+=n.extraDelay),void(t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:n,force:!0})},e))}}if(t.streamReader.cancel(new Ln(n.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[e,n]of this._intentStates)if(n===t){this._intentStates.delete(e);break}this.cleanup()}}}get stats(){return this._stats}}function Cd(){if(!xt(_d,this)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),wt(_d,this,!1),!0}var Md=new WeakMap,Td=new WeakMap,Pd=new WeakMap,Id=new WeakMap,Rd=new WeakSet;class Ld{constructor(){let{name:e=null,port:t=null,verbosity:n=wn()}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(gt(this,Rd),vt(this,Md,Promise.withResolvers()),vt(this,Td,null),vt(this,Pd,null),vt(this,Id,null),this.name=e,this.destroyed=!1,this.verbosity=n,t){if(Hd._.has(t))throw new Error("Cannot use more than one PDFWorker per port.");Hd._.set(t,this),yt(Rd,this,Fd).call(this,t)}else yt(Rd,this,Od).call(this)}get promise(){return xt(Md,this).promise}get port(){return xt(Pd,this)}get messageHandler(){return xt(Td,this)}destroy(){var e,t;this.destroyed=!0,null===(e=xt(Id,this))||void 0===e||e.terminate(),wt(Id,this,null),Hd._.delete(xt(Pd,this)),wt(Pd,this,null),null===(t=xt(Td,this))||void 0===t||t.destroy(),wt(Td,this,null)}static create(e){const t=yt(Ld,this,Hd)._.get(null===e||void 0===e?void 0:e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new Ld(e)}static get workerSrc(){if(ql.workerSrc)return ql.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Nn(this,"_setupFakeWorkerGlobal",(async()=>{if(bt(Ld,this,Bd))return bt(Ld,this,Bd);return(await import(this.workerSrc)).WorkerMessageHandler})())}}function Dd(){xt(Md,this).resolve(),xt(Td,this).send("configure",{verbosity:this.verbosity})}function Fd(e){wt(Pd,this,e),wt(Td,this,new ko("main","worker",e)),xt(Td,this).on("ready",()=>{}),yt(Rd,this,Dd).call(this)}function Od(){if(zd._||Bd(Tt))return void yt(Rd,this,Wd).call(this);let{workerSrc:e}=Tt;try{Tt._isSameOrigin(window.location,e)||(e=Tt._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new ko("main","worker",t),i=()=>{s.abort(),n.destroy(),t.terminate(),this.destroyed?xt(Md,this).reject(new Error("Worker was destroyed")):yt(Rd,this,Wd).call(this)},s=new AbortController;t.addEventListener("error",()=>{xt(Id,this)||i()},{signal:s.signal}),n.on("test",e=>{s.abort(),!this.destroyed&&e?(wt(Td,this,n),wt(Pd,this,t),wt(Id,this,t),yt(Rd,this,Dd).call(this)):i()}),n.on("ready",e=>{if(s.abort(),this.destroyed)i();else try{a()}catch(t){yt(Rd,this,Wd).call(this)}});const a=()=>{const e=new Uint8Array;n.send("test",e,[e.buffer])};return void a()}catch(t){Sn("The worker has been disabled.")}yt(Rd,this,Wd).call(this)}function Wd(){zd._||(kn("Setting up fake worker."),zd._=!0),Tt._setupFakeWorkerGlobal.then(e=>{var t,n;if(this.destroyed)return void xt(Md,this).reject(new Error("Worker was destroyed"));const i=new oo;wt(Pd,this,i);const s="fake".concat((Ud._=(t=Ud._,n=t++,t),n)),a=new ko(s+"_worker",s,i);e.setup(a,i),wt(Td,this,new ko(s,s+"_worker",i)),yt(Rd,this,Dd).call(this)}).catch(e=>{xt(Md,this).reject(new Error('Setting up fake worker failed: "'.concat(e.message,'".')))})}function Bd(e){try{var t;return(null===(t=globalThis.pdfjsWorker)||void 0===t?void 0:t.WorkerMessageHandler)||null}catch(n){return null}}Tt=Ld;var Ud={_:0},zd={_:!1},Hd={_:new WeakMap};Ot&&(zd._=yt(Tt,Tt,!0),ql.workerSrc||(ql.workerSrc="./pdf.worker.mjs")),Tt._isSameOrigin=(e,t)=>{const n=URL.parse(e);if(null===n||void 0===n||!n.origin||"null"===n.origin)return!1;const i=new URL(t,n);return n.origin===i.origin},Tt._createCDNWrapper=e=>{const t='await import("'.concat(e,'");');return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},Tt.fromPort=e=>{var t;if(t="`PDFWorker.fromPort` - please use `PDFWorker.create` instead.",console.log("Deprecated API usage: "+t),null===e||void 0===e||!e.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return Tt.create(e)};var Gd=new WeakMap,Vd=new WeakMap,qd=new WeakMap,Yd=new WeakMap,Kd=new WeakMap,Xd=new WeakSet;class Qd{constructor(e,t,n,i,s){gt(this,Xd),vt(this,Gd,new Map),vt(this,Vd,new Map),vt(this,qd,new Map),vt(this,Yd,new Map),vt(this,Kd,null),this.messageHandler=e,this.loadingTask=t,this.commonObjs=new Dc,this.fontLoader=new eo({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Nn(this,"annotationStorage",new Xr)}getRenderingIntent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xt.ENABLE,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=zt,r=Gr;switch(e){case"any":a=Ut;break;case"display":break;case"print":a=Ht;break;default:kn("getRenderingIntent - invalid intent: ".concat(e))}const o=a&Ht&&n instanceof Jr?n:this.annotationStorage;switch(t){case Xt.DISABLE:a+=qt;break;case Xt.ENABLE:break;case Xt.ENABLE_FORMS:a+=Gt;break;case Xt.ENABLE_STORAGE:a+=Vt,r=o.serializable;break;default:kn("getRenderingIntent - invalid annotationMode: ".concat(t))}i&&(a+=Yt),s&&(a+=Kt);const{ids:l,hash:c}=o.modifiedIds;return{renderingIntent:a,cacheKey:[a,r.hash,c].join("_"),annotationStorageSerializable:r,modifiedIds:l}}destroy(){var e;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),null===(e=xt(Kd,this))||void 0===e||e.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const i of xt(Vd,this).values())t.push(i._destroy());xt(Vd,this).clear(),xt(qd,this).clear(),xt(Yd,this).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return t.push(n),Promise.all(t).then(()=>{var e,t;this.commonObjs.clear(),this.fontLoader.clear(),xt(Gd,this).clear(),this.filterFactory.destroy(),id.cleanup(),null===(e=this._networkStream)||void 0===e||e.cancelAllRequests(new Ln("Worker was terminated.")),null===(t=this.messageHandler)||void 0===t||t.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(e,t)=>{En(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=e=>{this._lastProgress={loaded:e.loaded,total:e.total}},t.onPull=()=>{this._fullReader.read().then(function(e){let{value:n,done:i}=e;i?t.close():(En(n instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(n),1,[n]))}).catch(e=>{t.error(e)})},t.onCancel=e=>{this._fullReader.cancel(e),t.ready.catch(e=>{if(!this.destroyed)throw e})}}),e.on("ReaderHeadersReady",async e=>{await this._fullReader.headersReady;const{isStreamingSupported:n,isRangeSupported:i,contentLength:s}=this._fullReader;if(!n||!i){var a;if(this._lastProgress)null===(a=t.onProgress)||void 0===a||a.call(t,this._lastProgress);this._fullReader.onProgress=e=>{var n;null===(n=t.onProgress)||void 0===n||n.call(t,{loaded:e.loaded,total:e.total})}}return{isStreamingSupported:n,isRangeSupported:i,contentLength:s}}),e.on("GetRangeReader",(e,t)=>{En(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const n=this._networkStream.getRangeReader(e.begin,e.end);n?(t.onPull=()=>{n.read().then(function(e){let{value:n,done:i}=e;i?t.close():(En(n instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(n),1,[n]))}).catch(e=>{t.error(e)})},t.onCancel=e=>{n.cancel(e),t.ready.catch(e=>{if(!this.destroyed)throw e})}):t.close()}),e.on("GetDoc",e=>{let{pdfInfo:n}=e;this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new Ed(n,this))}),e.on("DocException",e=>{t._capability.reject(xo(e))}),e.on("PasswordRequest",e=>{wt(Kd,this,Promise.withResolvers());try{if(!t.onPassword)throw xo(e);const n=e=>{e instanceof Error?xt(Kd,this).reject(e):xt(Kd,this).resolve({password:e})};t.onPassword(n,e.code)}catch(n){xt(Kd,this).reject(n)}return xt(Kd,this).promise}),e.on("DataLoaded",e=>{var n;null===(n=t.onProgress)||void 0===n||n.call(t,{loaded:e.length,total:e.length}),this.downloadInfoCapability.resolve(e)}),e.on("StartRenderPage",e=>{if(this.destroyed)return;xt(Vd,this).get(e.pageIndex)._startRenderPage(e.transparency,e.cacheKey)}),e.on("commonobj",t=>{var n;let[i,s,a]=t;if(this.destroyed)return null;if(this.commonObjs.has(i))return null;switch(s){case"Font":if("error"in a){const e=a.error;kn("Error during font loading: ".concat(e)),this.commonObjs.resolve(i,e);break}const t=this._params.pdfBug&&null!==(n=globalThis.FontInspector)&&void 0!==n&&n.enabled?(e,t)=>globalThis.FontInspector.fontAdded(e,t):null,r=new to(a,t);this.fontLoader.bind(r).catch(()=>e.sendWithPromise("FontFallback",{id:i})).finally(()=>{!r.fontExtraProperties&&r.data&&(r.data=null),this.commonObjs.resolve(i,r)});break;case"CopyLocalImage":const{imageRef:o}=a;En(o,"The imageRef must be defined.");for(const e of xt(Vd,this).values())for(const[,t]of e.objs)if((null===t||void 0===t?void 0:t.ref)===o)return t.dataLen?(this.commonObjs.resolve(i,structuredClone(t)),t.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,a);break;default:throw new Error("Got unknown common object type ".concat(s))}return null}),e.on("obj",e=>{let[t,n,i,s]=e;if(this.destroyed)return;const a=xt(Vd,this).get(n);var r;if(!a.objs.has(t))if(0!==a._intentStates.size)switch(i){case"Image":case"Pattern":a.objs.resolve(t,s);break;default:throw new Error("Got unknown object type ".concat(i))}else null===s||void 0===s||null===(r=s.bitmap)||void 0===r||r.close()}),e.on("DocProgress",e=>{var n;this.destroyed||null===(n=t.onProgress)||void 0===n||n.call(t,{loaded:e.loaded,total:e.total})}),e.on("FetchBinaryData",async e=>{if(this.destroyed)throw new Error("Worker was destroyed.");const t=this[e.type];if(!t)throw new Error("".concat(e.type," not initialized, see the `useWorkerFetch` parameter."));return t.fetch(e)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var e,t;this.annotationStorage.size<=0&&kn("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:n,transfer:i}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:n,filename:null!==(e=null===(t=this._fullReader)||void 0===t?void 0:t.filename)&&void 0!==e?e:null},i).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=xt(qd,this).get(t);if(n)return n;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(n=>{if(this.destroyed)throw new Error("Transport destroyed");n.refStr&&xt(Yd,this).set(n.refStr,e);const i=new Nd(t,n,this,this._params.pdfBug);return xt(Vd,this).set(t,i),i});return xt(qd,this).set(t,i),i}getPageIndex(e){return io(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return yt(Xd,this,$d).call(this,"GetFieldObjects")}hasJSActions(){return yt(Xd,this,$d).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return"string"!==typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return yt(Xd,this,$d).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return yt(Xd,this,$d).call(this,"GetOptionalContentConfig").then(t=>new cc(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=xt(Gd,this).get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then(e=>{var t,n,i,s;return{info:e[0],metadata:e[1]?new $l(e[1]):null,contentDispositionFilename:null!==(t=null===(n=this._fullReader)||void 0===n?void 0:n.filename)&&void 0!==t?t:null,contentLength:null!==(i=null===(s=this._fullReader)||void 0===s?void 0:s.contentLength)&&void 0!==i?i:null}});return xt(Gd,this).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of xt(Vd,this).values()){if(!e.cleanup())throw new Error("startCleanup: Page ".concat(e.pageNumber," is currently rendering."))}this.commonObjs.clear(),e||this.fontLoader.clear(),xt(Gd,this).clear(),this.filterFactory.destroy(!0),id.cleanup()}}cachedPageNumber(e){var t;if(!io(e))return null;const n=0===e.gen?"".concat(e.num,"R"):"".concat(e.num,"R").concat(e.gen);return null!==(t=xt(Yd,this).get(n))&&void 0!==t?t:null}}function $d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=xt(Gd,this).get(e);if(n)return n;const i=this.messageHandler.sendWithPromise(e,t);return xt(Gd,this).set(e,i),i}var Jd=new WeakMap;class Zd{constructor(e){vt(this,Jd,null),Le(this,"onContinue",null),Le(this,"onError",null),wt(Jd,this,e)}get promise(){return xt(Jd,this).capability.promise}cancel(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;xt(Jd,this).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=xt(Jd,this).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=xt(Jd,this);return e.form||e.canvas&&(null===t||void 0===t?void 0:t.size)>0}}var eu=new WeakMap;class tu{constructor(e){let{callback:t,params:n,objs:i,commonObjs:s,annotationCanvasMap:a,operatorList:r,pageIndex:o,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:d=!1,pdfBug:u=!1,pageColors:h=null}=e;vt(this,eu,null),this.callback=t,this.params=n,this.objs=i,this.commonObjs=s,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=r,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=u,this.pageColors=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===d&&"undefined"!==typeof window,this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Zd(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics(e){var t,n;let{transparency:i=!1,optionalContentConfig:s}=e;if(this.cancelled)return;if(this._canvas){if(nu._.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");nu._.add(this._canvas)}this._pdfBug&&null!==(t=globalThis.StepperManager)&&void 0!==t&&t.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:a,viewport:r,transform:o,background:l}=this.params;this.gfx=new zl(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:s},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:r,transparency:i,background:l}),this.operatorListIdx=0,this.graphicsReady=!0,null===(n=this.graphicsReadyCallback)||void 0===n||n.call(this)}cancel(){var e,t,n;let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.running=!1,this.cancelled=!0,null===(e=this.gfx)||void 0===e||e.endDrawing(),xt(eu,this)&&(window.cancelAnimationFrame(xt(eu,this)),wt(eu,this,null)),nu._.delete(this._canvas),i||(i=new Zn("Rendering cancelled, page ".concat(this._pageIndex+1),s)),this.callback(i),null===(t=(n=this.task).onError)||void 0===t||t.call(n,i)}operatorListChanged(){var e;this.graphicsReady?(null===(e=this.stepper)||void 0===e||e.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?wt(eu,this,window.requestAnimationFrame(()=>{wt(eu,this,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),nu._.delete(this._canvas),this.callback())))}}var nu={_:new WeakSet};const iu="5.3.93";function su(e){return Math.floor(255*Math.max(0,Math.min(1,e))).toString(16).padStart(2,"0")}function au(e){return Math.max(0,Math.min(255,255*e))}class ru{static CMYK_G(e){let[t,n,i,s]=e;return["G",1-Math.min(1,.3*t+.59*i+.11*n+s)]}static G_CMYK(e){let[t]=e;return["CMYK",0,0,0,1-t]}static G_RGB(e){let[t]=e;return["RGB",t,t,t]}static G_rgb(e){let[t]=e;return t=au(t),[t,t,t]}static G_HTML(e){let[t]=e;const n=su(t);return"#".concat(n).concat(n).concat(n)}static RGB_G(e){let[t,n,i]=e;return["G",.3*t+.59*n+.11*i]}static RGB_rgb(e){return e.map(au)}static RGB_HTML(e){return"#".concat(e.map(su).join(""))}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB(e){let[t,n,i,s]=e;return["RGB",1-Math.min(1,t+s),1-Math.min(1,i+s),1-Math.min(1,n+s)]}static CMYK_rgb(e){let[t,n,i,s]=e;return[au(1-Math.min(1,t+s)),au(1-Math.min(1,i+s)),au(1-Math.min(1,n+s))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK(e){let[t,n,i]=e;const s=1-t,a=1-n,r=1-i;return["CMYK",s,a,r,Math.min(s,a,r)]}}class ou{create(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),n||(i.setAttribute("width","".concat(e,"px")),i.setAttribute("height","".concat(t,"px"))),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox","0 0 ".concat(e," ").concat(t)),i}createElement(e){if("string"!==typeof e)throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){An("Abstract method `_createSVG` called.")}}class lu extends ou{_createSVG(e){return document.createElementNS(Xn,e)}}class cu{static setupStorage(e,t,n,i,s){const a=i.getValue(t,{value:null});switch(n.name){case"textarea":if(null!==a.value&&(e.textContent=a.value),"print"===s)break;e.addEventListener("input",e=>{i.setValue(t,{value:e.target.value})});break;case"input":if("radio"===n.attributes.type||"checkbox"===n.attributes.type){if(a.value===n.attributes.xfaOn?e.setAttribute("checked",!0):a.value===n.attributes.xfaOff&&e.removeAttribute("checked"),"print"===s)break;e.addEventListener("change",e=>{i.setValue(t,{value:e.target.checked?e.target.getAttribute("xfaOn"):e.target.getAttribute("xfaOff")})})}else{if(null!==a.value&&e.setAttribute("value",a.value),"print"===s)break;e.addEventListener("input",e=>{i.setValue(t,{value:e.target.value})})}break;case"select":if(null!==a.value){e.setAttribute("value",a.value);for(const e of n.children)e.attributes.value===a.value?e.attributes.selected=!0:e.attributes.hasOwnProperty("selected")&&delete e.attributes.selected}e.addEventListener("input",e=>{const n=e.target.options,s=-1===n.selectedIndex?"":n[n.selectedIndex].value;i.setValue(t,{value:s})})}}static setAttributes(e){let{html:t,element:n,storage:i=null,intent:s,linkService:a}=e;const{attributes:r}=n,o=t instanceof HTMLAnchorElement;"radio"===r.type&&(r.name="".concat(r.name,"-").concat(s));for(const[l,c]of Object.entries(r))if(null!==c&&void 0!==c)switch(l){case"class":c.length&&t.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",c);break;case"style":Object.assign(t.style,c);break;case"textContent":t.textContent=c;break;default:(!o||"href"!==l&&"newWindow"!==l)&&t.setAttribute(l,c)}o&&a.addLinkAttributes(t,r.href,r.newWindow),i&&r.dataId&&this.setupStorage(t,r.dataId,n,i)}static render(e){const t=e.annotationStorage,n=e.linkService,i=e.xfaHtml,s=e.intent||"display",a=document.createElement(i.name);i.attributes&&this.setAttributes({html:a,element:i,intent:s,linkService:n});const r="richText"!==s,o=e.div;if(o.append(a),e.viewport){const t="matrix(".concat(e.viewport.transform.join(","),")");o.style.transform=t}r&&o.setAttribute("class","xfaLayer xfaFont");const l=[];if(0===i.children.length){if(i.value){const e=document.createTextNode(i.value);a.append(e),r&&gd.shouldBuildText(i.name)&&l.push(e)}return{textDivs:l}}const c=[[i,-1,a]];for(;c.length>0;){var d,u;const[e,i,a]=c.at(-1);if(i+1===e.children.length){c.pop();continue}const o=e.children[++c.at(-1)[1]];if(null===o)continue;const{name:h}=o;if("#text"===h){const e=document.createTextNode(o.value);l.push(e),a.append(e);continue}const p=null!==o&&void 0!==o&&null!==(d=o.attributes)&&void 0!==d&&d.xmlns?document.createElementNS(o.attributes.xmlns,h):document.createElement(h);if(a.append(p),o.attributes&&this.setAttributes({html:p,element:o,storage:t,intent:s,linkService:n}),(null===(u=o.children)||void 0===u?void 0:u.length)>0)c.push([o,-1,p]);else if(o.value){const e=document.createTextNode(o.value);r&&gd.shouldBuildText(h)&&l.push(e),p.append(e)}}for(const h of o.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))h.setAttribute("readOnly",!0);return{textDivs:l}}static update(e){const t="matrix(".concat(e.viewport.transform.join(","),")");e.div.style.transform=t,e.div.hidden=!1}}const du=new WeakSet;class uu{static create(e){switch(e.data.annotationType){case on.LINK:return new bu(e);case on.TEXT:return new ku(e);case on.WIDGET:switch(e.data.fieldType){case"Tx":return new Eu(e);case"Btn":return e.data.radioButton?new Nu(e):e.data.checkBox?new ju(e):new Cu(e);case"Ch":return new Mu(e);case"Sig":return new _u(e)}return new Au(e);case on.POPUP:return new Tu(e);case on.FREETEXT:return new lh(e);case on.LINE:return new dh(e);case on.SQUARE:return new hh(e);case on.CIRCLE:return new mh(e);case on.POLYLINE:return new gh(e);case on.CARET:return new yh(e);case on.INK:return new Sh(e);case on.POLYGON:return new vh(e);case on.HIGHLIGHT:return new Ah(e);case on.UNDERLINE:return new Eh(e);case on.SQUIGGLY:return new _h(e);case on.STRIKEOUT:return new jh(e);case on.STAMP:return new Nh(e);case on.FILEATTACHMENT:return new Th(e);default:return new gu(e)}}}var hu=new WeakMap,pu=new WeakMap,mu=new WeakMap,fu=new WeakSet;class gu{constructor(e){let{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:i=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};gt(this,fu),vt(this,hu,null),vt(this,pu,!1),vt(this,mu,null),this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),i&&this._createQuadrilaterals()}static _hasPopupData(e){let{contentsObj:t,richText:n}=e;return!!(null!==t&&void 0!==t&&t.str||null!==n&&void 0!==n&&n.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return gu._hasPopupData(this.data)}updateEdited(e){var t;if(!this.container)return;xt(hu,this)||wt(hu,this,{rect:this.data.rect.slice(0)});const{rect:n}=e;n&&yt(fu,this,vu).call(this,n),null===(t=xt(mu,this))||void 0===t||t.popup.updateEdited(e)}resetEdited(){var e;xt(hu,this)&&(yt(fu,this,vu).call(this,xt(hu,this).rect),null===(e=xt(mu,this))||void 0===e||e.popup.resetEdited(),wt(hu,this,null))}_createContainer(e){const{data:t,parent:{page:n,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),this instanceof Au||(s.tabIndex=0);const{style:a}=s;if(a.zIndex=this.parent.zIndex++,t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof Tu){const{rotation:e}=t;return t.hasOwnCanvas||0===e||this.setRotation(e,s),s}const{width:r,height:o}=this;if(!e&&t.borderStyle.width>0){a.borderWidth="".concat(t.borderStyle.width,"px");const e=t.borderStyle.horizontalCornerRadius,n=t.borderStyle.verticalCornerRadius;if(e>0||n>0){const t="calc(".concat(e,"px * var(--total-scale-factor)) / calc(").concat(n,"px * var(--total-scale-factor))");a.borderRadius=t}else if(this instanceof Nu){const e="calc(".concat(r,"px * var(--total-scale-factor)) / calc(").concat(o,"px * var(--total-scale-factor))");a.borderRadius=e}switch(t.borderStyle.style){case ln:a.borderStyle="solid";break;case cn:a.borderStyle="dashed";break;case dn:kn("Unimplemented border style: beveled");break;case un:kn("Unimplemented border style: inset");break;case hn:a.borderBottomStyle="solid"}const i=t.borderColor||null;i?(wt(pu,this,!0),a.borderColor=Bn.makeHexColor(0|i[0],0|i[1],0|i[2])):a.borderWidth=0}const l=Bn.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:c,pageHeight:d,pageX:u,pageY:h}=i.rawDims;a.left="".concat(100*(l[0]-u)/c,"%"),a.top="".concat(100*(l[1]-h)/d,"%");const{rotation:p}=t;return t.hasOwnCanvas||0===p?(a.width="".concat(100*r/c,"%"),a.height="".concat(100*o/d,"%")):this.setRotation(p,s),s}setRotation(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container;if(!this.data.rect)return;const{pageWidth:n,pageHeight:i}=this.parent.viewport.rawDims;let{width:s,height:a}=this;e%180!==0&&([s,a]=[a,s]),t.style.width="".concat(100*s/n,"%"),t.style.height="".concat(100*a/i,"%"),t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(e,t,n)=>{const i=n.detail[e],s=i[0],a=i.slice(1);n.target.style[t]=ru["".concat(s,"_HTML")](a),this.annotationStorage.setValue(this.data.id,{[t]:ru["".concat(s,"_rgb")](a)})};return Nn(this,"_commonActions",{display:e=>{const{display:t}=e.detail,n=t%2===1;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:n,noPrint:1===t||2===t})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:t}=e.detail;this.container.style.visibility=t?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:t,noView:t})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:e=>{const t=e.detail.rotation;this.setRotation(t),this.annotationStorage.setValue(this.data.id,{rotation:t})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const i of Object.keys(t.detail)){const s=e[i]||n[i];null===s||void 0===s||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[i,s]of Object.entries(t)){const a=n[i];if(a){a({detail:{[i]:s},target:e}),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,i,s]=this.data.rect.map(e=>Math.fround(e));if(8===e.length){const[a,r,o,l]=e.subarray(2,6);if(i===a&&s===r&&t===o&&n===l)return}const{style:a}=this.container;let r;if(xt(pu,this)){const{borderColor:e,borderWidth:t}=a;a.borderWidth=0,r=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">','<g fill="transparent" stroke="'.concat(e,'" stroke-width="').concat(t,'">')],this.container.classList.add("hasBorder")}const o=i-t,l=s-n,{svgFactory:c}=this,d=c.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0),d.role="none";const u=c.createElement("defs");d.append(u);const h=c.createElement("clipPath"),p="clippath_".concat(this.data.id);h.setAttribute("id",p),h.setAttribute("clipPathUnits","objectBoundingBox"),u.append(h);for(let f=2,g=e.length;f<g;f+=8){var m;const n=e[f],i=e[f+1],a=e[f+2],d=e[f+3],u=c.createElement("rect"),p=(a-t)/o,g=(s-i)/l,v=(n-a)/o,y=(i-d)/l;u.setAttribute("x",p),u.setAttribute("y",g),u.setAttribute("width",v),u.setAttribute("height",y),h.append(u),null===(m=r)||void 0===m||m.push('<rect vector-effect="non-scaling-stroke" x="'.concat(p,'" y="').concat(g,'" width="').concat(v,'" height="').concat(y,'"/>'))}xt(pu,this)&&(r.push("</g></svg>')"),a.backgroundImage=r.join("")),this.container.append(d),this.container.style.clipPath="url(#".concat(p,")")}_createPopup(){const{data:e}=this,t=wt(mu,this,new Tu({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:"popup_".concat(e.id),rotation:e.rotation,noRotate:!0},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}render(){An("Abstract method `AnnotationElement.render` called")}_getElementsByName(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:e,id:s,exportValues:a}of i){if(-1===e)continue;if(s===t)continue;const i="string"===typeof a?a:null,r=document.querySelector('[data-element-id="'.concat(s,'"]'));!r||du.has(r)?n.push({id:s,exportValue:i,domElement:r}):kn("_getElementsByName - element not allowed: ".concat(s))}return n}for(const i of document.getElementsByName(e)){const{exportValue:e}=i,s=i.getAttribute("data-element-id");s!==t&&(du.has(i)&&n.push({id:s,exportValue:e,domElement:i}))}return n}show(){var e;this.container&&(this.container.hidden=!1),null===(e=this.popup)||void 0===e||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),null===(e=this.popup)||void 0===e||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var n;null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}function vu(e){const{container:{style:t},data:{rect:n,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:a,pageX:r,pageY:o}}}}=this;null===n||void 0===n||n.splice(0,4,...e),t.left="".concat(100*(e[0]-r)/s,"%"),t.top="".concat(100*(a-e[3]+o)/a,"%"),0===i?(t.width="".concat(100*(e[2]-e[0])/s,"%"),t.height="".concat(100*(e[3]-e[1])/a,"%")):this.setRotation(i)}var yu=new WeakSet;class bu extends gu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,{isRenderable:!0,ignoreBorder:!(null===t||void 0===t||!t.ignoreBorder),createQuadrilaterals:!0}),gt(this,yu),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,n=document.createElement("a");n.setAttribute("data-element-id",e.id);let i=!1;return e.url?(t.addLinkAttributes(n,e.url,e.newWindow),i=!0):e.action?(this._bindNamedAction(n,e.action),i=!0):e.attachment?(yt(yu,this,wu).call(this,n,e.attachment,e.attachmentDest),i=!0):e.setOCGState?(yt(yu,this,Su).call(this,n,e.setOCGState),i=!0):e.dest?(this._bindLink(n,e.dest),i=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,e),i=!0),e.resetForm?(this._bindResetFormAction(n,e.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(n,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&this.container.append(n),this.container}_bindLink(e,t){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||""===t)&&yt(yu,this,xu).call(this)}_bindNamedAction(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),yt(yu,this,xu).call(this)}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(t.actions)){const s=n.get(i);s&&(e[s]=()=>{var e;return null===(e=this.linkService.eventBus)||void 0===e||e.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:i}}),!1})}e.onclick||(e.onclick=()=>!1),yt(yu,this,xu).call(this)}_bindResetFormAction(e,t){const n=e.onclick;if(n||(e.href=this.linkService.getAnchorUrl("")),yt(yu,this,xu).call(this),!this._fieldObjects)return kn('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(n||(e.onclick=()=>!1));e.onclick=()=>{null===n||void 0===n||n();const{fields:e,refs:i,include:s}=t,a=[];if(0!==e.length||0!==i.length){const t=new Set(i);for(const n of e){const e=this._fieldObjects[n]||[];for(const{id:n}of e)t.add(n)}for(const e of Object.values(this._fieldObjects))for(const n of e)t.has(n.id)===s&&a.push(n)}else for(const t of Object.values(this._fieldObjects))a.push(...t);const r=this.annotationStorage,o=[];for(const t of a){const{id:e}=t;switch(o.push(e),t.type){case"text":{const n=t.defaultValue||"";r.setValue(e,{value:n});break}case"checkbox":case"radiobutton":{const n=t.defaultValue===t.exportValues;r.setValue(e,{value:n});break}case"combobox":case"listbox":{const n=t.defaultValue||"";r.setValue(e,{value:n});break}default:continue}const n=document.querySelector('[data-element-id="'.concat(e,'"]'));n&&(du.has(n)?n.dispatchEvent(new Event("resetform")):kn("_bindResetFormAction - element not allowed: ".concat(e)))}var l;this.enableScripting&&(null===(l=this.linkService.eventBus)||void 0===l||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:o,name:"ResetForm"}}));return!1}}}function xu(){this.container.setAttribute("data-internal-link","")}function wu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.href=this.linkService.getAnchorUrl(""),t.description&&(e.title=t.description),e.onclick=()=>{var e;return null===(e=this.downloadManager)||void 0===e||e.openOrDownloadData(t.content,t.filename,n),!1},yt(yu,this,xu).call(this)}function Su(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),yt(yu,this,xu).call(this)}class ku extends gu{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Au extends gu{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&("CANVAS"===(null===(t=e.previousSibling)||void 0===t?void 0:t.nodeName)&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return On.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,i,s){n.includes("mouse")?e.addEventListener(n,e=>{var t;null===(t=this.linkService.eventBus)||void 0===t||t.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(e),shift:e.shiftKey,modifier:this._getKeyModifier(e)}})}):e.addEventListener(n,e=>{var a;if("blur"===n){if(!t.focused||!e.relatedTarget)return;t.focused=!1}else if("focus"===n){if(t.focused)return;t.focused=!0}s&&(null===(a=this.linkService.eventBus)||void 0===a||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(e)}}))})}_setEventListeners(e,t,n,i){for(const[o,l]of n){var s,a,r;if("Action"===l||null!==(s=this.data.actions)&&void 0!==s&&s[l])"Focus"!==l&&"Blur"!==l||t||(t={focused:!1}),this._setEventListener(e,t,o,l,i),"Focus"!==l||null!==(a=this.data.actions)&&void 0!==a&&a.Blur?"Blur"!==l||null!==(r=this.data.actions)&&void 0!==r&&r.Focus||this._setEventListener(e,t,"focus","Focus",null):this._setEventListener(e,t,"blur","Blur",null)}}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=null===t?"transparent":Bn.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||9,s=e.style;let a;const r=e=>Math.round(10*e)/10;if(this.data.multiLine){const e=Math.abs(this.data.rect[3]-this.data.rect[1]-2),t=e/(Math.round(e/(Bt*i))||1);a=Math.min(i,r(t/Bt))}else{const e=Math.abs(this.data.rect[3]-this.data.rect[1]-2);a=Math.min(i,r(e/Bt))}s.fontSize="calc(".concat(a,"px * var(--total-scale-factor))"),s.color=Bn.makeHexColor(n[0],n[1],n[2]),null!==this.data.textAlignment&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class Eu extends Au{constructor(e){super(e,{isRenderable:e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue})}setPropertyOnSiblings(e,t,n,i){const s=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[t]=n),s.setValue(a.id,{[i]:n})}render(){const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){var i;const a=e.getValue(t,{value:this.data.fieldValue});let r=a.value||"";const o=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;o&&r.length>o&&(r=r.slice(0,o));let l=a.formattedValue||(null===(i=this.data.textContent)||void 0===i?void 0:i.join("\n"))||null;l&&this.data.comb&&(l=l.replaceAll(/\s+/g,""));const c={userValue:r,formattedValue:l,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=null!==l&&void 0!==l?l:r,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",null!==l&&void 0!==l?l:r),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),du.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const d=this.data.dateFormat||this.data.timeFormat;d&&(n.title=d),this._setRequired(n,this.data.required),o&&(n.maxLength=o),n.addEventListener("input",i=>{e.setValue(t,{value:i.target.value}),this.setPropertyOnSiblings(n,"value",i.target.value,"value"),c.formattedValue=null}),n.addEventListener("resetform",e=>{var t;const i=null!==(t=this.data.defaultFieldValue)&&void 0!==t?t:"";n.value=c.userValue=i,c.formattedValue=null});let u=e=>{const{formattedValue:t}=c;null!==t&&void 0!==t&&(e.target.value=t),e.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){var s;n.addEventListener("focus",e=>{var t;if(c.focused)return;const{target:n}=e;c.userValue&&(n.value=c.userValue),c.lastCommittedValue=n.value,c.commitKey=1,null!==(t=this.data.actions)&&void 0!==t&&t.Focus||(c.focused=!0)}),n.addEventListener("updatefromsandbox",n=>{this.showElementAndHideCanvas(n.target);const i={value(n){var i;c.userValue=null!==(i=n.detail.value)&&void 0!==i?i:"",e.setValue(t,{value:c.userValue.toString()}),n.target.value=c.userValue},formattedValue(n){const{formattedValue:i}=n.detail;c.formattedValue=i,null!==i&&void 0!==i&&n.target!==document.activeElement&&(n.target.value=i),e.setValue(t,{formattedValue:i})},selRange(e){e.target.setSelectionRange(...e.detail.selRange)},charLimit:n=>{var i;const{charLimit:s}=n.detail,{target:a}=n;if(0===s)return void a.removeAttribute("maxLength");a.setAttribute("maxLength",s);let r=c.userValue;!r||r.length<=s||(r=r.slice(0,s),a.value=c.userValue=r,e.setValue(t,{value:r}),null===(i=this.linkService.eventBus)||void 0===i||i.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:r,willCommit:!0,commitKey:1,selStart:a.selectionStart,selEnd:a.selectionEnd}}))}};this._dispatchEventFromSandbox(i,n)}),n.addEventListener("keydown",e=>{var n;c.commitKey=1;let i=-1;if("Escape"===e.key?i=0:"Enter"!==e.key||this.data.multiLine?"Tab"===e.key&&(c.commitKey=3):i=2,-1===i)return;const{value:s}=e.target;c.lastCommittedValue!==s&&(c.lastCommittedValue=s,c.userValue=s,null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:s,willCommit:!0,commitKey:i,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}))});const i=u;u=null,n.addEventListener("blur",e=>{var n;if(!c.focused||!e.relatedTarget)return;null!==(n=this.data.actions)&&void 0!==n&&n.Blur||(c.focused=!1);const{value:s}=e.target;var a;(c.userValue=s,c.lastCommittedValue!==s)&&(null===(a=this.linkService.eventBus)||void 0===a||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:s,willCommit:!0,commitKey:c.commitKey,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}));i(e)}),null!==(s=this.data.actions)&&void 0!==s&&s.Keystroke&&n.addEventListener("beforeinput",e=>{var n;c.lastCommittedValue=null;const{data:i,target:s}=e,{value:a,selectionStart:r,selectionEnd:o}=s;let l=r,d=o;switch(e.inputType){case"deleteWordBackward":{const e=a.substring(0,r).match(/\w*[^\w]*$/);e&&(l-=e[0].length);break}case"deleteWordForward":{const e=a.substring(r).match(/^[^\w]*\w*/);e&&(d+=e[0].length);break}case"deleteContentBackward":r===o&&(l-=1);break;case"deleteContentForward":r===o&&(d+=1)}e.preventDefault(),null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:a,change:i||"",willCommit:!1,selStart:l,selEnd:d}})}),this._setEventListeners(n,c,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],e=>e.target.value)}if(u&&n.addEventListener("blur",u),this.data.comb){const e=(this.data.rect[2]-this.data.rect[0])/o;n.classList.add("comb"),n.style.letterSpacing="calc(".concat(e,"px * var(--total-scale-factor) - 1ch)")}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class _u extends Au{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class ju extends Au{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let i=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;"string"===typeof i&&(i="Off"!==i,e.setValue(n,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return du.add(s),s.setAttribute("data-element-id",n),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=0,s.addEventListener("change",i=>{const{name:s,checked:a}=i.target;for(const r of this._getElementsByName(s,n)){const n=a&&r.exportValue===t.exportValue;r.domElement&&(r.domElement.checked=n),e.setValue(r.id,{value:n})}e.setValue(n,{value:a})}),s.addEventListener("resetform",e=>{const n=t.defaultFieldValue||"Off";e.target.checked=n===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",t=>{const i={value(t){t.target.checked="Off"!==t.detail.value,e.setValue(n,{value:t.target.checked})}};this._dispatchEventFromSandbox(i,t)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],e=>e.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Nu extends Au{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let i=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if("string"===typeof i&&(i=i!==t.buttonValue,e.setValue(n,{value:i})),i)for(const a of this._getElementsByName(t.fieldName,n))e.setValue(a.id,{value:!1});const s=document.createElement("input");if(du.add(s),s.setAttribute("data-element-id",n),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",t=>{const{name:i,checked:s}=t.target;for(const a of this._getElementsByName(i,n))e.setValue(a.id,{value:!1});e.setValue(n,{value:s})}),s.addEventListener("resetform",e=>{const n=t.defaultFieldValue;e.target.checked=null!==n&&void 0!==n&&n===t.buttonValue}),this.enableScripting&&this.hasJSActions){const i=t.buttonValue;s.addEventListener("updatefromsandbox",t=>{const s={value:t=>{const s=i===t.detail.value;for(const i of this._getElementsByName(t.target.name)){const t=s&&i.id===n;i.domElement&&(i.domElement.checked=t),e.setValue(i.id,{value:t})}}};this._dispatchEventFromSandbox(s,t)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],e=>e.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Cu extends bu{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",e=>{this._dispatchEventFromSandbox({},e)})),e}}class Mu extends Au{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");du.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",e=>{const t=this.data.defaultFieldValue;for(const n of i.options)n.selected=n.value===t});for(const c of this.data.options){const e=document.createElement("option");e.textContent=c.displayValue,e.value=c.exportValue,n.value.includes(c.exportValue)&&(e.setAttribute("selected",!0),s=!1),i.append(e)}let a=null;if(s){const e=document.createElement("option");e.value=" ",e.setAttribute("hidden",!0),e.setAttribute("selected",!0),i.prepend(e),a=()=>{e.remove(),i.removeEventListener("input",a),a=null},i.addEventListener("input",a)}const r=e=>{const t=e?"value":"textContent",{options:n,multiple:s}=i;return s?Array.prototype.filter.call(n,e=>e.selected).map(e=>e[t]):-1===n.selectedIndex?null:n[n.selectedIndex][t]};let o=r(!1);const l=e=>{const t=e.target.options;return Array.prototype.map.call(t,e=>({displayValue:e.textContent,exportValue:e.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",n=>{const s={value(n){var s;null===(s=a)||void 0===s||s();const l=n.detail.value,c=new Set(Array.isArray(l)?l:[l]);for(const e of i.options)e.selected=c.has(e.value);e.setValue(t,{value:r(!0)}),o=r(!1)},multipleSelection(e){i.multiple=!0},remove(n){const s=i.options,a=n.detail.remove;if(s[a].selected=!1,i.remove(a),s.length>0){-1===Array.prototype.findIndex.call(s,e=>e.selected)&&(s[0].selected=!0)}e.setValue(t,{value:r(!0),items:l(n)}),o=r(!1)},clear(n){for(;0!==i.length;)i.remove(0);e.setValue(t,{value:null,items:[]}),o=r(!1)},insert(n){const{index:s,displayValue:a,exportValue:c}=n.detail.insert,d=i.children[s],u=document.createElement("option");u.textContent=a,u.value=c,d?d.before(u):i.append(u),e.setValue(t,{value:r(!0),items:l(n)}),o=r(!1)},items(n){const{items:s}=n.detail;for(;0!==i.length;)i.remove(0);for(const e of s){const{displayValue:t,exportValue:n}=e,s=document.createElement("option");s.textContent=t,s.value=n,i.append(s)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:r(!0),items:l(n)}),o=r(!1)},indices(n){const i=new Set(n.detail.indices);for(const e of n.target.options)e.selected=i.has(e.index);e.setValue(t,{value:r(!0)}),o=r(!1)},editable(e){e.target.disabled=!e.detail.editable}};this._dispatchEventFromSandbox(s,n)}),i.addEventListener("input",n=>{var i;const s=r(!0),a=r(!1);e.setValue(t,{value:s}),n.preventDefault(),null===(i=this.linkService.eventBus)||void 0===i||i.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:o,change:a,changeEx:s,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],e=>e.target.value)):i.addEventListener("input",function(n){e.setValue(t,{value:r(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class Tu extends gu{constructor(e){const{data:t,elements:n}=e;super(e,{isRenderable:gu._hasPopupData(t)}),this.elements=n,this.popup=null}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const t=this.popup=new Ju({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),n=[];for(const i of this.elements)i.popup=t,i.container.ariaHasPopup="dialog",n.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(e=>"".concat(qn).concat(e)).join(",")),this.container}}var Pu=new WeakMap,Iu=new WeakMap,Ru=new WeakMap,Lu=new WeakMap,Du=new WeakMap,Fu=new WeakMap,Ou=new WeakMap,Wu=new WeakMap,Bu=new WeakMap,Uu=new WeakMap,zu=new WeakMap,Hu=new WeakMap,Gu=new WeakMap,Vu=new WeakMap,qu=new WeakMap,Yu=new WeakMap,Ku=new WeakMap,Xu=new WeakMap,Qu=new WeakMap,$u=new WeakSet;class Ju{constructor(e){let{container:t,color:n,elements:i,titleObj:s,modificationDate:a,contentsObj:r,richText:o,parent:l,rect:c,parentRect:d,open:u}=e;gt(this,$u),vt(this,Pu,yt($u,this,ih).bind(this)),vt(this,Iu,yt($u,this,oh).bind(this)),vt(this,Ru,yt($u,this,rh).bind(this)),vt(this,Lu,yt($u,this,ah).bind(this)),vt(this,Du,null),vt(this,Fu,null),vt(this,Ou,null),vt(this,Wu,null),vt(this,Bu,null),vt(this,Uu,null),vt(this,zu,null),vt(this,Hu,!1),vt(this,Gu,null),vt(this,Vu,null),vt(this,qu,null),vt(this,Yu,null),vt(this,Ku,null),vt(this,Xu,null),vt(this,Qu,!1),wt(Fu,this,t),wt(Ku,this,s),wt(Ou,this,r),wt(Yu,this,o),wt(Uu,this,l),wt(Du,this,n),wt(qu,this,c),wt(zu,this,d),wt(Bu,this,i),wt(Wu,this,ri.toDateObject(a)),this.trigger=i.flatMap(e=>e.getElementsToTriggerPopup());for(const p of this.trigger)p.addEventListener("click",xt(Lu,this)),p.addEventListener("mouseenter",xt(Ru,this)),p.addEventListener("mouseleave",xt(Iu,this)),p.classList.add("popupTriggerArea");for(const p of i){var h;null===(h=p.container)||void 0===h||h.addEventListener("keydown",xt(Pu,this))}xt(Fu,this).hidden=!0,u&&yt($u,this,ah).call(this)}render(){if(xt(Gu,this))return;const e=wt(Gu,this,document.createElement("div"));if(e.className="popup",xt(Du,this)){const t=e.style.outlineColor=Bn.makeHexColor(...xt(Du,this));e.style.backgroundColor="color-mix(in srgb, ".concat(t," 30%, white)")}const t=document.createElement("span");t.className="header";const n=document.createElement("h1");if(t.append(n),({dir:n.dir,str:n.textContent}=xt(Ku,this)),e.append(t),xt(Wu,this)){const e=document.createElement("time");e.classList.add("popupDate"),e.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),e.setAttribute("data-l10n-args",JSON.stringify({dateObj:xt(Wu,this).valueOf()})),e.dateTime=xt(Wu,this).toISOString(),t.append(e)}const i=bt($u,this,Zu);if(i)cu.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const t=this._formatContents(xt(Ou,this));e.append(t)}xt(Fu,this).append(e)}_formatContents(e){let{str:t,dir:n}=e;const i=document.createElement("p");i.classList.add("popupContent"),i.dir=n;const s=t.split(/(?:\r\n?|\n)/);for(let a=0,r=s.length;a<r;++a){const e=s[a];i.append(document.createTextNode(e)),a<r-1&&i.append(document.createElement("br"))}return i}updateEdited(e){var t;let{rect:n,popupContent:i}=e;xt(Xu,this)||wt(Xu,this,{contentsObj:xt(Ou,this),richText:xt(Yu,this)}),n&&wt(Vu,this,null),i&&(wt(Yu,this,yt($u,this,nh).call(this,i)),wt(Ou,this,null)),null===(t=xt(Gu,this))||void 0===t||t.remove(),wt(Gu,this,null)}resetEdited(){var e;xt(Xu,this)&&(({contentsObj:mt(wt,[Ou,this])._,richText:mt(wt,[Yu,this])._}=xt(Xu,this)),wt(Xu,this,null),null===(e=xt(Gu,this))||void 0===e||e.remove(),wt(Gu,this,null),wt(Vu,this,null))}forceHide(){wt(Qu,this,this.isVisible),xt(Qu,this)&&(xt(Fu,this).hidden=!0)}maybeShow(){xt(Qu,this)&&(xt(Gu,this)||yt($u,this,rh).call(this),wt(Qu,this,!1),xt(Fu,this).hidden=!1)}get isVisible(){return!1===xt(Fu,this).hidden}}function Zu(e){const t=xt(Yu,e),n=xt(Ou,e);return null===t||void 0===t||!t.str||null!==n&&void 0!==n&&n.str&&n.str!==t.str?null:xt(Yu,e).html||null}function eh(e){var t;return(null===(t=bt($u,e,Zu))||void 0===t||null===(t=t.attributes)||void 0===t||null===(t=t.style)||void 0===t?void 0:t.fontSize)||0}function th(e){var t;return(null===(t=bt($u,e,Zu))||void 0===t||null===(t=t.attributes)||void 0===t||null===(t=t.style)||void 0===t?void 0:t.color)||null}function nh(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:bt($u,this,th),fontSize:bt($u,this,eh)?"calc(".concat(bt($u,this,eh),"px * var(--total-scale-factor))"):""}};for(const s of e.split("\n"))t.push({name:"span",value:s,attributes:i});return n}function ih(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||("Enter"===e.key||"Escape"===e.key&&xt(Hu,this))&&yt($u,this,ah).call(this)}function sh(){if(null!==xt(Vu,this))return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:i,pageY:s}}}=xt(Uu,this);let a=!!xt(zu,this),r=xt(a?zu:qu,this);for(const h of xt(Bu,this))if(!r||null!==Bn.intersect(h.data.rect,r)){r=h.data.rect,a=!0;break}const o=Bn.normalizeRect([r[0],e[3]-r[1]+e[1],r[2],e[3]-r[3]+e[1]]),l=a?r[2]-r[0]+5:0,c=o[0]+l,d=o[1];wt(Vu,this,[100*(c-i)/t,100*(d-s)/n]);const{style:u}=xt(Fu,this);u.left="".concat(xt(Vu,this)[0],"%"),u.top="".concat(xt(Vu,this)[1],"%")}function ah(){wt(Hu,this,!xt(Hu,this)),xt(Hu,this)?(yt($u,this,rh).call(this),xt(Fu,this).addEventListener("click",xt(Lu,this)),xt(Fu,this).addEventListener("keydown",xt(Pu,this))):(yt($u,this,oh).call(this),xt(Fu,this).removeEventListener("click",xt(Lu,this)),xt(Fu,this).removeEventListener("keydown",xt(Pu,this)))}function rh(){xt(Gu,this)||this.render(),this.isVisible?xt(Hu,this)&&xt(Fu,this).classList.add("focused"):(yt($u,this,sh).call(this),xt(Fu,this).hidden=!1,xt(Fu,this).style.zIndex=parseInt(xt(Fu,this).style.zIndex)+1e3)}function oh(){xt(Fu,this).classList.remove("focused"),!xt(Hu,this)&&this.isVisible&&(xt(Fu,this).hidden=!0,xt(Fu,this).style.zIndex=parseInt(xt(Fu,this).style.zIndex)-1e3)}class lh extends gu{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=$t.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var ch=new WeakMap;class dh extends gu{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),vt(this,ch,null)}render(){this.container.classList.add("lineAnnotation");const{data:e,width:t,height:n}=this,i=this.svgFactory.create(t,n,!0),s=wt(ch,this,this.svgFactory.createElement("svg:line"));return s.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),s.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),s.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),s.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),s.setAttribute("stroke-width",e.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),i.append(s),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return xt(ch,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}var uh=new WeakMap;class hh extends gu{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),vt(this,uh,null)}render(){this.container.classList.add("squareAnnotation");const{data:e,width:t,height:n}=this,i=this.svgFactory.create(t,n,!0),s=e.borderStyle.width,a=wt(uh,this,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",s/2),a.setAttribute("y",s/2),a.setAttribute("width",t-s),a.setAttribute("height",n-s),a.setAttribute("stroke-width",s||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return xt(uh,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}var ph=new WeakMap;class mh extends gu{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),vt(this,ph,null)}render(){this.container.classList.add("circleAnnotation");const{data:e,width:t,height:n}=this,i=this.svgFactory.create(t,n,!0),s=e.borderStyle.width,a=wt(ph,this,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",t/2),a.setAttribute("cy",n/2),a.setAttribute("rx",t/2-s/2),a.setAttribute("ry",n/2-s/2),a.setAttribute("stroke-width",s||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return xt(ph,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}var fh=new WeakMap;class gh extends gu{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),vt(this,fh,null),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:t,borderStyle:n,popupRef:i},width:s,height:a}=this;if(!t)return this.container;const r=this.svgFactory.create(s,a,!0);let o=[];for(let c=0,d=t.length;c<d;c+=2){const n=t[c]-e[0],i=e[3]-t[c+1];o.push("".concat(n,",").concat(i))}o=o.join(" ");const l=wt(fh,this,this.svgFactory.createElement(this.svgElementName));return l.setAttribute("points",o),l.setAttribute("stroke-width",n.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),r.append(l),this.container.append(r),!i&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return xt(fh,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}class vh extends gh{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class yh extends gu{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var bh=new WeakMap,xh=new WeakMap,wh=new WeakSet;class Sh extends gu{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),gt(this,wh),vt(this,bh,null),vt(this,xh,[]),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType="InkHighlight"===this.data.it?$t.HIGHLIGHT:$t.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:t,inkLists:n,borderStyle:i,popupRef:s}}=this,{transform:a,width:r,height:o}=yt(wh,this,kh).call(this,t,e),l=this.svgFactory.create(r,o,!0),c=wt(bh,this,this.svgFactory.createElement("svg:g"));l.append(c),c.setAttribute("stroke-width",i.width||1),c.setAttribute("stroke-linecap","round"),c.setAttribute("stroke-linejoin","round"),c.setAttribute("stroke-miterlimit",10),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),c.setAttribute("transform",a);for(let d=0,u=n.length;d<u;d++){const e=this.svgFactory.createElement(this.svgElementName);xt(xh,this).push(e),e.setAttribute("points",n[d].join(",")),c.append(e)}return!s&&this.hasPopupData&&this._createPopup(),this.container.append(l),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:t,points:n,rect:i}=e,s=xt(bh,this);if(t>=0&&s.setAttribute("stroke-width",t||1),n)for(let a=0,r=xt(xh,this).length;a<r;a++)xt(xh,this)[a].setAttribute("points",n[a].join(","));if(i){const{transform:e,width:t,height:n}=yt(wh,this,kh).call(this,this.data.rotation,i);s.parentElement.setAttribute("viewBox","0 0 ".concat(t," ").concat(n)),s.setAttribute("transform",e)}}getElementsToTriggerPopup(){return xt(xh,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}function kh(e,t){switch(e){case 90:return{transform:"rotate(90) translate(".concat(-t[0],",").concat(t[1],") scale(1,-1)"),width:t[3]-t[1],height:t[2]-t[0]};case 180:return{transform:"rotate(180) translate(".concat(-t[2],",").concat(t[1],") scale(1,-1)"),width:t[2]-t[0],height:t[3]-t[1]};case 270:return{transform:"rotate(270) translate(".concat(-t[2],",").concat(t[3],") scale(1,-1)"),width:t[3]-t[1],height:t[2]-t[0]};default:return{transform:"translate(".concat(-t[0],",").concat(t[3],") scale(1,-1)"),width:t[2]-t[0],height:t[3]-t[1]}}}class Ah extends gu{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=$t.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const t=document.createElement("mark");t.classList.add("overlaidText"),t.textContent=e,this.container.append(t)}return this.container}}class Eh extends gu{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const t=document.createElement("u");t.classList.add("overlaidText"),t.textContent=e,this.container.append(t)}return this.container}}class _h extends gu{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const t=document.createElement("u");t.classList.add("overlaidText"),t.textContent=e,this.container.append(t)}return this.container}}class jh extends gu{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const t=document.createElement("s");t.classList.add("overlaidText"),t.textContent=e,this.container.append(t)}return this.container}}class Nh extends gu{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=$t.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Ch=new WeakMap,Mh=new WeakSet;class Th extends gu{constructor(e){var t;super(e,{isRenderable:!0}),gt(this,Mh),vt(this,Ch,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,null===(t=this.linkService.eventBus)||void 0===t||t.dispatch("fileattachmentannotation",Fe({source:this},n))}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:t}=this;let n;t.hasAppearance||0===t.fillAlpha?n=document.createElement("div"):(n=document.createElement("img"),n.src="".concat(this.imageResourcesPath,"annotation-").concat(/paperclip/i.test(t.name)?"paperclip":"pushpin",".svg"),t.fillAlpha&&t.fillAlpha<1&&(n.style="filter: opacity(".concat(Math.round(100*t.fillAlpha),"%);"))),n.addEventListener("dblclick",yt(Mh,this,Ph).bind(this)),wt(Ch,this,n);const{isMac:i}=On.platform;return e.addEventListener("keydown",e=>{"Enter"===e.key&&(i?e.metaKey:e.ctrlKey)&&yt(Mh,this,Ph).call(this)}),!t.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),e.append(n),e}getElementsToTriggerPopup(){return xt(Ch,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}function Ph(){var e;null===(e=this.downloadManager)||void 0===e||e.openOrDownloadData(this.content,this.filename)}var Ih=new WeakMap,Rh=new WeakMap,Lh=new WeakMap,Dh=new WeakMap,Fh=new WeakSet;class Oh{constructor(e){let{div:t,accessibilityManager:n,annotationCanvasMap:i,annotationEditorUIManager:s,page:a,viewport:r,structTreeLayer:o}=e;gt(this,Fh),vt(this,Ih,null),vt(this,Rh,null),vt(this,Lh,new Map),vt(this,Dh,null),this.div=t,wt(Ih,this,n),wt(Rh,this,i),wt(Dh,this,o||null),this.page=a,this.viewport=r,this.zIndex=0,this._annotationEditorUIManager=s}hasEditableAnnotations(){return xt(Lh,this).size>0}async render(e){const{annotations:t}=e,n=this.div;ui(n,this.viewport);const i=new Map,s={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new lu,annotationStorage:e.annotationStorage||new Xr,enableScripting:!0===e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const r of t){if(r.noHTML)continue;const e=r.annotationType===on.POPUP;if(e){const e=i.get(r.id);if(!e)continue;s.elements=e}else if(r.rect[2]===r.rect[0]||r.rect[3]===r.rect[1])continue;s.data=r;const t=uu.create(s);if(!t.isRenderable)continue;if(!e&&r.popupRef){const e=i.get(r.popupRef);e?e.push(t):i.set(r.popupRef,[t])}const n=t.render();var a;if(r.hidden&&(n.style.visibility="hidden"),await yt(Fh,this,Wh).call(this,n,r.id,s.elements),t._isEditable)xt(Lh,this).set(t.data.id,t),null===(a=this._annotationEditorUIManager)||void 0===a||a.renderAnnotationElement(t)}yt(Fh,this,Bh).call(this)}async addLinkAnnotations(e,t){const n={data:null,layer:this.div,linkService:t,svgFactory:new lu,parent:this};for(const i of e){i.borderStyle||(i.borderStyle=Oh._defaultBorderStyle),n.data=i;const e=uu.create(n);if(!e.isRenderable)continue;const t=e.render();await yt(Fh,this,Wh).call(this,t,i.id,null)}}update(e){let{viewport:t}=e;const n=this.div;this.viewport=t,ui(n,{rotation:t.rotation}),yt(Fh,this,Bh).call(this),n.hidden=!1}getEditableAnnotations(){return Array.from(xt(Lh,this).values())}getEditableAnnotation(e){return xt(Lh,this).get(e)}static get _defaultBorderStyle(){return Nn(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:ln,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}}async function Wh(e,t,n){var i;const s=e.firstChild||e,a=s.id="".concat(qn).concat(t),r=await(null===(i=xt(Dh,this))||void 0===i?void 0:i.getAriaAttributes(a));if(r)for(const[l,c]of r)s.setAttribute(l,c);var o;n?n.at(-1).container.after(e):(this.div.append(e),null===(o=xt(Ih,this))||void 0===o||o.moveElementInDOM(this.div,e,s,!1))}function Bh(){if(!xt(Rh,this))return;const e=this.div;for(const[n,i]of xt(Rh,this)){const s=e.querySelector('[data-annotation-id="'.concat(n,'"]'));if(!s)continue;i.className="annotationContent";const{firstChild:a}=s;a?"CANVAS"===a.nodeName?a.replaceWith(i):a.classList.contains("annotationContent")?a.after(i):a.before(i):s.append(i);const r=xt(Lh,this).get(n);var t;if(r)if(r._hasNoCanvas)null===(t=this._annotationEditorUIManager)||void 0===t||t.setMissingCanvas(n,s.id,i),r._hasNoCanvas=!1;else r.canvas=i}xt(Rh,this).clear()}const Uh=/\r\n?|\n/g;var zh=new WeakMap,Hh=new WeakMap,Gh=new WeakMap,Vh=new WeakMap,qh=new WeakMap,Yh=new WeakSet;class Kh extends br{static get _keyboardManager(){const e=Kh.prototype,t=e=>e.isEmpty(),n=qs.TRANSLATE_SMALL,i=qs.TRANSLATE_BIG;return Nn(this,"_keyboardManager",new $i([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-n,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-i,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[n,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[i,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-n],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-i],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,n],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,i],checker:t}]]))}constructor(e){super(Fe(Fe({},e),{},{name:"freeTextEditor"})),gt(this,Yh),vt(this,zh,void 0),vt(this,Hh,""),vt(this,Gh,"".concat(this.id,"-editor")),vt(this,Vh,null),vt(this,qh,void 0),wt(zh,this,e.color||Kh._defaultColor||br._defaultLineColor),wt(qh,this,e.fontSize||Kh._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static initialize(e,t){br.initialize(e,t);const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case Jt.FREETEXT_SIZE:Kh._defaultFontSize=t;break;case Jt.FREETEXT_COLOR:Kh._defaultColor=t}}updateParams(e,t){switch(e){case Jt.FREETEXT_SIZE:yt(Yh,this,Xh).call(this,t);break;case Jt.FREETEXT_COLOR:yt(Yh,this,Qh).call(this,t)}}static get defaultPropertiesToUpdate(){return[[Jt.FREETEXT_SIZE,Kh._defaultFontSize],[Jt.FREETEXT_COLOR,Kh._defaultColor||br._defaultLineColor]]}get propertiesToUpdate(){return[[Jt.FREETEXT_SIZE,xt(qh,this)],[Jt.FREETEXT_COLOR,xt(zh,this)]]}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){const e=this.parentScale;return[-Kh._internalPadding*e,-(Kh._internalPadding+xt(qh,this))*e]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),wt(Vh,this,new AbortController);const e=this._uiManager.combinedSignal(xt(Vh,this));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){var e;return!!super.disableEditMode()&&(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",xt(Gh,this)),this._isDraggable=!0,null===(e=xt(Vh,this))||void 0===e||e.abort(),wt(Vh,this,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0)}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){var t;this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),null!==(t=this._initialOptions)&&void 0!==t&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=xt(Hh,this),t=wt(Hh,this,yt(Yh,this,$h).call(this).trimEnd());if(e===t)return;const n=e=>{wt(Hh,this,e),e?(yt(Yh,this,ep).call(this),this._uiManager.rebuild(this),yt(Yh,this,Jh).call(this)):this.remove()};this.addCommands({cmd:()=>{n(t)},undo:()=>{n(e)},mustExec:!1}),yt(Yh,this,Jh).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&"Enter"===e.key&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){Kh._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,t;(this._isCopy||this.annotationElementId)&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",xt(Gh,this)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize="calc(".concat(xt(qh,this),"px * var(--total-scale-factor))"),n.color=xt(zh,this),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[n,i]=this.parentDimensions;if(this.annotationElementId){const{position:s}=this._initialData;let[a,r]=this.getInitialTranslation();[a,r]=this.pageTranslationToScreen(a,r);const[o,l]=this.pageDimensions,[c,d]=this.pageTranslation;let u,h;switch(this.rotation){case 0:u=e+(s[0]-c)/o,h=t+this.height-(s[1]-d)/l;break;case 90:u=e+(s[0]-c)/o,h=t-(s[1]-d)/l,[a,r]=[r,-a];break;case 180:u=e-this.width+(s[0]-c)/o,h=t-(s[1]-d)/l,[a,r]=[-a,-r];break;case 270:u=e+(s[0]-c-this.height*l)/o,h=t+(s[1]-d-this.width*o)/l,[a,r]=[-r,a]}this.setAt(u*n,h*i,a,r)}else this._moveAfterPaste(e,t);yt(Yh,this,ep).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){const t=e.clipboardData||window.clipboardData,{types:n}=t;if(1===n.length&&"text/plain"===n[0])return;e.preventDefault();const i=np.call(Kh,t.getData("text")||"").replaceAll(Uh,"\n");if(!i)return;const s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();const a=s.getRangeAt(0);if(!i.includes("\n"))return a.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),void s.collapseToStart();const{startContainer:r,startOffset:o}=a,l=[],c=[];if(r.nodeType===Node.TEXT_NODE){const e=r.parentElement;if(c.push(r.nodeValue.slice(o).replaceAll(Uh,"")),e!==this.editorDiv){let t=l;for(const n of this.editorDiv.childNodes)n!==e?t.push(Zh.call(Kh,n)):t=c}l.push(r.nodeValue.slice(0,o).replaceAll(Uh,""))}else if(r===this.editorDiv){let e=l,t=0;for(const n of this.editorDiv.childNodes)t++===o&&(e=c),e.push(Zh.call(Kh,n))}wt(Hh,this,"".concat(l.join("\n")).concat(i).concat(c.join("\n"))),yt(Yh,this,ep).call(this);const d=new Range;let u=Math.sumPrecise(l.map(e=>e.length));for(const{firstChild:h}of this.editorDiv.childNodes)if(h.nodeType===Node.TEXT_NODE){const e=h.nodeValue.length;if(u<=e){d.setStart(h,u),d.setEnd(h,u);break}u-=e}s.removeAllRanges(),s.addRange(d)}get contentDiv(){return this.editorDiv}static async deserialize(e,t,n){let i=null;if(e instanceof lh){const{data:{defaultAppearanceData:{fontSize:t,fontColor:n},rect:s,rotation:a,id:r,popupRef:o},textContent:l,textPosition:c,parent:{page:{pageNumber:d}}}=e;if(!l||0===l.length)return null;i=e={annotationType:$t.FREETEXT,color:Array.from(n),fontSize:t,value:l.join("\n"),position:c,pageIndex:d-1,rect:s.slice(0),rotation:a,annotationElementId:r,id:r,deleted:!1,popupRef:o}}const s=await super.deserialize(e,t,n);return wt(qh,s,e.fontSize),wt(zh,s,Bn.makeHexColor(...e.color)),wt(Hh,s,np.call(Kh,e.value)),s._initialData=i,s}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const t=Kh._internalPadding*this.parentScale,n=this.getRect(t,t),i=br._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:xt(zh,this)),s={annotationType:$t.FREETEXT,color:i,fontSize:xt(qh,this),value:yt(Yh,this,tp).call(this),pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?(s.isCopy=!0,s):this.annotationElementId&&!yt(Yh,this,ip).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(e){const t=super.renderAnnotationElement(e);if(this.deleted)return t;const{style:n}=t;n.fontSize="calc(".concat(xt(qh,this),"px * var(--total-scale-factor))"),n.color=xt(zh,this),t.replaceChildren();for(const s of xt(Hh,this).split("\n")){const e=document.createElement("div");e.append(s?document.createTextNode(s):document.createElement("br")),t.append(e)}const i=Kh._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(i,i),popupContent:xt(Hh,this)}),t}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}function Xh(e){const t=e=>{this.editorDiv.style.fontSize="calc(".concat(e,"px * var(--total-scale-factor))"),this.translate(0,-(e-xt(qh,this))*this.parentScale),wt(qh,this,e),yt(Yh,this,Jh).call(this)},n=xt(qh,this);this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Jt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}function Qh(e){const t=e=>{wt(zh,this,this.editorDiv.style.color=e)},n=xt(zh,this);this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Jt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function $h(){const e=[];this.editorDiv.normalize();let t=null;for(const i of this.editorDiv.childNodes){var n;(null===(n=t)||void 0===n?void 0:n.nodeType)===Node.TEXT_NODE&&"BR"===i.nodeName||(e.push(Zh.call(Pt,i)),t=i)}return e.join("\n")}function Jh(){const[e,t]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:e,div:t}=this,i=t.style.display,s=t.classList.contains("hidden");t.classList.remove("hidden"),t.style.display="hidden",e.div.append(this.div),n=t.getBoundingClientRect(),t.remove(),t.style.display=i,t.classList.toggle("hidden",s)}this.rotation%180===this.parentRotation%180?(this.width=n.width/e,this.height=n.height/t):(this.width=n.height/e,this.height=n.width/t),this.fixAndSetPosition()}function Zh(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(Uh,"")}function ep(){if(this.editorDiv.replaceChildren(),xt(Hh,this))for(const e of xt(Hh,this).split("\n")){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}}function tp(){return xt(Hh,this).replaceAll("\xa0"," ")}function np(e){return e.replaceAll(" ","\xa0")}function ip(e){const{value:t,fontSize:n,color:i,pageIndex:s}=this._initialData;return this._hasBeenMoved||e.value!==t||e.fontSize!==n||e.color.some((e,t)=>e!==i[t])||e.pageIndex!==s}Pt=Kh,Le(Kh,"_freeTextDefaultContent",""),Le(Kh,"_internalPadding",0),Le(Kh,"_defaultColor",null),Le(Kh,"_defaultFontSize",10),Le(Kh,"_type","freetext"),Le(Kh,"_editorType",$t.FREETEXT);class sp{toSVGPath(){An("Abstract method `toSVGPath` must be implemented.")}get box(){An("Abstract getter `box` must be implemented.")}serialize(e,t){An("Abstract method `serialize` must be implemented.")}static _rescale(e,t,n,i,s,a){a||(a=new Float32Array(e.length));for(let r=0,o=e.length;r<o;r+=2)a[r]=t+e[r]*i,a[r+1]=n+e[r+1]*s;return a}static _rescaleAndSwap(e,t,n,i,s,a){a||(a=new Float32Array(e.length));for(let r=0,o=e.length;r<o;r+=2)a[r]=t+e[r+1]*i,a[r+1]=n+e[r]*s;return a}static _translate(e,t,n,i){i||(i=new Float32Array(e.length));for(let s=0,a=e.length;s<a;s+=2)i[s]=t+e[s],i[s+1]=n+e[s+1];return i}static svgRound(e){return Math.round(1e4*e)}static _normalizePoint(e,t,n,i,s){switch(s){case 90:return[1-t/n,e/i];case 180:return[1-e/n,1-t/i];case 270:return[t/n,1-e/i];default:return[e/n,t/i]}}static _normalizePagePoint(e,t,n){switch(n){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,n,i,s,a){return[(e+5*n)/6,(t+5*i)/6,(5*n+s)/6,(5*i+a)/6,(n+s)/2,(i+a)/2]}}Le(sp,"PRECISION",1e-4);var ap=new WeakMap,rp=new WeakMap,op=new WeakMap,lp=new WeakMap,cp=new WeakMap,dp=new WeakMap,up=new WeakMap,hp=new WeakMap,pp=new WeakMap,mp=new WeakMap,fp=new WeakMap,gp=new WeakMap,vp=new WeakMap,yp=new WeakSet;class bp{constructor(e,t,n,i,s){let{x:a,y:r}=e,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;gt(this,yp),vt(this,ap,void 0),vt(this,rp,[]),vt(this,op,void 0),vt(this,lp,void 0),vt(this,cp,[]),vt(this,dp,new Float32Array(18)),vt(this,up,void 0),vt(this,hp,void 0),vt(this,pp,void 0),vt(this,mp,void 0),vt(this,fp,void 0),vt(this,gp,void 0),vt(this,vp,[]),wt(ap,this,t),wt(gp,this,i*n),wt(lp,this,s),xt(dp,this).set([NaN,NaN,NaN,NaN,a,r],6),wt(op,this,o),wt(mp,this,jp._*n),wt(pp,this,Np._*n),wt(fp,this,n),xt(vp,this).push(a,r)}isEmpty(){return isNaN(xt(dp,this)[8])}add(e){var t;let{x:n,y:i}=e;wt(up,this,n),wt(hp,this,i);const[s,a,r,o]=xt(ap,this);let[l,c,d,u]=xt(dp,this).subarray(8,12);const h=n-d,p=i-u,m=Math.hypot(h,p);if(m<xt(pp,this))return!1;const f=m-xt(mp,this),g=f/m,v=g*h,y=g*p;let b=l,x=c;l=d,c=u,d+=v,u+=y,null===(t=xt(vp,this))||void 0===t||t.push(n,i);const w=v/f,S=-y/f*xt(gp,this),k=w*xt(gp,this);if(xt(dp,this).set(xt(dp,this).subarray(2,8),0),xt(dp,this).set([d+S,u+k],4),xt(dp,this).set(xt(dp,this).subarray(14,18),12),xt(dp,this).set([d-S,u-k],16),isNaN(xt(dp,this)[6]))return 0===xt(cp,this).length&&(xt(dp,this).set([l+S,c+k],2),xt(cp,this).push(NaN,NaN,NaN,NaN,(l+S-s)/r,(c+k-a)/o),xt(dp,this).set([l-S,c-k],14),xt(rp,this).push(NaN,NaN,NaN,NaN,(l-S-s)/r,(c-k-a)/o)),xt(dp,this).set([b,x,l,c,d,u],6),!this.isEmpty();xt(dp,this).set([b,x,l,c,d,u],6);return Math.abs(Math.atan2(x-c,b-l)-Math.atan2(y,v))<Math.PI/2?([l,c,d,u]=xt(dp,this).subarray(2,6),xt(cp,this).push(NaN,NaN,NaN,NaN,((l+d)/2-s)/r,((c+u)/2-a)/o),[l,c,b,x]=xt(dp,this).subarray(14,18),xt(rp,this).push(NaN,NaN,NaN,NaN,((b+l)/2-s)/r,((x+c)/2-a)/o),!0):([b,x,l,c,d,u]=xt(dp,this).subarray(0,6),xt(cp,this).push(((b+5*l)/6-s)/r,((x+5*c)/6-a)/o,((5*l+d)/6-s)/r,((5*c+u)/6-a)/o,((l+d)/2-s)/r,((c+u)/2-a)/o),[d,u,l,c,b,x]=xt(dp,this).subarray(12,18),xt(rp,this).push(((b+5*l)/6-s)/r,((x+5*c)/6-a)/o,((5*l+d)/6-s)/r,((5*c+u)/6-a)/o,((l+d)/2-s)/r,((c+u)/2-a)/o),!0)}toSVGPath(){if(this.isEmpty())return"";const e=xt(cp,this),t=xt(rp,this);if(isNaN(xt(dp,this)[6])&&!this.isEmpty())return yt(yp,this,wp).call(this);const n=[];n.push("M".concat(e[4]," ").concat(e[5]));for(let i=6;i<e.length;i+=6)isNaN(e[i])?n.push("L".concat(e[i+4]," ").concat(e[i+5])):n.push("C".concat(e[i]," ").concat(e[i+1]," ").concat(e[i+2]," ").concat(e[i+3]," ").concat(e[i+4]," ").concat(e[i+5]));yt(yp,this,kp).call(this,n);for(let i=t.length-6;i>=6;i-=6)isNaN(t[i])?n.push("L".concat(t[i+4]," ").concat(t[i+5])):n.push("C".concat(t[i]," ").concat(t[i+1]," ").concat(t[i+2]," ").concat(t[i+3]," ").concat(t[i+4]," ").concat(t[i+5]));return yt(yp,this,Sp).call(this,n),n.join(" ")}newFreeDrawOutline(e,t,n,i,s,a){return new Fp(e,t,n,i,s,a)}getOutlines(){var e,t;const n=xt(cp,this),i=xt(rp,this),s=xt(dp,this),[a,r,o,l]=xt(ap,this),c=new Float32Array((null!==(e=null===(t=xt(vp,this))||void 0===t?void 0:t.length)&&void 0!==e?e:0)+2);for(let h=0,p=c.length-2;h<p;h+=2)c[h]=(xt(vp,this)[h]-a)/o,c[h+1]=(xt(vp,this)[h+1]-r)/l;if(c[c.length-2]=(xt(up,this)-a)/o,c[c.length-1]=(xt(hp,this)-r)/l,isNaN(s[6])&&!this.isEmpty())return yt(yp,this,Ap).call(this,c);const d=new Float32Array(xt(cp,this).length+24+xt(rp,this).length);let u=n.length;for(let h=0;h<u;h+=2)isNaN(n[h])?d[h]=d[h+1]=NaN:(d[h]=n[h],d[h+1]=n[h+1]);u=yt(yp,this,_p).call(this,d,u);for(let h=i.length-6;h>=6;h-=6)for(let e=0;e<6;e+=2)isNaN(i[h+e])?(d[u]=d[u+1]=NaN,u+=2):(d[u]=i[h+e],d[u+1]=i[h+e+1],u+=2);return yt(yp,this,Ep).call(this,d,u),this.newFreeDrawOutline(d,c,xt(ap,this),xt(fp,this),xt(op,this),xt(lp,this))}}function xp(){const e=xt(dp,this).subarray(4,6),t=xt(dp,this).subarray(16,18),[n,i,s,a]=xt(ap,this);return[(xt(up,this)+(e[0]-t[0])/2-n)/s,(xt(hp,this)+(e[1]-t[1])/2-i)/a,(xt(up,this)+(t[0]-e[0])/2-n)/s,(xt(hp,this)+(t[1]-e[1])/2-i)/a]}function wp(){const[e,t,n,i]=xt(ap,this),[s,a,r,o]=yt(yp,this,xp).call(this);return"M".concat((xt(dp,this)[2]-e)/n," ").concat((xt(dp,this)[3]-t)/i," L").concat((xt(dp,this)[4]-e)/n," ").concat((xt(dp,this)[5]-t)/i," L").concat(s," ").concat(a," L").concat(r," ").concat(o," L").concat((xt(dp,this)[16]-e)/n," ").concat((xt(dp,this)[17]-t)/i," L").concat((xt(dp,this)[14]-e)/n," ").concat((xt(dp,this)[15]-t)/i," Z")}function Sp(e){const t=xt(rp,this);e.push("L".concat(t[4]," ").concat(t[5]," Z"))}function kp(e){const[t,n,i,s]=xt(ap,this),a=xt(dp,this).subarray(4,6),r=xt(dp,this).subarray(16,18),[o,l,c,d]=yt(yp,this,xp).call(this);e.push("L".concat((a[0]-t)/i," ").concat((a[1]-n)/s," L").concat(o," ").concat(l," L").concat(c," ").concat(d," L").concat((r[0]-t)/i," ").concat((r[1]-n)/s))}function Ap(e){const t=xt(dp,this),[n,i,s,a]=xt(ap,this),[r,o,l,c]=yt(yp,this,xp).call(this),d=new Float32Array(36);return d.set([NaN,NaN,NaN,NaN,(t[2]-n)/s,(t[3]-i)/a,NaN,NaN,NaN,NaN,(t[4]-n)/s,(t[5]-i)/a,NaN,NaN,NaN,NaN,r,o,NaN,NaN,NaN,NaN,l,c,NaN,NaN,NaN,NaN,(t[16]-n)/s,(t[17]-i)/a,NaN,NaN,NaN,NaN,(t[14]-n)/s,(t[15]-i)/a],0),this.newFreeDrawOutline(d,e,xt(ap,this),xt(fp,this),xt(op,this),xt(lp,this))}function Ep(e,t){const n=xt(rp,this);return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],t),t+6}function _p(e,t){const n=xt(dp,this).subarray(4,6),i=xt(dp,this).subarray(16,18),[s,a,r,o]=xt(ap,this),[l,c,d,u]=yt(yp,this,xp).call(this);return e.set([NaN,NaN,NaN,NaN,(n[0]-s)/r,(n[1]-a)/o,NaN,NaN,NaN,NaN,l,c,NaN,NaN,NaN,NaN,d,u,NaN,NaN,NaN,NaN,(i[0]-s)/r,(i[1]-a)/o],t),t+24}var jp={_:8},Np={_:jp._+2},Cp=new WeakMap,Mp=new WeakMap,Tp=new WeakMap,Pp=new WeakMap,Ip=new WeakMap,Rp=new WeakMap,Lp=new WeakMap,Dp=new WeakSet;class Fp extends sp{constructor(e,t,n,i,s,a){super(),gt(this,Dp),vt(this,Cp,void 0),vt(this,Mp,new Float32Array(4)),vt(this,Tp,void 0),vt(this,Pp,void 0),vt(this,Ip,void 0),vt(this,Rp,void 0),vt(this,Lp,void 0),wt(Lp,this,e),wt(Ip,this,t),wt(Cp,this,n),wt(Rp,this,i),wt(Tp,this,s),wt(Pp,this,a),this.lastPoint=[NaN,NaN],yt(Dp,this,Op).call(this,a);const[r,o,l,c]=xt(Mp,this);for(let d=0,u=e.length;d<u;d+=2)e[d]=(e[d]-r)/l,e[d+1]=(e[d+1]-o)/c;for(let d=0,u=t.length;d<u;d+=2)t[d]=(t[d]-r)/l,t[d+1]=(t[d+1]-o)/c}toSVGPath(){const e=["M".concat(xt(Lp,this)[4]," ").concat(xt(Lp,this)[5])];for(let t=6,n=xt(Lp,this).length;t<n;t+=6)isNaN(xt(Lp,this)[t])?e.push("L".concat(xt(Lp,this)[t+4]," ").concat(xt(Lp,this)[t+5])):e.push("C".concat(xt(Lp,this)[t]," ").concat(xt(Lp,this)[t+1]," ").concat(xt(Lp,this)[t+2]," ").concat(xt(Lp,this)[t+3]," ").concat(xt(Lp,this)[t+4]," ").concat(xt(Lp,this)[t+5]));return e.push("Z"),e.join(" ")}serialize(e,t){let[n,i,s,a]=e;const r=s-n,o=a-i;let l,c;switch(t){case 0:l=sp._rescale(xt(Lp,this),n,a,r,-o),c=sp._rescale(xt(Ip,this),n,a,r,-o);break;case 90:l=sp._rescaleAndSwap(xt(Lp,this),n,i,r,o),c=sp._rescaleAndSwap(xt(Ip,this),n,i,r,o);break;case 180:l=sp._rescale(xt(Lp,this),s,i,-r,o),c=sp._rescale(xt(Ip,this),s,i,-r,o);break;case 270:l=sp._rescaleAndSwap(xt(Lp,this),s,a,-r,-o),c=sp._rescaleAndSwap(xt(Ip,this),s,a,-r,-o)}return{outline:Array.from(l),points:[Array.from(c)]}}get box(){return xt(Mp,this)}newOutliner(e,t,n,i,s){return new bp(e,t,n,i,s,arguments.length>5&&void 0!==arguments[5]?arguments[5]:0)}getNewOutline(e,t){const[n,i,s,a]=xt(Mp,this),[r,o,l,c]=xt(Cp,this),d=s*l,u=a*c,h=n*l+r,p=i*c+o,m=this.newOutliner({x:xt(Ip,this)[0]*d+h,y:xt(Ip,this)[1]*u+p},xt(Cp,this),xt(Rp,this),e,xt(Pp,this),null!==t&&void 0!==t?t:xt(Tp,this));for(let f=2;f<xt(Ip,this).length;f+=2)m.add({x:xt(Ip,this)[f]*d+h,y:xt(Ip,this)[f+1]*u+p});return m.getOutlines()}}function Op(e){const t=xt(Lp,this);let n=t[4],i=t[5];const s=[n,i,n,i];let a=n,r=i;const o=e?Math.max:Math.min;for(let c=6,d=t.length;c<d;c+=6){const e=t[c+4],l=t[c+5];if(isNaN(t[c]))Bn.pointBoundingBox(e,l,s),r<l?(a=e,r=l):r===l&&(a=o(a,e));else{const e=[1/0,1/0,-1/0,-1/0];Bn.bezierBoundingBox(n,i,...t.slice(c,c+6),e),Bn.rectBoundingBox(...e,s),r<e[3]?(a=e[2],r=e[3]):r===e[3]&&(a=o(a,e[2]))}n=e,i=l}const l=xt(Mp,this);l[0]=s[0]-xt(Tp,this),l[1]=s[1]-xt(Tp,this),l[2]=s[2]-s[0]+2*xt(Tp,this),l[3]=s[3]-s[1]+2*xt(Tp,this),this.lastPoint=[a,r]}var Wp=new WeakMap,Bp=new WeakMap,Up=new WeakMap,zp=new WeakMap,Hp=new WeakSet;class Gp{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];gt(this,Hp),vt(this,Wp,void 0),vt(this,Bp,void 0),vt(this,Up,[]),vt(this,zp,[]);const s=[1/0,1/0,-1/0,-1/0],a=1e-4;for(const{x:h,y:p,width:m,height:f}of e){const e=Math.floor((h-t)/a)*a,n=Math.ceil((h+m+t)/a)*a,i=Math.floor((p-t)/a)*a,r=Math.ceil((p+f+t)/a)*a,o=[e,i,r,!0],l=[n,i,r,!1];xt(Up,this).push(o,l),Bn.rectBoundingBox(e,i,n,r,s)}const r=s[2]-s[0]+2*n,o=s[3]-s[1]+2*n,l=s[0]-n,c=s[1]-n,d=xt(Up,this).at(i?-1:-2),u=[d[0],d[2]];for(const h of xt(Up,this)){const[e,t,n]=h;h[0]=(e-l)/r,h[1]=(t-c)/o,h[2]=(n-c)/o}wt(Wp,this,new Float32Array([l,c,r,o])),wt(Bp,this,u)}getOutlines(){xt(Up,this).sort((e,t)=>e[0]-t[0]||e[1]-t[1]||e[2]-t[2]);const e=[];for(const t of xt(Up,this))t[3]?(e.push(...yt(Hp,this,Xp).call(this,t)),yt(Hp,this,Yp).call(this,t)):(yt(Hp,this,Kp).call(this,t),e.push(...yt(Hp,this,Xp).call(this,t)));return yt(Hp,this,Vp).call(this,e)}}function Vp(e){const t=[],n=new Set;for(const a of e){const[e,n,i]=a;t.push([e,n,a],[e,i,a])}t.sort((e,t)=>e[1]-t[1]||e[0]-t[0]);for(let a=0,r=t.length;a<r;a+=2){const e=t[a][2],i=t[a+1][2];e.push(i),i.push(e),n.add(e),n.add(i)}const i=[];let s;for(;n.size>0;){const e=n.values().next().value;let[t,a,r,o,l]=e;n.delete(e);let c=t,d=a;for(s=[t,r],i.push(s);;){let e;if(n.has(o))e=o;else{if(!n.has(l))break;e=l}n.delete(e),[t,a,r,o,l]=e,c!==t&&(s.push(c,d,t,d===a?a:r),c=t),d=d===a?r:a}s.push(c,d)}return new Jp(i,xt(Wp,this),xt(Bp,this))}function qp(e){const t=xt(zp,this);let n=0,i=t.length-1;for(;n<=i;){const s=n+i>>1,a=t[s][0];if(a===e)return s;a<e?n=s+1:i=s-1}return i+1}function Yp(e){let[,t,n]=e;const i=yt(Hp,this,qp).call(this,t);xt(zp,this).splice(i,0,[t,n])}function Kp(e){let[,t,n]=e;const i=yt(Hp,this,qp).call(this,t);for(let s=i;s<xt(zp,this).length;s++){const[e,i]=xt(zp,this)[s];if(e!==t)break;if(e===t&&i===n)return void xt(zp,this).splice(s,1)}for(let s=i-1;s>=0;s--){const[e,i]=xt(zp,this)[s];if(e!==t)break;if(e===t&&i===n)return void xt(zp,this).splice(s,1)}}function Xp(e){const[t,n,i]=e,s=[[t,n,i]],a=yt(Hp,this,qp).call(this,i);for(let r=0;r<a;r++){const[e,n]=xt(zp,this)[r];for(let i=0,a=s.length;i<a;i++){const[,r,o]=s[i];if(!(n<=r||o<=e))if(r>=e)if(o>n)s[i][1]=n;else{if(1===a)return[];s.splice(i,1),i--,a--}else s[i][2]=e,o>n&&s.push([t,n,o])}}return s}var Qp=new WeakMap,$p=new WeakMap;class Jp extends sp{constructor(e,t,n){super(),vt(this,Qp,void 0),vt(this,$p,void 0),wt($p,this,e),wt(Qp,this,t),this.lastPoint=n}toSVGPath(){const e=[];for(const t of xt($p,this)){let[n,i]=t;e.push("M".concat(n," ").concat(i));for(let s=2;s<t.length;s+=2){const a=t[s],r=t[s+1];a===n?(e.push("V".concat(r)),i=r):r===i&&(e.push("H".concat(a)),n=a)}e.push("Z")}return e.join(" ")}serialize(e,t){let[n,i,s,a]=e;const r=[],o=s-n,l=a-i;for(const c of xt($p,this)){const e=new Array(c.length);for(let t=0;t<c.length;t+=2)e[t]=n+c[t]*o,e[t+1]=a-c[t+1]*l;r.push(e)}return r}get box(){return xt(Qp,this)}get classNamesForOutlining(){return["highlightOutline"]}}class Zp extends bp{newFreeDrawOutline(e,t,n,i,s,a){return new em(e,t,n,i,s,a)}}class em extends Fp{newOutliner(e,t,n,i,s){return new Zp(e,t,n,i,s,arguments.length>5&&void 0!==arguments[5]?arguments[5]:0)}}var tm=new WeakMap,nm=new WeakMap,im=new WeakMap,sm=new WeakMap,am=new WeakMap,rm=new WeakMap,om=new WeakMap,lm=new WeakMap,cm=new WeakMap,dm=new WeakMap,um=new WeakMap,hm=new WeakSet;class pm{static get _keyboardManager(){return Nn(this,"_keyboardManager",new $i([[["Escape","mac+Escape"],pm.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],pm.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],pm.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],pm.prototype._moveToPrevious],[["Home","mac+Home"],pm.prototype._moveToBeginning],[["End","mac+End"],pm.prototype._moveToEnd]]))}constructor(e){var t,n;let{editor:i=null,uiManager:s=null}=e;gt(this,hm),vt(this,tm,null),vt(this,nm,null),vt(this,im,void 0),vt(this,sm,null),vt(this,am,!1),vt(this,rm,!1),vt(this,om,null),vt(this,lm,void 0),vt(this,cm,null),vt(this,dm,null),vt(this,um,void 0),i?(wt(rm,this,!1),wt(um,this,Jt.HIGHLIGHT_COLOR),wt(om,this,i)):(wt(rm,this,!0),wt(um,this,Jt.HIGHLIGHT_DEFAULT_COLOR)),wt(dm,this,(null===i||void 0===i?void 0:i._uiManager)||s),wt(lm,this,xt(dm,this)._eventBus),wt(im,this,(null===i||void 0===i||null===(t=i.color)||void 0===t?void 0:t.toUpperCase())||(null===(n=xt(dm,this))||void 0===n?void 0:n.highlightColors.values().next().value)||"#FFFF98"),xm._||(xm._=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}renderButton(){const e=wt(tm,this,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",xt(om,this)&&(e.ariaControls="".concat(xt(om,this).id,"_colorpicker_dropdown"));const t=xt(dm,this)._signal;e.addEventListener("click",yt(hm,this,vm).bind(this),{signal:t}),e.addEventListener("keydown",yt(hm,this,gm).bind(this),{signal:t});const n=wt(nm,this,document.createElement("span"));return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=xt(im,this),e.append(n),e}renderMainDropdown(){const e=wt(sm,this,yt(hm,this,mm).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===xt(tm,this))return void yt(hm,this,vm).call(this,e);const t=e.target.getAttribute("data-color");t&&yt(hm,this,fm).call(this,t,e)}_moveToNext(e){var t,n;bt(hm,this,bm)?e.target!==xt(tm,this)?null===(t=e.target.nextSibling)||void 0===t||t.focus():null===(n=xt(sm,this).firstChild)||void 0===n||n.focus():yt(hm,this,vm).call(this,e)}_moveToPrevious(e){var t,n;e.target!==(null===(t=xt(sm,this))||void 0===t?void 0:t.firstChild)&&e.target!==xt(tm,this)?(bt(hm,this,bm)||yt(hm,this,vm).call(this,e),null===(n=e.target.previousSibling)||void 0===n||n.focus()):bt(hm,this,bm)&&this._hideDropdownFromKeyboard()}_moveToBeginning(e){var t;bt(hm,this,bm)?null===(t=xt(sm,this).firstChild)||void 0===t||t.focus():yt(hm,this,vm).call(this,e)}_moveToEnd(e){var t;bt(hm,this,bm)?null===(t=xt(sm,this).lastChild)||void 0===t||t.focus():yt(hm,this,vm).call(this,e)}hideDropdown(){var e,t;null===(e=xt(sm,this))||void 0===e||e.classList.add("hidden"),xt(tm,this).ariaExpanded="false",null===(t=xt(cm,this))||void 0===t||t.abort(),wt(cm,this,null)}_hideDropdownFromKeyboard(){var e;xt(rm,this)||(bt(hm,this,bm)?(this.hideDropdown(),xt(tm,this).focus({preventScroll:!0,focusVisible:xt(am,this)})):null===(e=xt(om,this))||void 0===e||e.unselect())}updateColor(e){if(xt(nm,this)&&(xt(nm,this).style.backgroundColor=e),!xt(sm,this))return;const t=xt(dm,this).highlightColors.values();for(const n of xt(sm,this).children)n.ariaSelected=t.next().value===e.toUpperCase()}destroy(){var e,t;null===(e=xt(tm,this))||void 0===e||e.remove(),wt(tm,this,null),wt(nm,this,null),null===(t=xt(sm,this))||void 0===t||t.remove(),wt(sm,this,null)}}function mm(){const e=document.createElement("div"),t=xt(dm,this)._signal;e.addEventListener("contextmenu",si,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),xt(om,this)&&(e.id="".concat(xt(om,this).id,"_colorpicker_dropdown"));for(const[n,i]of xt(dm,this).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=n,s.setAttribute("data-l10n-id",xm._[n]);const a=document.createElement("span");s.append(a),a.className="swatch",a.style.backgroundColor=i,s.ariaSelected=i===xt(im,this),s.addEventListener("click",yt(hm,this,fm).bind(this,i),{signal:t}),e.append(s)}return e.addEventListener("keydown",yt(hm,this,gm).bind(this),{signal:t}),e}function fm(e,t){t.stopPropagation(),xt(lm,this).dispatch("switchannotationeditorparams",{source:this,type:xt(um,this),value:e})}function gm(e){It._keyboardManager.exec(this,e)}function vm(e){if(bt(hm,this,bm))return void this.hideDropdown();if(wt(am,this,0===e.detail),xt(cm,this)||(wt(cm,this,new AbortController),window.addEventListener("pointerdown",yt(hm,this,ym).bind(this),{signal:xt(dm,this).combinedSignal(xt(cm,this))})),xt(tm,this).ariaExpanded="true",xt(sm,this))return void xt(sm,this).classList.remove("hidden");const t=wt(sm,this,yt(hm,this,mm).call(this));xt(tm,this).append(t)}function ym(e){var t;null!==(t=xt(sm,this))&&void 0!==t&&t.contains(e.target)||this.hideDropdown()}function bm(e){return xt(sm,e)&&!xt(sm,e).classList.contains("hidden")}It=pm;var xm={_:null},wm=new WeakMap,Sm=new WeakMap,km=new WeakMap,Am=new WeakMap,Em=new WeakMap,_m=new WeakMap,jm=new WeakMap,Nm=new WeakMap,Cm=new WeakMap,Mm=new WeakMap,Tm=new WeakMap,Pm=new WeakMap,Im=new WeakMap,Rm=new WeakMap,Lm=new WeakMap,Dm=new WeakMap,Fm=new WeakMap,Om=new WeakMap,Wm=new WeakSet;class Bm extends br{static get _keyboardManager(){const e=Bm.prototype;return Nn(this,"_keyboardManager",new $i([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super(Fe(Fe({},e),{},{name:"highlightEditor"})),gt(this,Wm),vt(this,wm,null),vt(this,Sm,0),vt(this,km,void 0),vt(this,Am,null),vt(this,Em,null),vt(this,_m,null),vt(this,jm,null),vt(this,Nm,0),vt(this,Cm,null),vt(this,Mm,null),vt(this,Tm,null),vt(this,Pm,!1),vt(this,Im,null),vt(this,Rm,void 0),vt(this,Lm,null),vt(this,Dm,""),vt(this,Fm,void 0),vt(this,Om,""),this.color=e.color||Bm._defaultColor,wt(Fm,this,e.thickness||Bm._defaultThickness),wt(Rm,this,e.opacity||Bm._defaultOpacity),wt(km,this,e.boxes||null),wt(Om,this,e.methodOfCreation||""),wt(Dm,this,e.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(wt(Pm,this,!0),yt(Wm,this,zm).call(this,e),yt(Wm,this,Ym).call(this)):xt(km,this)&&(wt(wm,this,e.anchorNode),wt(Sm,this,e.anchorOffset),wt(jm,this,e.focusNode),wt(Nm,this,e.focusOffset),yt(Wm,this,Um).call(this),yt(Wm,this,Ym).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:xt(Pm,this)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:xt(Fm,this),methodOfCreation:xt(Om,this)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,t){var n;br.initialize(e,t),Bm._defaultColor||(Bm._defaultColor=(null===(n=t.highlightColors)||void 0===n?void 0:n.values().next().value)||"#fff066")}static updateDefaultParams(e,t){switch(e){case Jt.HIGHLIGHT_DEFAULT_COLOR:Bm._defaultColor=t;break;case Jt.HIGHLIGHT_THICKNESS:Bm._defaultThickness=t}}translateInPage(e,t){}get toolbarPosition(){return xt(Im,this)}updateParams(e,t){switch(e){case Jt.HIGHLIGHT_COLOR:yt(Wm,this,Hm).call(this,t);break;case Jt.HIGHLIGHT_THICKNESS:yt(Wm,this,Gm).call(this,t)}}static get defaultPropertiesToUpdate(){return[[Jt.HIGHLIGHT_DEFAULT_COLOR,Bm._defaultColor],[Jt.HIGHLIGHT_THICKNESS,Bm._defaultThickness]]}get propertiesToUpdate(){return[[Jt.HIGHLIGHT_COLOR,this.color||Bm._defaultColor],[Jt.HIGHLIGHT_THICKNESS,xt(Fm,this)||Bm._defaultThickness],[Jt.HIGHLIGHT_FREE,xt(Pm,this)]]}get toolbarButtons(){if(this._uiManager.highlightColors){return[["colorPicker",wt(Em,this,new pm({editor:this}))]]}return super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(yt(Wm,this,$m).call(this))}getBaseTranslation(){return[0,0]}getRect(e,t){return super.getRect(e,t,yt(Wm,this,$m).call(this))}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){yt(Wm,this,qm).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(yt(Wm,this,Ym).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;if(this.parent&&!e)yt(Wm,this,qm).call(this);else if(e){var n;yt(Wm,this,Ym).call(this,e),t=!this.parent&&(null===(n=this.div)||void 0===n?void 0:n.classList.contains("selectedEditor"))}super.setParent(e),this.show(this._isVisible),t&&this.select()}rotate(e){const{drawLayer:t}=this.parent;let n;xt(Pm,this)?(e=(e-this.rotation+360)%360,n=Km.call(Bm,xt(Mm,this).box,e)):n=Km.call(Bm,[this.x,this.y,this.width,this.height],e),t.updateProperties(xt(Tm,this),{bbox:n,root:{"data-main-rotation":e}}),t.updateProperties(xt(Lm,this),{bbox:Km.call(Bm,xt(_m,this).box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();xt(Dm,this)&&(e.setAttribute("aria-label",xt(Dm,this)),e.setAttribute("role","mark")),xt(Pm,this)?e.classList.add("free"):this.div.addEventListener("keydown",yt(Wm,this,Xm).bind(this),{signal:this._uiManager._signal});const t=wt(Cm,this,document.createElement("div"));e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal",t.style.clipPath=xt(Am,this);const[n,i]=this.parentDimensions;return this.setDims(this.width*n,this.height*i),Di(this,xt(Cm,this),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){var e;this.isSelected||(null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(xt(Lm,this),{rootClass:{hovered:!0}}))}pointerleave(){var e;this.isSelected||(null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(xt(Lm,this),{rootClass:{hovered:!1}}))}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:yt(Wm,this,Qm).call(this,!0);break;case 1:case 3:yt(Wm,this,Qm).call(this,!1)}}select(){var e;super.select(),xt(Lm,this)&&(null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(xt(Lm,this),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var e;super.unselect(),xt(Lm,this)&&(null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(xt(Lm,this),{rootClass:{selected:!1}}),xt(Pm,this)||yt(Wm,this,Qm).call(this,!1))}get _mustFixPosition(){return!xt(Pm,this)}show(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isVisible;super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(xt(Tm,this),{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(xt(Lm,this),{rootClass:{hidden:!e}}))}static startHighlighting(e,t,n){let{target:i,x:s,y:a}=n;const{x:r,y:o,width:l,height:c}=i.getBoundingClientRect(),d=new AbortController,u=e.combinedSignal(d),h=t=>{d.abort(),yt(Bm,this,tf).call(this,e,t)};window.addEventListener("blur",h,{signal:u}),window.addEventListener("pointerup",h,{signal:u}),window.addEventListener("pointerdown",ai,{capture:!0,passive:!1,signal:u}),window.addEventListener("contextmenu",si,{signal:u}),i.addEventListener("pointermove",yt(Bm,this,ef).bind(this,e),{signal:u}),this._freeHighlight=new Zp({x:s,y:a},[r,o,l,c],e.scale,this._defaultThickness/2,t,.001),({id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0))}static async deserialize(e,t,n){let i=null;if(e instanceof Ah){const{data:{quadPoints:t,rect:n,rotation:s,id:a,color:r,opacity:o,popupRef:l},parent:{page:{pageNumber:c}}}=e;i=e={annotationType:$t.HIGHLIGHT,color:Array.from(r),opacity:o,quadPoints:t,boxes:null,pageIndex:c-1,rect:n.slice(0),rotation:s,annotationElementId:a,id:a,deleted:!1,popupRef:l}}else if(e instanceof Sh){const{data:{inkLists:t,rect:n,rotation:s,id:a,color:r,borderStyle:{rawWidth:o},popupRef:l},parent:{page:{pageNumber:c}}}=e;i=e={annotationType:$t.HIGHLIGHT,color:Array.from(r),thickness:o,inkLists:t,boxes:null,pageIndex:c-1,rect:n.slice(0),rotation:s,annotationElementId:a,id:a,deleted:!1,popupRef:l}}const{color:s,quadPoints:a,inkLists:r,opacity:o}=e,l=await super.deserialize(e,t,n);l.color=Bn.makeHexColor(...s),wt(Rm,l,o||1),r&&wt(Fm,l,e.thickness),l._initialData=i;const[c,d]=l.pageDimensions,[u,h]=l.pageTranslation;if(a){const e=wt(km,l,[]);for(let t=0;t<a.length;t+=8)e.push({x:(a[t]-u)/c,y:1-(a[t+1]-h)/d,width:(a[t+2]-a[t])/c,height:(a[t+1]-a[t+5])/d});yt(Wm,l,Um).call(l),yt(Wm,l,Ym).call(l),l.rotate(l.rotation)}else if(r){wt(Pm,l,!0);const e=r[0],n={x:e[0]-u,y:d-(e[1]-h)},i=new Zp(n,[0,0,c,d],1,xt(Fm,l)/2,!0,.001);for(let t=0,r=e.length;t<r;t+=2)n.x=e[t]-u,n.y=d-(e[t+1]-h),i.add(n);const{id:s,clipPathId:a}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:l.color,"fill-opacity":l._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:i.toSVGPath()}},!0,!0);yt(Wm,l,zm).call(l,{highlightOutlines:i.getOutlines(),highlightId:s,clipPathId:a}),yt(Wm,l,Ym).call(l),l.rotate(l.parentRotation)}return l}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const t=this.getRect(0,0),n=br._colorManager.convert(this.color),i={annotationType:$t.HIGHLIGHT,color:n,opacity:xt(Rm,this),thickness:xt(Fm,this),quadPoints:yt(Wm,this,Jm).call(this),outlines:yt(Wm,this,Zm).call(this,t),pageIndex:this.pageIndex,rect:t,rotation:yt(Wm,this,$m).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!yt(Wm,this,nf).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}function Um(){const e=new Gp(xt(km,this),.001);wt(Mm,this,e.getOutlines()),[this.x,this.y,this.width,this.height]=xt(Mm,this).box;const t=new Gp(xt(km,this),.0025,.001,"ltr"===this._uiManager.direction);wt(_m,this,t.getOutlines());const{lastPoint:n}=xt(_m,this);wt(Im,this,[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height])}function zm(e){let{highlightOutlines:t,highlightId:n,clipPathId:i}=e;wt(Mm,this,t);if(wt(_m,this,t.getNewOutline(xt(Fm,this)/2+1.5,.0025)),n>=0)wt(Tm,this,n),wt(Am,this,i),this.parent.drawLayer.finalizeDraw(n,{bbox:t.box,path:{d:t.toSVGPath()}}),wt(Lm,this,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:xt(_m,this).box,path:{d:xt(_m,this).toSVGPath()}},!0));else if(this.parent){const e=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(xt(Tm,this),{bbox:Km.call(Rt,xt(Mm,this).box,(e-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(xt(Lm,this),{bbox:Km.call(Rt,xt(_m,this).box,e),path:{d:xt(_m,this).toSVGPath()}})}const[s,a,r,o]=t.box;switch(this.rotation){case 0:this.x=s,this.y=a,this.width=r,this.height=o;break;case 90:{const[e,t]=this.parentDimensions;this.x=a,this.y=1-s,this.width=r*t/e,this.height=o*e/t;break}case 180:this.x=1-s,this.y=1-a,this.width=r,this.height=o;break;case 270:{const[e,t]=this.parentDimensions;this.x=1-a,this.y=s,this.width=r*t/e,this.height=o*e/t;break}}const{lastPoint:l}=xt(_m,this);wt(Im,this,[(l[0]-s)/r,(l[1]-a)/o])}function Hm(e){const t=(e,t)=>{var n,i;this.color=e,wt(Rm,this,t),null===(n=this.parent)||void 0===n||n.drawLayer.updateProperties(xt(Tm,this),{root:{fill:e,"fill-opacity":t}}),null===(i=xt(Em,this))||void 0===i||i.updateColor(e)},n=this.color,i=xt(Rm,this);this.addCommands({cmd:t.bind(this,e,Rt._defaultOpacity),undo:t.bind(this,n,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Jt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)}function Gm(e){const t=xt(Fm,this),n=e=>{wt(Fm,this,e),yt(Wm,this,Vm).call(this,e)};this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Jt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}function Vm(e){if(!xt(Pm,this))return;yt(Wm,this,zm).call(this,{highlightOutlines:xt(Mm,this).getNewOutline(e/2)}),this.fixAndSetPosition();const[t,n]=this.parentDimensions;this.setDims(this.width*t,this.height*n)}function qm(){null!==xt(Tm,this)&&this.parent&&(this.parent.drawLayer.remove(xt(Tm,this)),wt(Tm,this,null),this.parent.drawLayer.remove(xt(Lm,this)),wt(Lm,this,null))}function Ym(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parent;null===xt(Tm,this)&&(({id:mt(wt,[Tm,this])._,clipPathId:mt(wt,[Am,this])._}=e.drawLayer.draw({bbox:xt(Mm,this).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":xt(Rm,this)},rootClass:{highlight:!0,free:xt(Pm,this)},path:{d:xt(Mm,this).toSVGPath()}},!1,!0)),wt(Lm,this,e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:xt(Pm,this)},bbox:xt(_m,this).box,path:{d:xt(_m,this).toSVGPath()}},xt(Pm,this))),xt(Cm,this)&&(xt(Cm,this).style.clipPath=xt(Am,this)))}function Km(e,t){let[n,i,s,a]=e;switch(t){case 90:return[1-i-a,n,a,s];case 180:return[1-n-s,1-i-a,s,a];case 270:return[i,1-n-s,a,s]}return[n,i,s,a]}function Xm(e){Rt._keyboardManager.exec(this,e)}function Qm(e){if(!xt(wm,this))return;const t=window.getSelection();e?t.setPosition(xt(wm,this),xt(Sm,this)):t.setPosition(xt(jm,this),xt(Nm,this))}function $m(){return xt(Pm,this)?this.rotation:0}function Jm(){if(xt(Pm,this))return null;const[e,t]=this.pageDimensions,[n,i]=this.pageTranslation,s=xt(km,this),a=new Float32Array(8*s.length);let r=0;for(const{x:o,y:l,width:c,height:d}of s){const s=o*e+n,u=(1-l)*t+i;a[r]=a[r+4]=s,a[r+1]=a[r+3]=u,a[r+2]=a[r+6]=s+c*e,a[r+5]=a[r+7]=u-d*t,r+=8}return a}function Zm(e){return xt(Mm,this).serialize(e,yt(Wm,this,$m).call(this))}function ef(e,t){this._freeHighlight.add(t)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}function tf(e,t){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}function nf(e){const{color:t}=this._initialData;return e.color.some((e,n)=>e!==t[n])}Rt=Bm,Le(Bm,"_defaultColor",null),Le(Bm,"_defaultOpacity",1),Le(Bm,"_defaultThickness",12),Le(Bm,"_type","highlight"),Le(Bm,"_editorType",$t.HIGHLIGHT),Le(Bm,"_freeHighlightId",-1),Le(Bm,"_freeHighlight",null),Le(Bm,"_freeHighlightClipId","");var sf=new WeakMap;class af{constructor(){vt(this,sf,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,n]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,n)}updateSVGProperty(e,t){xt(sf,this)[e]=t}toSVGProperties(){const e=xt(sf,this);return wt(sf,this,Object.create(null)),{root:e}}reset(){wt(sf,this,Object.create(null))}updateAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;this.updateProperties(e)}clone(){An("Not implemented")}}var rf=new WeakMap,of=new WeakMap,lf=new WeakSet;class cf extends br{constructor(e){super(e),gt(this,lf),vt(this,rf,null),vt(this,of,void 0),Le(this,"_drawId",null),wt(of,this,e.mustBeCommitted||!1),this._addOutlines(e)}_addOutlines(e){e.drawOutlines&&(yt(lf,this,df).call(this,e),yt(lf,this,pf).call(this))}static _mergeSVGProperties(e,t){const n=new Set(Object.keys(e));for(const[i,s]of Object.entries(t))n.has(i)?Object.assign(e[i],s):e[i]=s;return e}static getDefaultDrawingOptions(e){An("Not implemented")}static get typesMap(){An("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,t){const n=this.typesMap.get(e);n&&this._defaultDrawingOptions.updateProperty(n,t),this._currentParent&&(yf._.updateProperty(n,t),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,t){const n=this.constructor.typesMap.get(e);n&&this._updateProperty(e,n,t)}static get defaultPropertiesToUpdate(){const e=[],t=this._defaultDrawingOptions;for(const[n,i]of this.typesMap)e.push([n,t[i]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:t}=this;for(const[n,i]of this.constructor.typesMap)e.push([n,t[i]]);return e}_updateProperty(e,t,n){const i=this._drawingOptions,s=i[t],a=e=>{var n;i.updateProperty(t,e);const s=xt(rf,this).updateProperty(t,e);s&&yt(lf,this,gf).call(this,s),null===(n=this.parent)||void 0===n||n.drawLayer.updateProperties(this._drawId,i.toSVGProperties())};this.addCommands({cmd:a.bind(this,n),undo:a.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var e;null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(this._drawId,cf._mergeSVGProperties(xt(rf,this).getPathResizingSVGProperties(yt(lf,this,ff).call(this)),{bbox:yt(lf,this,vf).call(this)}))}_onResized(){var e;null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(this._drawId,cf._mergeSVGProperties(xt(rf,this).getPathResizedSVGProperties(yt(lf,this,ff).call(this)),{bbox:yt(lf,this,vf).call(this)}))}_onTranslating(e,t){var n;null===(n=this.parent)||void 0===n||n.drawLayer.updateProperties(this._drawId,{bbox:yt(lf,this,vf).call(this)})}_onTranslated(){var e;null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(this._drawId,cf._mergeSVGProperties(xt(rf,this).getPathTranslatedSVGProperties(yt(lf,this,ff).call(this),this.parentDimensions),{bbox:yt(lf,this,vf).call(this)}))}_onStartDragging(){var e;null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var e;null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,xt(of,this)&&(wt(of,this,!1),this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){yt(lf,this,hf).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(yt(lf,this,pf).call(this),yt(lf,this,gf).call(this,xt(rf,this).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;if(this.parent&&!e)this._uiManager.removeShouldRescale(this),yt(lf,this,hf).call(this);else if(e){var n;this._uiManager.addShouldRescale(this),yt(lf,this,pf).call(this,e),t=!this.parent&&(null===(n=this.div)||void 0===n?void 0:n.classList.contains("selectedEditor"))}super.setParent(e),t&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,cf._mergeSVGProperties({bbox:yt(lf,this,vf).call(this)},xt(rf,this).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&yt(lf,this,gf).call(this,xt(rf,this).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,t;this._isCopy&&(e=this.x,t=this.y);const n=super.render();n.classList.add("draw");const i=document.createElement("div");n.append(i),i.setAttribute("aria-hidden","true"),i.className="internal";const[s,a]=this.parentDimensions;return this.setDims(this.width*s,this.height*a),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,t),n}static createDrawerInstance(e,t,n,i,s){An("Not implemented")}static startDrawing(e,t,n,i){var s,a;const{target:r,offsetX:o,offsetY:l,pointerId:c,pointerType:d}=i;if(Sf._&&Sf._!==d)return;const{viewport:{rotation:u}}=e,{width:h,height:p}=r.getBoundingClientRect(),m=bf._=new AbortController,f=e.combinedSignal(m);wf._||(wf._=c),null!==(s=Sf._)&&void 0!==s||(Sf._=d),window.addEventListener("pointerup",e=>{var t;wf._===e.pointerId?this._endDraw(e):null===(t=kf._)||void 0===t||t.delete(e.pointerId)},{signal:f}),window.addEventListener("pointercancel",e=>{var t;wf._===e.pointerId?this._currentParent.endDrawingSession():null===(t=kf._)||void 0===t||t.delete(e.pointerId)},{signal:f}),window.addEventListener("pointerdown",e=>{Sf._===e.pointerType&&((kf._||(kf._=new Set)).add(e.pointerId),yf._.isCancellable()&&(yf._.removeLastElement(),yf._.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:f}),window.addEventListener("contextmenu",si,{signal:f}),r.addEventListener("pointermove",this._drawMove.bind(this),{signal:f}),r.addEventListener("touchmove",e=>{e.timeStamp===Af._&&ai(e)},{signal:f}),e.toggleDrawing(),null===(a=t._editorUndoBar)||void 0===a||a.hide(),yf._?e.drawLayer.updateProperties(this._currentDrawId,yf._.startNew(o,l,h,p,u)):(t.updateUIForDefaultProperties(this),yf._=this.createDrawerInstance(o,l,h,p,u),xf._=this.getDefaultDrawingOptions(),this._currentParent=e,({id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(xf._.toSVGProperties(),yf._.defaultSVGProperties),!0,!1)))}static _drawMove(e){var t;if(Af._=-1,!yf._)return;const{offsetX:n,offsetY:i,pointerId:s}=e;wf._===s&&((null===(t=kf._)||void 0===t?void 0:t.size)>=1?this._endDraw(e):(this._currentParent.drawLayer.updateProperties(this._currentDrawId,yf._.add(n,i)),Af._=e.timeStamp,ai(e)))}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,yf._=null,xf._=null,Sf._=null,Af._=NaN),bf._&&(bf._.abort(),bf._=null,wf._=NaN,kf._=null)}static _endDraw(e){const t=this._currentParent;if(t){if(t.toggleDrawing(!0),this._cleanup(!1),(null===e||void 0===e?void 0:e.target)===t.div&&t.drawLayer.updateProperties(this._currentDrawId,yf._.end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const e=yf._,n=this._currentDrawId,i=e.getLastElement();return void t.addCommands({cmd:()=>{t.drawLayer.updateProperties(n,e.setLastElement(i))},undo:()=>{t.drawLayer.updateProperties(n,e.removeLastElement())},mustExec:!1,type:Jt.DRAW_STEP})}this.endDrawing(!1)}}static endDrawing(e){const t=this._currentParent;if(!t)return null;if(t.toggleDrawing(!0),t.cleanUndoStack(Jt.DRAW_STEP),!yf._.isEmpty()){const{pageDimensions:[n,i],scale:s}=t,a=t.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:yf._.getOutlines(n*s,i*s,s,this._INNER_MARGIN),drawingOptions:xf._,mustBeCommitted:!e});return this._cleanup(!0),a}return t.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,t,n,i,s,a){An("Not implemented")}static async deserialize(e,t,n){const{rawDims:{pageWidth:i,pageHeight:s,pageX:a,pageY:r}}=t.viewport,o=this.deserializeDraw(a,r,i,s,this._INNER_MARGIN,e),l=await super.deserialize(e,t,n);return l.createDrawingOptions(e),yt(lf,l,df).call(l,{drawOutlines:o}),yt(lf,l,pf).call(l),l.onScaleChanging(),l.rotate(),l}serializeDraw(e){const[t,n]=this.pageTranslation,[i,s]=this.pageDimensions;return xt(rf,this).serialize([t,n,i,s],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}function df(e){let{drawOutlines:t,drawId:n,drawingOptions:i}=e;wt(rf,this,t),this._drawingOptions||(this._drawingOptions=i),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-".concat(this.editorType,"-added-alert")),n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,t.defaultProperties)):this._drawId=yt(lf,this,uf).call(this,t,this.parent),yt(lf,this,gf).call(this,t.box)}function uf(e,t){const{id:n}=t.drawLayer.draw(Lt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return n}function hf(){null!==this._drawId&&this.parent&&(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}function pf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parent;null!==this._drawId&&this.parent===e||(null===this._drawId?(this._drawingOptions.updateAll(),this._drawId=yt(lf,this,uf).call(this,xt(rf,this),e)):this.parent.drawLayer.updateParent(this._drawId,e.drawLayer))}function mf(e){let[t,n,i,s]=e;const{parentDimensions:[a,r],rotation:o}=this;switch(o){case 90:return[n,1-t,i*(r/a),s*(a/r)];case 180:return[1-t,1-n,i,s];case 270:return[1-n,t,i*(r/a),s*(a/r)];default:return[t,n,i,s]}}function ff(){const{x:e,y:t,width:n,height:i,parentDimensions:[s,a],rotation:r}=this;switch(r){case 90:return[1-t,e,n*(s/a),i*(a/s)];case 180:return[1-e,1-t,n,i];case 270:return[t,1-e,n*(s/a),i*(a/s)];default:return[e,t,n,i]}}function gf(e){if([this.x,this.y,this.width,this.height]=yt(lf,this,mf).call(this,e),this.div){this.fixAndSetPosition();const[e,t]=this.parentDimensions;this.setDims(this.width*e,this.height*t)}this._onResized()}function vf(){const{x:e,y:t,width:n,height:i,rotation:s,parentRotation:a,parentDimensions:[r,o]}=this;switch((4*s+a)/90){case 1:return[1-t-i,e,i,n];case 2:return[1-e-n,1-t-i,n,i];case 3:return[t,1-e-n,i,n];case 4:return[e,t-n*(r/o),i*(o/r),n*(r/o)];case 5:return[1-t,e,n*(r/o),i*(o/r)];case 6:return[1-e-i*(o/r),1-t,i*(o/r),n*(r/o)];case 7:return[t-n*(r/o),1-e-i*(o/r),n*(r/o),i*(o/r)];case 8:return[e-n,t-i,n,i];case 9:return[1-t,e-n,i,n];case 10:return[1-e,1-t,n,i];case 11:return[t-i,1-e,i,n];case 12:return[e-i*(o/r),t,i*(o/r),n*(r/o)];case 13:return[1-t-n*(r/o),e-i*(o/r),n*(r/o),i*(o/r)];case 14:return[1-e,1-t-n*(r/o),i*(o/r),n*(r/o)];case 15:return[t,1-e,n*(r/o),i*(o/r)];default:return[e,t,n,i]}}Lt=cf,Le(cf,"_currentDrawId",-1),Le(cf,"_currentParent",null);var yf={_:null},bf={_:null},xf={_:null},wf={_:NaN},Sf={_:null},kf={_:null},Af={_:NaN};Le(cf,"_INNER_MARGIN",3);var Ef=new WeakMap,_f=new WeakMap,jf=new WeakMap,Nf=new WeakMap,Cf=new WeakMap,Mf=new WeakMap,Tf=new WeakMap,Pf=new WeakMap,If=new WeakMap,Rf=new WeakMap,Lf=new WeakMap,Df=new WeakSet;class Ff{constructor(e,t,n,i,s,a){gt(this,Df),vt(this,Ef,new Float64Array(6)),vt(this,_f,void 0),vt(this,jf,void 0),vt(this,Nf,void 0),vt(this,Cf,void 0),vt(this,Mf,void 0),vt(this,Tf,""),vt(this,Pf,0),vt(this,If,new Xf),vt(this,Rf,void 0),vt(this,Lf,void 0),wt(Rf,this,n),wt(Lf,this,i),wt(Nf,this,s),wt(Cf,this,a),[e,t]=yt(Df,this,Of).call(this,e,t);const r=wt(_f,this,[NaN,NaN,NaN,NaN,e,t]);wt(Mf,this,[e,t]),wt(jf,this,[{line:r,points:xt(Mf,this)}]),xt(Ef,this).set(r,0)}updateProperty(e,t){"stroke-width"===e&&wt(Cf,this,t)}isEmpty(){return!xt(jf,this)||0===xt(jf,this).length}isCancellable(){return xt(Mf,this).length<=10}add(e,t){[e,t]=yt(Df,this,Of).call(this,e,t);const[n,i,s,a]=xt(Ef,this).subarray(2,6),r=e-s,o=t-a;return Math.hypot(xt(Rf,this)*r,xt(Lf,this)*o)<=2?null:(xt(Mf,this).push(e,t),isNaN(n)?(xt(Ef,this).set([s,a,e,t],2),xt(_f,this).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(xt(Ef,this)[0])&&xt(_f,this).splice(6,6),xt(Ef,this).set([n,i,s,a,e,t],0),xt(_f,this).push(...sp.createBezierPoints(n,i,s,a,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const n=this.add(e,t);return n||(2===xt(Mf,this).length?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,n,i,s){wt(Rf,this,n),wt(Lf,this,i),wt(Nf,this,s),[e,t]=yt(Df,this,Of).call(this,e,t);const a=wt(_f,this,[NaN,NaN,NaN,NaN,e,t]);wt(Mf,this,[e,t]);const r=xt(jf,this).at(-1);return r&&(r.line=new Float32Array(r.line),r.points=new Float32Array(r.points)),xt(jf,this).push({line:a,points:xt(Mf,this)}),xt(Ef,this).set(a,0),wt(Pf,this,0),this.toSVGPath(),null}getLastElement(){return xt(jf,this).at(-1)}setLastElement(e){return xt(jf,this)?(xt(jf,this).push(e),wt(_f,this,e.line),wt(Mf,this,e.points),wt(Pf,this,0),{path:{d:this.toSVGPath()}}):xt(If,this).setLastElement(e)}removeLastElement(){if(!xt(jf,this))return xt(If,this).removeLastElement();xt(jf,this).pop(),wt(Tf,this,"");for(let e=0,t=xt(jf,this).length;e<t;e++){const{line:t,points:n}=xt(jf,this)[e];wt(_f,this,t),wt(Mf,this,n),wt(Pf,this,0),this.toSVGPath()}return{path:{d:xt(Tf,this)}}}toSVGPath(){const e=sp.svgRound(xt(_f,this)[4]),t=sp.svgRound(xt(_f,this)[5]);if(2===xt(Mf,this).length)return wt(Tf,this,"".concat(xt(Tf,this)," M ").concat(e," ").concat(t," Z")),xt(Tf,this);if(xt(Mf,this).length<=6){const n=xt(Tf,this).lastIndexOf("M");wt(Tf,this,"".concat(xt(Tf,this).slice(0,n)," M ").concat(e," ").concat(t)),wt(Pf,this,6)}if(4===xt(Mf,this).length){const e=sp.svgRound(xt(_f,this)[10]),t=sp.svgRound(xt(_f,this)[11]);return wt(Tf,this,"".concat(xt(Tf,this)," L ").concat(e," ").concat(t)),wt(Pf,this,12),xt(Tf,this)}const n=[];0===xt(Pf,this)&&(n.push("M ".concat(e," ").concat(t)),wt(Pf,this,6));for(let i=xt(Pf,this),s=xt(_f,this).length;i<s;i+=6){const[e,t,s,a,r,o]=xt(_f,this).slice(i,i+6).map(sp.svgRound);n.push("C".concat(e," ").concat(t," ").concat(s," ").concat(a," ").concat(r," ").concat(o))}return wt(Tf,this,xt(Tf,this)+n.join(" ")),wt(Pf,this,xt(_f,this).length),xt(Tf,this)}getOutlines(e,t,n,i){const s=xt(jf,this).at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),xt(If,this).build(xt(jf,this),e,t,n,xt(Nf,this),xt(Cf,this),i),wt(Ef,this,null),wt(_f,this,null),wt(jf,this,null),wt(Tf,this,null),xt(If,this)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}function Of(e,t){return sp._normalizePoint(e,t,xt(Rf,this),xt(Lf,this),xt(Nf,this))}var Wf=new WeakMap,Bf=new WeakMap,Uf=new WeakMap,zf=new WeakMap,Hf=new WeakMap,Gf=new WeakMap,Vf=new WeakMap,qf=new WeakMap,Yf=new WeakMap,Kf=new WeakSet;class Xf extends sp{constructor(){super(...arguments),gt(this,Kf),vt(this,Wf,void 0),vt(this,Bf,0),vt(this,Uf,void 0),vt(this,zf,void 0),vt(this,Hf,void 0),vt(this,Gf,void 0),vt(this,Vf,void 0),vt(this,qf,void 0),vt(this,Yf,void 0)}build(e,t,n,i,s,a,r){wt(Hf,this,t),wt(Gf,this,n),wt(Vf,this,i),wt(qf,this,s),wt(Yf,this,a),wt(Uf,this,null!==r&&void 0!==r?r:0),wt(zf,this,e),yt(Kf,this,Jf).call(this)}get thickness(){return xt(Yf,this)}setLastElement(e){return xt(zf,this).push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return xt(zf,this).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:t}of xt(zf,this))if(e.push("M".concat(sp.svgRound(t[4])," ").concat(sp.svgRound(t[5]))),6!==t.length)if(12===t.length&&isNaN(t[6]))e.push("L".concat(sp.svgRound(t[10])," ").concat(sp.svgRound(t[11])));else for(let n=6,i=t.length;n<i;n+=6){const[i,s,a,r,o,l]=t.subarray(n,n+6).map(sp.svgRound);e.push("C".concat(i," ").concat(s," ").concat(a," ").concat(r," ").concat(o," ").concat(l))}else e.push("Z");return e.join("")}serialize(e,t){let[n,i,s,a]=e;const r=[],o=[],[l,c,d,u]=yt(Kf,this,$f).call(this);let h,p,m,f,g,v,y,b,x;switch(xt(qf,this)){case 0:x=sp._rescale,h=n,p=i+a,m=s,f=-a,g=n+l*s,v=i+(1-c-u)*a,y=n+(l+d)*s,b=i+(1-c)*a;break;case 90:x=sp._rescaleAndSwap,h=n,p=i,m=s,f=a,g=n+c*s,v=i+l*a,y=n+(c+u)*s,b=i+(l+d)*a;break;case 180:x=sp._rescale,h=n+s,p=i,m=-s,f=a,g=n+(1-l-d)*s,v=i+c*a,y=n+(1-l)*s,b=i+(c+u)*a;break;case 270:x=sp._rescaleAndSwap,h=n+s,p=i+a,m=-s,f=-a,g=n+(1-c-u)*s,v=i+(1-l-d)*a,y=n+(1-c)*s,b=i+(1-l)*a}for(const{line:w,points:S}of xt(zf,this))r.push(x(w,h,p,m,f,t?new Array(w.length):null)),o.push(x(S,h,p,m,f,t?new Array(S.length):null));return{lines:r,points:o,rect:[g,v,y,b]}}static deserialize(e,t,n,i,s,a){let{paths:{lines:r,points:o},rotation:l,thickness:c}=a;const d=[];let u,h,p,m,f;switch(l){case 0:f=sp._rescale,u=-e/n,h=t/i+1,p=1/n,m=-1/i;break;case 90:f=sp._rescaleAndSwap,u=-t/i,h=-e/n,p=1/i,m=1/n;break;case 180:f=sp._rescale,u=e/n+1,h=-t/i,p=-1/n,m=1/i;break;case 270:f=sp._rescaleAndSwap,u=t/i+1,h=e/n+1,p=-1/i,m=-1/n}if(!r){r=[];for(const e of o){const t=e.length;if(2===t){r.push(new Float32Array([NaN,NaN,NaN,NaN,e[0],e[1]]));continue}if(4===t){r.push(new Float32Array([NaN,NaN,NaN,NaN,e[0],e[1],NaN,NaN,NaN,NaN,e[2],e[3]]));continue}const n=new Float32Array(3*(t-2));r.push(n);let[i,s,a,o]=e.subarray(0,4);n.set([NaN,NaN,NaN,NaN,i,s],0);for(let r=4;r<t;r+=2){const t=e[r],l=e[r+1];n.set(sp.createBezierPoints(i,s,a,o,t,l),3*(r-2)),[i,s,a,o]=[a,o,t,l]}}}for(let v=0,y=r.length;v<y;v++)d.push({line:f(r[v].map(e=>null!==e&&void 0!==e?e:NaN),u,h,p,m),points:f(o[v].map(e=>null!==e&&void 0!==e?e:NaN),u,h,p,m)});const g=new this.prototype.constructor;return g.build(d,n,i,1,l,c,s),g}get box(){return xt(Wf,this)}updateProperty(e,t){return"stroke-width"===e?yt(Kf,this,Zf).call(this,t):null}updateParentDimensions(e,t){let[n,i]=e;const[s,a]=yt(Kf,this,Qf).call(this);wt(Hf,this,n),wt(Gf,this,i),wt(Vf,this,t);const[r,o]=yt(Kf,this,Qf).call(this),l=r-s,c=o-a,d=xt(Wf,this);return d[0]-=l,d[1]-=c,d[2]+=2*l,d[3]+=2*c,d}updateRotation(e){return wt(Bf,this,e),{path:{transform:this.rotationTransform}}}get viewBox(){return xt(Wf,this).map(sp.svgRound).join(" ")}get defaultProperties(){const[e,t]=xt(Wf,this);return{root:{viewBox:this.viewBox},path:{"transform-origin":"".concat(sp.svgRound(e)," ").concat(sp.svgRound(t))}}}get rotationTransform(){const[,,e,t]=xt(Wf,this);let n=0,i=0,s=0,a=0,r=0,o=0;switch(xt(Bf,this)){case 90:i=t/e,s=-e/t,r=e;break;case 180:n=-1,a=-1,r=e,o=t;break;case 270:i=-t/e,s=e/t,o=t;break;default:return""}return"matrix(".concat(n," ").concat(i," ").concat(s," ").concat(a," ").concat(sp.svgRound(r)," ").concat(sp.svgRound(o),")")}getPathResizingSVGProperties(e){let[t,n,i,s]=e;const[a,r]=yt(Kf,this,Qf).call(this),[o,l,c,d]=xt(Wf,this);if(Math.abs(c-a)<=sp.PRECISION||Math.abs(d-r)<=sp.PRECISION){const e=t+i/2-(o+c/2),a=n+s/2-(l+d/2);return{path:{"transform-origin":"".concat(sp.svgRound(t)," ").concat(sp.svgRound(n)),transform:"".concat(this.rotationTransform," translate(").concat(e," ").concat(a,")")}}}const u=(i-2*a)/(c-2*a),h=(s-2*r)/(d-2*r),p=c/i,m=d/s;return{path:{"transform-origin":"".concat(sp.svgRound(o)," ").concat(sp.svgRound(l)),transform:"".concat(this.rotationTransform," scale(").concat(p," ").concat(m,") ")+"translate(".concat(sp.svgRound(a)," ").concat(sp.svgRound(r),") scale(").concat(u," ").concat(h,") ")+"translate(".concat(sp.svgRound(-a)," ").concat(sp.svgRound(-r),")")}}}getPathResizedSVGProperties(e){let[t,n,i,s]=e;const[a,r]=yt(Kf,this,Qf).call(this),o=xt(Wf,this),[l,c,d,u]=o;if(o[0]=t,o[1]=n,o[2]=i,o[3]=s,Math.abs(d-a)<=sp.PRECISION||Math.abs(u-r)<=sp.PRECISION){const e=t+i/2-(l+d/2),a=n+s/2-(c+u/2);for(const{line:t,points:n}of xt(zf,this))sp._translate(t,e,a,t),sp._translate(n,e,a,n);return{root:{viewBox:this.viewBox},path:{"transform-origin":"".concat(sp.svgRound(t)," ").concat(sp.svgRound(n)),transform:this.rotationTransform||null,d:this.toSVGPath()}}}const h=(i-2*a)/(d-2*a),p=(s-2*r)/(u-2*r),m=-h*(l+a)+t+a,f=-p*(c+r)+n+r;if(1!==h||1!==p||0!==m||0!==f)for(const{line:g,points:v}of xt(zf,this))sp._rescale(g,m,f,h,p,g),sp._rescale(v,m,f,h,p,v);return{root:{viewBox:this.viewBox},path:{"transform-origin":"".concat(sp.svgRound(t)," ").concat(sp.svgRound(n)),transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties(e,t){let[n,i]=e;const[s,a]=t,r=xt(Wf,this),o=n-r[0],l=i-r[1];if(xt(Hf,this)===s&&xt(Gf,this)===a)for(const{line:c,points:d}of xt(zf,this))sp._translate(c,o,l,c),sp._translate(d,o,l,d);else{const e=xt(Hf,this)/s,t=xt(Gf,this)/a;wt(Hf,this,s),wt(Gf,this,a);for(const{line:n,points:i}of xt(zf,this))sp._rescale(n,o,l,e,t,n),sp._rescale(i,o,l,e,t,i);r[2]*=e,r[3]*=t}return r[0]=n,r[1]=i,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":"".concat(sp.svgRound(n)," ").concat(sp.svgRound(i))}}}get defaultSVGProperties(){const e=xt(Wf,this);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":"".concat(sp.svgRound(e[0])," ").concat(sp.svgRound(e[1])),transform:this.rotationTransform||null},bbox:e}}}function Qf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt(Yf,this);const t=xt(Uf,this)+e/2*xt(Vf,this);return xt(qf,this)%180===0?[t/xt(Hf,this),t/xt(Gf,this)]:[t/xt(Gf,this),t/xt(Hf,this)]}function $f(){const[e,t,n,i]=xt(Wf,this),[s,a]=yt(Kf,this,Qf).call(this,0);return[e+s,t+a,n-2*s,i-2*a]}function Jf(){const e=wt(Wf,this,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:i}of xt(zf,this)){if(i.length<=12){for(let t=4,n=i.length;t<n;t+=6)Bn.pointBoundingBox(i[t],i[t+1],e);continue}let t=i[4],n=i[5];for(let s=6,a=i.length;s<a;s+=6){const[a,r,o,l,c,d]=i.subarray(s,s+6);Bn.bezierBoundingBox(t,n,a,r,o,l,c,d,e),t=c,n=d}}const[t,n]=yt(Kf,this,Qf).call(this);e[0]=Yn(e[0]-t,0,1),e[1]=Yn(e[1]-n,0,1),e[2]=Yn(e[2]+t,0,1),e[3]=Yn(e[3]+n,0,1),e[2]-=e[0],e[3]-=e[1]}function Zf(e){const[t,n]=yt(Kf,this,Qf).call(this);wt(Yf,this,e);const[i,s]=yt(Kf,this,Qf).call(this),[a,r]=[i-t,s-n],o=xt(Wf,this);return o[0]-=a,o[1]-=r,o[2]+=2*a,o[3]+=2*r,o}class eg extends af{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:br._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){"stroke-width"===e&&(null!==t&&void 0!==t||(t=this["stroke-width"]),t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new eg(this._viewParameters);return e.updateAll(this),e}}var tg=new WeakSet;class ng extends cf{constructor(e){super(Fe(Fe({},e),{},{name:"inkEditor"})),gt(this,tg),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,t){br.initialize(e,t),this._defaultDrawingOptions=new eg(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!0}static get typesMap(){return Nn(this,"typesMap",new Map([[Jt.INK_THICKNESS,"stroke-width"],[Jt.INK_COLOR,"stroke"],[Jt.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,t,n,i,s){return new Ff(e,t,n,i,s,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,t,n,i,s,a){return Xf.deserialize(e,t,n,i,s,a)}static async deserialize(e,t,n){let i=null;if(e instanceof Sh){const{data:{inkLists:t,rect:n,rotation:s,id:a,color:r,opacity:o,borderStyle:{rawWidth:l},popupRef:c},parent:{page:{pageNumber:d}}}=e;i=e={annotationType:$t.INK,color:Array.from(r),thickness:l,opacity:o,paths:{points:t},boxes:null,pageIndex:d-1,rect:n.slice(0),rotation:s,annotationElementId:a,id:a,deleted:!1,popupRef:c}}const s=await super.deserialize(e,t,n);return s._initialData=i,s}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:t,parent:n}=this;t.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(e,t.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions(e){let{color:t,thickness:n,opacity:i}=e;this._drawingOptions=ng.getDefaultDrawingOptions({stroke:Bn.makeHexColor(...t),"stroke-width":n,"stroke-opacity":i})}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:t,points:n,rect:i}=this.serializeDraw(e),{_drawingOptions:{stroke:s,"stroke-opacity":a,"stroke-width":r}}=this,o={annotationType:$t.INK,color:br._colorManager.convert(s),opacity:a,thickness:r,paths:{lines:t,points:n},pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?(o.isCopy=!0,o):this.annotationElementId&&!yt(tg,this,ig).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(e){const{points:t,rect:n}=this.serializeDraw(!1);return e.updateEdited({rect:n,thickness:this._drawingOptions["stroke-width"],points:t}),null}}function ig(e){const{color:t,thickness:n,opacity:i,pageIndex:s}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||e.color.some((e,n)=>e!==t[n])||e.thickness!==n||e.opacity!==i||e.pageIndex!==s}Le(ng,"_type","ink"),Le(ng,"_editorType",$t.INK),Le(ng,"_defaultDrawingOptions",null);class sg extends Xf{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}class ag{static extractContoursFromText(e,t,n,i,s,a){let{fontFamily:r,fontStyle:o,fontWeight:l}=t,c=new OffscreenCanvas(1,1),d=c.getContext("2d",{alpha:!1});const u=d.font="".concat(o," ").concat(l," ").concat(200,"px ").concat(r),{actualBoundingBoxLeft:h,actualBoundingBoxRight:p,actualBoundingBoxAscent:m,actualBoundingBoxDescent:f,fontBoundingBoxAscent:g,fontBoundingBoxDescent:v,width:y}=d.measureText(e),b=1.5,x=Math.ceil(Math.max(Math.abs(h)+Math.abs(p)||0,y)*b),w=Math.ceil(Math.max(Math.abs(m)+Math.abs(f)||200,Math.abs(g)+Math.abs(v)||200)*b);c=new OffscreenCanvas(x,w),d=c.getContext("2d",{alpha:!0,willReadFrequently:!0}),d.font=u,d.filter="grayscale(1)",d.fillStyle="white",d.fillRect(0,0,x,w),d.fillStyle="black",d.fillText(e,.5*x/2,1.5*w/2);const S=yt(ag,this,mg).call(this,d.getImageData(0,0,x,w).data),k=yt(ag,this,pg).call(this,S),A=yt(ag,this,fg).call(this,k),E=yt(ag,this,cg).call(this,S,x,w,A);return this.processDrawnLines({lines:{curves:E,width:x,height:w},pageWidth:n,pageHeight:i,rotation:s,innerMargin:a,mustSmooth:!0,areContours:!0})}static process(e,t,n,i,s){const[a,r,o]=yt(ag,this,gg).call(this,e),[l,c]=yt(ag,this,hg).call(this,a,r,o,Math.hypot(r,o)*yt(ag,this,vg)._.sigmaSFactor,yt(ag,this,vg)._.sigmaR,yt(ag,this,vg)._.kernelSize),d=yt(ag,this,fg).call(this,c),u=yt(ag,this,cg).call(this,l,r,o,d);return this.processDrawnLines({lines:{curves:u,width:r,height:o},pageWidth:t,pageHeight:n,rotation:i,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines(e){var t;let{lines:n,pageWidth:i,pageHeight:s,rotation:a,innerMargin:r,mustSmooth:o,areContours:l}=e;a%180!==0&&([i,s]=[s,i]);const{curves:c,width:d,height:u}=n,h=null!==(t=n.thickness)&&void 0!==t?t:0,p=[],m=Math.min(i/d,s/u),f=m/i,g=m/s,v=[];for(const{points:b}of c){const e=o?yt(ag,this,ug).call(this,b):b;if(!e)continue;v.push(e);const t=e.length,n=new Float32Array(t),i=new Float32Array(3*(2===t?2:t-2));if(p.push({line:i,points:n}),2===t){n[0]=e[0]*f,n[1]=e[1]*g,i.set([NaN,NaN,NaN,NaN,n[0],n[1]],0);continue}let[s,a,r,l]=e;s*=f,a*=g,r*=f,l*=g,n.set([s,a,r,l],0),i.set([NaN,NaN,NaN,NaN,s,a],0);for(let o=4;o<t;o+=2){const t=n[o]=e[o]*f,c=n[o+1]=e[o+1]*g;i.set(sp.createBezierPoints(s,a,r,l,t,c),3*(o-2)),[s,a,r,l]=[r,l,t,c]}}if(0===p.length)return null;const y=l?new sg:new Xf;return y.build(p,i,s,1,a,l?0:h,r),{outline:y,newCurves:v,areContours:l,thickness:h,width:d,height:u}}static async compressSignature(e){let t,{outlines:n,areContours:i,thickness:s,width:a,height:r}=e,o=1/0,l=-1/0,c=0;for(const y of n){c+=y.length;for(let e=2,t=y.length;e<t;e++){const t=y[e]-y[e-2];o=Math.min(o,t),l=Math.max(l,t)}}t=o>=-128&&l<=127?Int8Array:o>=-32768&&l<=32767?Int16Array:Int32Array;const d=n.length,u=8+3*d,h=new Uint32Array(u);let p=0;h[p++]=u*Uint32Array.BYTES_PER_ELEMENT+(c-2*d)*t.BYTES_PER_ELEMENT,h[p++]=0,h[p++]=a,h[p++]=r,h[p++]=i?0:1,h[p++]=Math.max(0,Math.floor(null!==s&&void 0!==s?s:0)),h[p++]=d,h[p++]=t.BYTES_PER_ELEMENT;for(const y of n)h[p++]=y.length-2,h[p++]=y[0],h[p++]=y[1];const m=new CompressionStream("deflate-raw"),f=m.writable.getWriter();await f.ready,f.write(h);const g=t.prototype.constructor;for(const y of n){const e=new g(y.length-2);for(let t=2,n=y.length;t<n;t++)e[t-2]=y[t]-y[t-2];f.write(e)}f.close();const v=await new Response(m.readable).arrayBuffer();return Kn(new Uint8Array(v))}static async decompressSignature(e){try{const l=(r=e,Uint8Array.fromBase64?Uint8Array.fromBase64(r):Fn(atob(r))),{readable:c,writable:d}=new DecompressionStream("deflate-raw"),u=d.getWriter();await u.ready,u.write(l).then(async()=>{await u.ready,await u.close()}).catch(()=>{});let h=null,p=0;var t,n=!1,i=!1;try{for(var s,a=function(e){var t,n,i,s=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,i=Symbol.iterator);s--;){if(n&&null!=(t=e[n]))return t.call(e);if(i&&null!=(t=e[i]))return new St(t.call(e));n="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")}(c);n=!(s=await a.next()).done;n=!1){const e=s.value;h||(h=new Uint8Array(new Uint32Array(e.buffer,0,4)[0])),h.set(e,p),p+=e.length}}catch(o){i=!0,t=o}finally{try{n&&null!=a.return&&await a.return()}finally{if(i)throw t}}const m=new Uint32Array(h.buffer,0,h.length>>2),f=m[1];if(0!==f)throw new Error("Invalid version: ".concat(f));const g=m[2],v=m[3],y=0===m[4],b=m[5],x=m[6],w=m[7],S=[],k=(8+3*x)*Uint32Array.BYTES_PER_ELEMENT;let A;switch(w){case Int8Array.BYTES_PER_ELEMENT:A=new Int8Array(h.buffer,k);break;case Int16Array.BYTES_PER_ELEMENT:A=new Int16Array(h.buffer,k);break;case Int32Array.BYTES_PER_ELEMENT:A=new Int32Array(h.buffer,k)}p=0;for(let e=0;e<x;e++){const t=m[3*e+8],n=new Float32Array(t+2);S.push(n);for(let i=0;i<2;i++)n[i]=m[3*e+8+i+1];for(let e=0;e<t;e++)n[e+2]=n[e]+A[p++]}return{areContours:y,thickness:b,outlines:S,width:g,height:v}}catch(Fy){return kn("decompressSignature: ".concat(Fy)),null}var r}}function rg(e,t,n,i){return i-=t,0===(n-=e)?i>0?0:4:1===n?i+6:2-i}function og(e,t,n,i,s,a,r){const o=yt(Dt,this,rg).call(this,n,i,s,a);for(let l=0;l<8;l++){const s=(-l+o-r+16)%8;if(0!==e[(n+yt(Dt,this,yg)._[2*s])*t+(i+yt(Dt,this,yg)._[2*s+1])])return s}return-1}function lg(e,t,n,i,s,a,r){const o=yt(Dt,this,rg).call(this,n,i,s,a);for(let l=0;l<8;l++){const s=(l+o+r+16)%8;if(0!==e[(n+yt(Dt,this,yg)._[2*s])*t+(i+yt(Dt,this,yg)._[2*s+1])])return s}return-1}function cg(e,t,n,i){const s=e.length,a=new Int32Array(s);for(let c=0;c<s;c++)a[c]=e[c]<=i?1:0;for(let c=1;c<n-1;c++)a[c*t]=a[c*t+t-1]=0;for(let c=0;c<t;c++)a[c]=a[t*n-1-c]=0;let r,o=1;const l=[];for(let c=1;c<n-1;c++){r=1;for(let e=1;e<t-1;e++){const n=c*t+e,i=a[n];if(0===i)continue;let s=c,d=e;if(1===i&&0===a[n-1])o+=1,d-=1;else{if(!(i>=1&&0===a[n+1])){1!==i&&(r=Math.abs(i));continue}o+=1,d+=1,i>1&&(r=i)}const u=[e,c],h=d===e+1,p={isHole:h,points:u,id:o,parent:0};let m;l.push(p);for(const e of l)if(e.id===r){m=e;break}m?m.isHole?p.parent=h?m.parent:r:p.parent=h?r:m.parent:p.parent=h?r:0;const f=yt(Dt,this,og).call(this,a,t,c,e,s,d,0);if(-1===f){a[n]=-o,1!==a[n]&&(r=Math.abs(a[n]));continue}let g=yt(Dt,this,yg)._[2*f],v=yt(Dt,this,yg)._[2*f+1];const y=c+g,b=e+v;s=y,d=b;let x=c,w=e;for(;;){const i=yt(Dt,this,lg).call(this,a,t,x,w,s,d,1);g=yt(Dt,this,yg)._[2*i],v=yt(Dt,this,yg)._[2*i+1];const l=x+g,h=w+v;u.push(h,l);const p=x*t+w;if(0===a[p+1]?a[p]=-o:1===a[p]&&(a[p]=o),l===c&&h===e&&x===y&&w===b){1!==a[n]&&(r=Math.abs(a[n]));break}s=x,d=w,x=l,w=h}}}return l}function dg(e,t,n,i){if(n-t<=4){for(let s=t;s<n-2;s+=2)i.push(e[s],e[s+1]);return}const s=e[t],a=e[t+1],r=e[n-4]-s,o=e[n-3]-a,l=Math.hypot(r,o),c=r/l,d=o/l,u=c*a-d*s,h=o/r,p=1/l,m=Math.atan(h),f=Math.cos(m),g=Math.sin(m),v=p*(Math.abs(f)+Math.abs(g)),y=p*(1-v+v**2),b=Math.max(Math.atan(Math.abs(g+f)*y),Math.atan(Math.abs(g-f)*y));let x=0,w=t;for(let S=t+2;S<n-2;S+=2){const t=Math.abs(u-c*e[S+1]+d*e[S]);t>x&&(w=S,x=t)}x>(l*b)**2?(yt(Dt,this,dg).call(this,e,t,w+2,i),yt(Dt,this,dg).call(this,e,w,n,i)):i.push(s,a)}function ug(e){const t=[],n=e.length;return yt(Dt,this,dg).call(this,e,0,n,t),t.push(e[n-2],e[n-1]),t.length<=4?null:t}function hg(e,t,n,i,s,a){const r=new Float32Array(a**2),o=-2*i**2,l=a>>1;for(let m=0;m<a;m++){const e=(m-l)**2;for(let t=0;t<a;t++)r[m*a+t]=Math.exp((e+(t-l)**2)/o)}const c=new Float32Array(256),d=-2*s**2;for(let m=0;m<256;m++)c[m]=Math.exp(m**2/d);const u=e.length,h=new Uint8Array(u),p=new Uint32Array(256);for(let m=0;m<n;m++)for(let i=0;i<t;i++){const s=m*t+i,o=e[s];let d=0,u=0;for(let h=0;h<a;h++){const s=m+h-l;if(!(s<0||s>=n))for(let n=0;n<a;n++){const p=i+n-l;if(p<0||p>=t)continue;const m=e[s*t+p],f=r[h*a+n]*c[Math.abs(m-o)];d+=m*f,u+=f}}p[h[s]=Math.round(d/u)]++}return[h,p]}function pg(e){const t=new Uint32Array(256);for(const n of e)t[n]++;return t}function mg(e){const t=e.length,n=new Uint8ClampedArray(t>>2);let i=-1/0,s=1/0;for(let r=0,o=n.length;r<o;r++){if(0===e[3+(r<<2)]){i=n[r]=255;continue}const t=n[r]=e[r<<2];t>i&&(i=t),t<s&&(s=t)}const a=255/(i-s);for(let r=0;r<t;r++)n[r]=(n[r]-s)*a;return n}function fg(e){let t,n=-1/0,i=-1/0;const s=e.findIndex(e=>0!==e);let a=s,r=s;for(t=s;t<256;t++){const s=e[t];s>n&&(t-a>i&&(i=t-a,r=t-1),n=s,a=t)}for(t=r-1;t>=0&&!(e[t]>e[t+1]);t--);return t}function gg(e){const t=e,{width:n,height:i}=e,{maxDim:s}=yt(Dt,this,vg)._;let a=n,r=i;if(n>s||i>s){let o=n,l=i,c=Math.log2(Math.max(n,i)/s);const d=Math.floor(c);c=c===d?d-1:d;for(let n=0;n<c;n++){a=Math.ceil(o/2),r=Math.ceil(l/2);const n=new OffscreenCanvas(a,r);n.getContext("2d").drawImage(e,0,0,o,l,0,0,a,r),o=a,l=r,e!==t&&e.close(),e=n.transferToImageBitmap()}const u=Math.min(s/a,s/r);a=Math.round(a*u),r=Math.round(r*u)}const o=new OffscreenCanvas(a,r).getContext("2d",{willReadFrequently:!0});o.filter="grayscale(1)",o.drawImage(e,0,0,e.width,e.height,0,0,a,r);const l=o.getImageData(0,0,a,r).data;return[yt(Dt,this,mg).call(this,l),a,r]}Dt=ag;var vg={_:{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}},yg={_:new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1])};class bg extends af{constructor(){super(),super.updateProperties({fill:br._defaultLineColor,"stroke-width":0})}clone(){const e=new bg;return e.updateAll(this),e}}class xg extends eg{constructor(e){super(e),super.updateProperties({stroke:br._defaultLineColor,"stroke-width":1})}clone(){const e=new xg(this._viewParameters);return e.updateAll(this),e}}var wg=new WeakMap,Sg=new WeakMap,kg=new WeakMap,Ag=new WeakMap;class Eg extends cf{constructor(e){super(Fe(Fe({},e),{},{mustBeCommitted:!0,name:"signatureEditor"})),vt(this,wg,!1),vt(this,Sg,null),vt(this,kg,null),vt(this,Ag,null),this._willKeepAspectRatio=!0,wt(kg,this,e.signatureData||null),wt(Sg,this,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,t){br.initialize(e,t),this._defaultDrawingOptions=new bg,this._defaultDrawnSignatureOptions=new xg(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!1}static get typesMap(){return Nn(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!xt(Sg,this)}}static computeTelemetryFinalData(e){var t,n;const i=e.get("hasDescription");return{hasAltText:null!==(t=i.get(!0))&&void 0!==t?t:0,hasNoAltText:null!==(n=i.get(!1))&&void 0!==n?n:0}}get isResizable(){return!0}onScaleChanging(){null!==this._drawId&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,t;const{_isCopy:n}=this;if(n&&(this._isCopy=!1,e=this.x,t=this.y),super.render(),null===this._drawId)if(xt(kg,this)){const{lines:e,mustSmooth:t,areContours:n,description:i,uuid:s,heightInPage:a}=xt(kg,this),{rawDims:{pageWidth:r,pageHeight:o},rotation:l}=this.parent.viewport,c=ag.processDrawnLines({lines:e,pageWidth:r,pageHeight:o,rotation:l,innerMargin:Eg._INNER_MARGIN,mustSmooth:t,areContours:n});this.addSignature(c,a,i,s)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);return n&&(this._isCopy=!0,this._moveAfterPaste(e,t)),this.div}setUuid(e){wt(Ag,this,e),this.addEditToolbar()}getUuid(){return xt(Ag,this)}get description(){return xt(Sg,this)}set description(e){wt(Sg,this,e),super.addEditToolbar().then(t=>{null===t||void 0===t||t.updateEditSignatureButton(e)})}getSignaturePreview(){const{newCurves:e,areContours:t,thickness:n,width:i,height:s}=xt(kg,this),a=Math.max(i,s);return{areContours:t,outline:ag.processDrawnLines({lines:{curves:e.map(e=>({points:e})),thickness:n,width:i,height:s},pageWidth:a,pageHeight:a,rotation:0,innerMargin:0,mustSmooth:!1,areContours:t}).outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(e,t,n,i){const{x:s,y:a}=this,{outline:r}=wt(kg,this,e);let o;wt(wg,this,r instanceof sg),this.description=n,this.div.setAttribute("data-l10n-args",JSON.stringify({description:n})),xt(wg,this)?o=Eg.getDefaultDrawingOptions():(o=Eg._defaultDrawnSignatureOptions.clone(),o.updateProperties({"stroke-width":r.thickness})),this._addOutlines({drawOutlines:r,drawingOptions:o});const[l,c]=this.parentDimensions,[,d]=this.pageDimensions;let u=t/d;u=u>=1?.5:u,this.width*=u/this.height,this.width>=1&&(u*=.9/this.width,this.width=.9),this.height=u,this.setDims(l*this.width,c*this.height),this.x=s,this.y=a,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(i),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!i,hasDescription:!!n}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:t,pageHeight:n},rotation:i}=this.parent.viewport;return ag.process(e,t,n,i,Eg._INNER_MARGIN)}getFromText(e,t){const{rawDims:{pageWidth:n,pageHeight:i},rotation:s}=this.parent.viewport;return ag.extractContoursFromText(e,t,n,i,s,Eg._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:t,pageHeight:n},rotation:i}=this.parent.viewport;return ag.processDrawnLines({lines:e,pageWidth:t,pageHeight:n,rotation:i,innerMargin:Eg._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions(e){let{areContours:t,thickness:n}=e;t?this._drawingOptions=Eg.getDefaultDrawingOptions():(this._drawingOptions=Eg._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":n}))}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return null;const{lines:t,points:n,rect:i}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":s}}=this,a={annotationType:$t.SIGNATURE,isSignature:!0,areContours:xt(wg,this),color:[0,0,0],thickness:xt(wg,this)?0:s,pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?(a.paths={lines:t,points:n},a.uuid=xt(Ag,this),a.isCopy=!0):a.lines=t,xt(Sg,this)&&(a.accessibilityData={type:"Figure",alt:xt(Sg,this)}),a}static deserializeDraw(e,t,n,i,s,a){return a.areContours?sg.deserialize(e,t,n,i,s,a):Xf.deserialize(e,t,n,i,s,a)}static async deserialize(e,t,n){var i;const s=await super.deserialize(e,t,n);return wt(wg,s,e.areContours),wt(Sg,s,(null===(i=e.accessibilityData)||void 0===i?void 0:i.alt)||""),wt(Ag,s,e.uuid),s}}Le(Eg,"_type","signature"),Le(Eg,"_editorType",$t.SIGNATURE),Le(Eg,"_defaultDrawingOptions",null);var _g=new WeakMap,jg=new WeakMap,Ng=new WeakMap,Cg=new WeakMap,Mg=new WeakMap,Tg=new WeakMap,Pg=new WeakMap,Ig=new WeakMap,Rg=new WeakMap,Lg=new WeakMap,Dg=new WeakMap,Fg=new WeakSet;class Og extends br{constructor(e){super(Fe(Fe({},e),{},{name:"stampEditor"})),gt(this,Fg),vt(this,_g,null),vt(this,jg,null),vt(this,Ng,null),vt(this,Cg,null),vt(this,Mg,null),vt(this,Tg,""),vt(this,Pg,null),vt(this,Ig,!1),vt(this,Rg,null),vt(this,Lg,!1),vt(this,Dg,!1),wt(Cg,this,e.bitmapUrl),wt(Mg,this,e.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,t){br.initialize(e,t)}static isHandlingMimeForPasting(e){return pi.includes(e)}static paste(e,t){t.pasteEditor({mode:$t.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!(null===(e=this.altTextData)||void 0===e||!e.altText)}}static computeTelemetryFinalData(e){var t,n;const i=e.get("hasAltText");return{hasAltText:null!==(t=i.get(!0))&&void 0!==t?t:0,hasNoAltText:null!==(n=i.get(!1))&&void 0!==n?n:0}}async mlGuessAltText(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.hasAltTextData())return null;const{mlManager:n}=this._uiManager;if(!n)throw new Error("No ML.");if(!await n.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:i,width:s,height:a}=e||this.copyCanvas(null,null,!0).imageData,r=await n.guess({name:"altText",request:{data:i,width:s,height:a,channels:i.length/(s*a)}});if(!r)throw new Error("No response from the AI service.");if(r.error)throw new Error("Error from the AI service.");if(r.cancel)return null;if(!r.output)throw new Error("No valid response from the AI service.");const o=r.output;return await this.setGuessedAltText(o),t&&!this.hasAltTextData()&&(this.altTextData={alt:o,decorative:!1}),o}remove(){var e;xt(jg,this)&&(wt(_g,this,null),this._uiManager.imageManager.deleteId(xt(jg,this)),null===(e=xt(Pg,this))||void 0===e||e.remove(),wt(Pg,this,null),xt(Rg,this)&&(clearTimeout(xt(Rg,this)),wt(Rg,this,null)));super.remove()}rebuild(){this.parent?(super.rebuild(),null!==this.div&&(xt(jg,this)&&null===xt(Pg,this)&&yt(Fg,this,Ug).call(this),this.isAttachedToDOM||this.parent.add(this))):xt(jg,this)&&yt(Fg,this,Ug).call(this)}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(xt(Ng,this)||xt(_g,this)||xt(Cg,this)||xt(Mg,this)||xt(jg,this)||xt(Ig,this))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;return this._isCopy&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.createAltText(),xt(Ig,this)||(xt(_g,this)?yt(Fg,this,zg).call(this):yt(Fg,this,Ug).call(this)),this._isCopy&&this._moveAfterPaste(e,t),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,t){const{id:n,bitmap:i}=this._uiManager.imageManager.getFromCanvas(e,t);t.remove(),n&&this._uiManager.imageManager.isValidId(n)&&(wt(jg,this,n),i&&wt(_g,this,i),wt(Ig,this,!1),yt(Fg,this,zg).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;null!==xt(Rg,this)&&clearTimeout(xt(Rg,this));wt(Rg,this,setTimeout(()=>{wt(Rg,this,null),yt(Fg,this,Gg).call(this)},200))}copyCanvas(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e||(e=224);const{width:i,height:s}=xt(_g,this),a=new hi;let r=xt(_g,this),o=i,l=s,c=null;if(t){var d,u;if(i>t||s>t){const e=Math.min(t/i,t/s);o=Math.floor(i*e),l=Math.floor(s*e)}c=document.createElement("canvas");const e=c.width=Math.ceil(o*a.sx),n=c.height=Math.ceil(l*a.sy);xt(Lg,this)||(r=yt(Fg,this,Hg).call(this,e,n));const h=c.getContext("2d");h.filter=this._uiManager.hcmFilter;let p="white",m="#cfcfd8";"none"!==this._uiManager.hcmFilter?m="black":null!==(d=(u=window).matchMedia)&&void 0!==d&&d.call(u,"(prefers-color-scheme: dark)").matches&&(p="#8f8f9d",m="#42414d");const f=15,g=f*a.sx,v=f*a.sy,y=new OffscreenCanvas(2*g,2*v),b=y.getContext("2d");b.fillStyle=p,b.fillRect(0,0,2*g,2*v),b.fillStyle=m,b.fillRect(0,0,g,v),b.fillRect(g,v,g,v),h.fillStyle=h.createPattern(y,"repeat"),h.fillRect(0,0,e,n),h.drawImage(r,0,0,r.width,r.height,0,0,e,n)}let h=null;if(n){let t,n;if(a.symmetric&&r.width<e&&r.height<e)t=r.width,n=r.height;else if(r=xt(_g,this),i>e||s>e){const a=Math.min(e/i,e/s);t=Math.floor(i*a),n=Math.floor(s*a),xt(Lg,this)||(r=yt(Fg,this,Hg).call(this,t,n))}const o=new OffscreenCanvas(t,n).getContext("2d",{willReadFrequently:!0});o.drawImage(r,0,0,r.width,r.height,0,0,t,n),h={width:t,height:n,data:o.getImageData(0,0,t,n).data}}return{canvas:c,width:o,height:l,imageData:h}}static async deserialize(e,t,n){let i=null,s=!1;if(e instanceof Nh){var a;const{data:{rect:r,rotation:o,id:l,structParent:c,popupRef:d},container:u,parent:{page:{pageNumber:h}},canvas:p}=e;let m,f;p?(delete e.canvas,({id:m,bitmap:f}=n.imageManager.getFromCanvas(u.id,p)),p.remove()):(s=!0,e._hasNoCanvas=!0);const g=(null===(a=await t._structTree.getAriaAttributes("".concat(qn).concat(l)))||void 0===a?void 0:a.get("aria-label"))||"";i=e={annotationType:$t.STAMP,bitmapId:m,bitmap:f,pageIndex:h-1,rect:r.slice(0),rotation:o,annotationElementId:l,id:l,deleted:!1,accessibilityData:{decorative:!1,altText:g},isSvg:!1,structParent:c,popupRef:d}}const r=await super.deserialize(e,t,n),{rect:o,bitmap:l,bitmapUrl:c,bitmapId:d,isSvg:u,accessibilityData:h}=e;s?(n.addMissingCanvas(e.id,r),wt(Ig,r,!0)):d&&n.imageManager.isValidId(d)?(wt(jg,r,d),l&&wt(_g,r,l)):wt(Cg,r,c),wt(Lg,r,u);const[p,m]=r.pageDimensions;return r.width=(o[2]-o[0])/p,r.height=(o[3]-o[1])/m,h&&(r.altTextData=h),r._initialData=i,wt(Dg,r,!!i),r}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n={annotationType:$t.STAMP,bitmapId:xt(jg,this),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:xt(Lg,this),structTreeParentId:this._structTreeParentId};if(e)return n.bitmapUrl=yt(Fg,this,Vg).call(this,!0),n.accessibilityData=this.serializeAltText(!0),n.isCopy=!0,n;const{decorative:i,altText:s}=this.serializeAltText(!1);if(!i&&s&&(n.accessibilityData={type:"Figure",alt:s}),this.annotationElementId){const e=yt(Fg,this,qg).call(this,n);if(e.isSame)return null;var a;if(e.isSameAltText)delete n.accessibilityData;else n.accessibilityData.structParent=null!==(a=this._initialData.structParent)&&void 0!==a?a:-1}if(n.id=this.annotationElementId,null===t)return n;t.stamps||(t.stamps=new Map);const r=xt(Lg,this)?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(t.stamps.has(xt(jg,this))){if(xt(Lg,this)){const e=t.stamps.get(xt(jg,this));r>e.area&&(e.area=r,e.serialized.bitmap.close(),e.serialized.bitmap=yt(Fg,this,Vg).call(this,!1))}}else t.stamps.set(xt(jg,this),{area:r,serialized:n}),n.bitmap=yt(Fg,this,Vg).call(this,!1);return n}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}}function Wg(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e?(wt(_g,this,e.bitmap),t||(wt(jg,this,e.id),wt(Lg,this,e.isSvg)),e.file&&wt(Tg,this,e.file.name),yt(Fg,this,zg).call(this)):this.remove()}function Bg(){if(wt(Ng,this,null),this._uiManager.enableWaiting(!1),xt(Pg,this))if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&xt(_g,this))this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});else{if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&xt(_g,this)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch(e){}}this.div.focus()}}function Ug(){if(xt(jg,this))return this._uiManager.enableWaiting(!0),void this._uiManager.imageManager.getFromId(xt(jg,this)).then(e=>yt(Fg,this,Wg).call(this,e,!0)).finally(()=>yt(Fg,this,Bg).call(this));if(xt(Cg,this)){const e=xt(Cg,this);return wt(Cg,this,null),this._uiManager.enableWaiting(!0),void wt(Ng,this,this._uiManager.imageManager.getFromUrl(e).then(e=>yt(Fg,this,Wg).call(this,e)).finally(()=>yt(Fg,this,Bg).call(this)))}if(xt(Mg,this)){const e=xt(Mg,this);return wt(Mg,this,null),this._uiManager.enableWaiting(!0),void wt(Ng,this,this._uiManager.imageManager.getFromFile(e).then(e=>yt(Fg,this,Wg).call(this,e)).finally(()=>yt(Fg,this,Bg).call(this)))}const e=document.createElement("input");e.type="file",e.accept=pi.join(",");const t=this._uiManager._signal;wt(Ng,this,new Promise(n=>{e.addEventListener("change",async()=>{if(e.files&&0!==e.files.length){this._uiManager.enableWaiting(!0);const t=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),yt(Fg,this,Wg).call(this,t)}else this.remove();n()},{signal:t}),e.addEventListener("cancel",()=>{this.remove(),n()},{signal:t})}).finally(()=>yt(Fg,this,Bg).call(this))),e.click()}function zg(){var e;const{div:t}=this;let{width:n,height:i}=xt(_g,this);const[s,a]=this.pageDimensions,r=.75;if(this.width)n=this.width*s,i=this.height*a;else if(n>r*s||i>r*a){const e=Math.min(r*s/n,r*a/i);n*=e,i*=e}const[o,l]=this.parentDimensions;this.setDims(n*o/s,i*l/a),this._uiManager.enableWaiting(!1);const c=wt(Pg,this,document.createElement("canvas"));c.setAttribute("role","img"),this.addContainer(c),this.width=n/s,this.height=i/a,null!==(e=this._initialOptions)&&void 0!==e&&e.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&!this.annotationElementId||(t.hidden=!1),yt(Fg,this,Gg).call(this),xt(Dg,this)||(this.parent.addUndoableEditor(this),wt(Dg,this,!0)),this._reportTelemetry({action:"inserted_image"}),xt(Tg,this)&&this.div.setAttribute("aria-description",xt(Tg,this)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}function Hg(e,t){const{width:n,height:i}=xt(_g,this);let s=n,a=i,r=xt(_g,this);for(;s>2*e||a>2*t;){const n=s,i=a;s>2*e&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const o=new OffscreenCanvas(s,a);o.getContext("2d").drawImage(r,0,0,n,i,0,0,s,a),r=o.transferToImageBitmap()}return r}function Gg(){const[e,t]=this.parentDimensions,{width:n,height:i}=this,s=new hi,a=Math.ceil(n*e*s.sx),r=Math.ceil(i*t*s.sy),o=xt(Pg,this);if(!o||o.width===a&&o.height===r)return;o.width=a,o.height=r;const l=xt(Lg,this)?xt(_g,this):yt(Fg,this,Hg).call(this,a,r),c=o.getContext("2d");c.filter=this._uiManager.hcmFilter,c.drawImage(l,0,0,l.width,l.height,0,0,a,r)}function Vg(e){if(e){if(xt(Lg,this)){const e=this._uiManager.imageManager.getSvgUrl(xt(jg,this));if(e)return e}const e=document.createElement("canvas");({width:e.width,height:e.height}=xt(_g,this));return e.getContext("2d").drawImage(xt(_g,this),0,0),e.toDataURL()}if(xt(Lg,this)){const[e,t]=this.pageDimensions,n=Math.round(this.width*e*Qn.PDF_TO_CSS_UNITS),i=Math.round(this.height*t*Qn.PDF_TO_CSS_UNITS),s=new OffscreenCanvas(n,i);return s.getContext("2d").drawImage(xt(_g,this),0,0,xt(_g,this).width,xt(_g,this).height,0,0,n,i),s.transferToImageBitmap()}return structuredClone(xt(_g,this))}function qg(e){var t;const{pageIndex:n,accessibilityData:{altText:i}}=this._initialData,s=e.pageIndex===n,a=((null===(t=e.accessibilityData)||void 0===t?void 0:t.alt)||"")===i;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&s&&a,isSameAltText:a}}Le(Og,"_type","stamp"),Le(Og,"_editorType",$t.STAMP);var Yg=new WeakMap,Kg=new WeakMap,Xg=new WeakMap,Qg=new WeakMap,$g=new WeakMap,Jg=new WeakMap,Zg=new WeakMap,ev=new WeakMap,tv=new WeakMap,nv=new WeakMap,iv=new WeakMap,sv=new WeakMap,av=new WeakMap,rv=new WeakMap,ov=new WeakMap,lv=new WeakMap,cv=new WeakSet;class dv{constructor(e){let{uiManager:t,pageIndex:n,div:i,structTreeLayer:s,accessibilityManager:a,annotationLayer:r,drawLayer:o,textLayer:l,viewport:c,l10n:d}=e;gt(this,cv),vt(this,Yg,void 0),vt(this,Kg,!1),vt(this,Xg,null),vt(this,Qg,null),vt(this,$g,null),vt(this,Jg,new Map),vt(this,Zg,!1),vt(this,ev,!1),vt(this,tv,!1),vt(this,nv,null),vt(this,iv,null),vt(this,sv,null),vt(this,av,null),vt(this,rv,null),vt(this,ov,-1),vt(this,lv,void 0);const u=[...gv._.values()];if(!dv._initialized){dv._initialized=!0;for(const e of u)e.initialize(d,t)}t.registerEditorTypes(u),wt(lv,this,t),this.pageIndex=n,this.div=i,wt(Yg,this,a),wt(Xg,this,r),this.viewport=c,wt(sv,this,l),this.drawLayer=o,this._structTree=s,xt(lv,this).addLayer(this)}get isEmpty(){return 0===xt(Jg,this).size}get isInvisible(){return this.isEmpty&&xt(lv,this).getMode()===$t.NONE}updateToolbar(e){xt(lv,this).updateToolbar(e)}updateMode(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt(lv,this).getMode();switch(yt(cv,this,fv).call(this),e){case $t.NONE:return this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),void this.disableClick();case $t.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case $t.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const n of gv._.values())t.toggle("".concat(n._type,"Editing"),e===n._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===(null===(t=xt(sv,this))||void 0===t?void 0:t.div)}setEditingState(e){xt(lv,this).setEditingState(e)}addCommands(e){xt(lv,this).addCommands(e)}cleanUndoStack(e){xt(lv,this).cleanUndoStack(e)}toggleDrawing(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.div.classList.toggle("drawing",!e)}togglePointerEvents(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];null===(e=xt(Xg,this))||void 0===e||e.div.classList.toggle("disabled",!t)}async enable(){var e;wt(tv,this,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),null===(e=xt(rv,this))||void 0===e||e.abort(),wt(rv,this,null);const t=new Set;for(const i of xt(Jg,this).values())i.enableEditing(),i.show(!0),i.annotationElementId&&(xt(lv,this).removeChangedExistingAnnotation(i),t.add(i.annotationElementId));if(!xt(Xg,this))return void wt(tv,this,!1);const n=xt(Xg,this).getEditableAnnotations();for(const i of n){if(i.hide(),xt(lv,this).isDeletedAnnotationElement(i.data.id))continue;if(t.has(i.data.id))continue;const e=await this.deserialize(i);e&&(this.addOrRebuild(e),e.enableEditing())}wt(tv,this,!1)}disable(){if(wt(ev,this,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),xt(sv,this)&&!xt(rv,this)){wt(rv,this,new AbortController);const e=xt(lv,this).combinedSignal(xt(rv,this));xt(sv,this).div.addEventListener("pointerdown",e=>{const{clientX:t,clientY:n,timeStamp:i}=e;if(i-xt(ov,this)>500)return void wt(ov,this,i);wt(ov,this,-1);const{classList:s}=this.div;s.toggle("getElements",!0);const a=document.elementsFromPoint(t,n);if(s.toggle("getElements",!1),!this.div.contains(a[0]))return;let r;const o=new RegExp("^".concat(Qt,"[0-9]+$"));for(const c of a)if(o.test(c.id)){r=c.id;break}if(!r)return;const l=xt(Jg,this).get(r);null===(null===l||void 0===l?void 0:l.annotationElementId)&&(e.stopPropagation(),e.preventDefault(),l.dblclick())},{signal:e,capture:!0})}const e=new Map,t=new Map;for(const s of xt(Jg,this).values()){var n;s.disableEditing(),s.annotationElementId&&(null===s.serialize()?(t.set(s.annotationElementId,s),null===(n=this.getEditableAnnotation(s.annotationElementId))||void 0===n||n.show(),s.remove()):e.set(s.annotationElementId,s))}if(xt(Xg,this)){const n=xt(Xg,this).getEditableAnnotations();for(const i of n){const{id:n}=i.data;if(xt(lv,this).isDeletedAnnotationElement(n))continue;let s=t.get(n);s?(s.resetAnnotationElement(i),s.show(!1),i.show()):(s=e.get(n),s&&(xt(lv,this).addChangedExistingAnnotation(s),s.renderAnnotationElement(i)&&s.show(!1)),i.show())}}yt(cv,this,fv).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const s of gv._.values())i.remove("".concat(s._type,"Editing"));this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),wt(ev,this,!1)}getEditableAnnotation(e){var t;return(null===(t=xt(Xg,this))||void 0===t?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){xt(lv,this).getActive()!==e&&xt(lv,this).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,null!==(e=xt(sv,this))&&void 0!==e&&e.div&&!xt(av,this)){wt(av,this,new AbortController);const e=xt(lv,this).combinedSignal(xt(av,this));xt(sv,this).div.addEventListener("pointerdown",yt(cv,this,uv).bind(this),{signal:e}),xt(sv,this).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,null!==(e=xt(sv,this))&&void 0!==e&&e.div&&xt(av,this)&&(xt(av,this).abort(),wt(av,this,null),xt(sv,this).div.classList.remove("highlighting"))}enableClick(){if(xt(Qg,this))return;wt(Qg,this,new AbortController);const e=xt(lv,this).combinedSignal(xt(Qg,this));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;null===(e=xt(Qg,this))||void 0===e||e.abort(),wt(Qg,this,null)}attach(e){xt(Jg,this).set(e.id,e);const{annotationElementId:t}=e;t&&xt(lv,this).isDeletedAnnotationElement(t)&&xt(lv,this).removeDeletedAnnotationElement(e)}detach(e){var t;xt(Jg,this).delete(e.id),null===(t=xt(Yg,this))||void 0===t||t.removePointerInTextLayer(e.contentDiv),!xt(ev,this)&&e.annotationElementId&&xt(lv,this).addDeletedAnnotationElement(e)}remove(e){this.detach(e),xt(lv,this).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(xt(lv,this).addDeletedAnnotationElement(e.annotationElementId),br.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),null===(t=e.parent)||void 0===t||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(e.parent!==this||!e.isAttachedToDOM){if(this.changeParent(e),xt(lv,this).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!xt(tv,this)),xt(lv,this).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var t;if(!e.isAttachedToDOM)return;const{activeElement:n}=document;e.div.contains(n)&&!xt($g,this)&&(e._focusEventsAllowed=!1,wt($g,this,setTimeout(()=>{wt($g,this,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:xt(lv,this)._signal}),n.focus())},0))),e._structTreeParentId=null===(t=xt(Yg,this))||void 0===t?void 0:t.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){this.addCommands({cmd:()=>e._uiManager.rebuild(e),undo:()=>{e.remove()},mustExec:!1})}getNextId(){return xt(lv,this).getId()}combinedSignal(e){return xt(lv,this).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return null===(e=bt(cv,this,hv))||void 0===e?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await xt(lv,this).updateMode(e.mode);const{offsetX:n,offsetY:i}=yt(cv,this,mv).call(this),s=this.getNextId(),a=yt(cv,this,pv).call(this,Fe({parent:this,id:s,x:n,y:i,uiManager:xt(lv,this),isCentered:!0},t));a&&this.add(a)}async deserialize(e){var t,n;return await(null===(t=gv._.get(null!==(n=e.annotationType)&&void 0!==n?n:e.annotationEditorType))||void 0===t?void 0:t.deserialize(e,this,xt(lv,this)))||null}createAndAddNewEditor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=this.getNextId(),s=yt(cv,this,pv).call(this,Fe({parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:xt(lv,this),isCentered:t},n));return s&&this.add(s),s}addNewEditor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.createAndAddNewEditor(yt(cv,this,mv).call(this),!0,e)}setSelected(e){xt(lv,this).setSelected(e)}toggleSelected(e){xt(lv,this).toggleSelected(e)}unselect(e){xt(lv,this).unselect(e)}pointerup(e){var t;const{isMac:n}=On.platform;if(0!==e.button||e.ctrlKey&&n)return;if(e.target!==this.div)return;if(!xt(Zg,this))return;if(wt(Zg,this,!1),null!==(t=bt(cv,this,hv))&&void 0!==t&&t.isDrawer&&bt(cv,this,hv).supportMultipleDrawings)return;if(!xt(Kg,this))return void wt(Kg,this,!0);const i=xt(lv,this).getMode();i!==$t.STAMP&&i!==$t.SIGNATURE?this.createAndAddNewEditor(e,!1):xt(lv,this).unselectAll()}pointerdown(e){var t;if(xt(lv,this).getMode()===$t.HIGHLIGHT&&this.enableTextSelection(),xt(Zg,this))return void wt(Zg,this,!1);const{isMac:n}=On.platform;if(0!==e.button||e.ctrlKey&&n)return;if(e.target!==this.div)return;if(wt(Zg,this,!0),null!==(t=bt(cv,this,hv))&&void 0!==t&&t.isDrawer)return void this.startDrawingSession(e);const i=xt(lv,this).getActive();wt(Kg,this,!i||i.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),xt(nv,this))return void bt(cv,this,hv).startDrawing(this,xt(lv,this),!1,e);xt(lv,this).setCurrentDrawingSession(this),wt(nv,this,new AbortController);const t=xt(lv,this).combinedSignal(xt(nv,this));this.div.addEventListener("blur",e=>{let{relatedTarget:t}=e;t&&!this.div.contains(t)&&(wt(iv,this,null),this.commitOrRemove())},{signal:t}),bt(cv,this,hv).startDrawing(this,xt(lv,this),!1,e)}pause(e){if(e){const{activeElement:e}=document;return void(this.div.contains(e)&&wt(iv,this,e))}xt(iv,this)&&setTimeout(()=>{var e;null===(e=xt(iv,this))||void 0===e||e.focus(),wt(iv,this,null)},0)}endDrawingSession(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return xt(nv,this)?(xt(lv,this).setCurrentDrawingSession(null),xt(nv,this).abort(),wt(nv,this,null),wt(iv,this,null),bt(cv,this,hv).endDrawing(e)):null}findNewParent(e,t,n){const i=xt(lv,this).findParent(t,n);return null!==i&&i!==this&&(i.changeParent(e),!0)}commitOrRemove(){return!!xt(nv,this)&&(this.endDrawingSession(),!0)}onScaleChanging(){xt(nv,this)&&bt(cv,this,hv).onScaleChangingWhenDrawing(this)}destroy(){var e;this.commitOrRemove(),(null===(e=xt(lv,this).getActive())||void 0===e?void 0:e.parent)===this&&(xt(lv,this).commitOrRemove(),xt(lv,this).setActiveEditor(null)),xt($g,this)&&(clearTimeout(xt($g,this)),wt($g,this,null));for(const n of xt(Jg,this).values()){var t;null===(t=xt(Yg,this))||void 0===t||t.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove()}this.div=null,xt(Jg,this).clear(),xt(lv,this).removeLayer(this)}render(e){let{viewport:t}=e;this.viewport=t,ui(this.div,t);for(const n of xt(lv,this).getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update(e){let{viewport:t}=e;xt(lv,this).commitOrRemove(),yt(cv,this,fv).call(this);const n=this.viewport.rotation,i=t.rotation;if(this.viewport=t,ui(this.div,{rotation:i}),n!==i)for(const s of xt(Jg,this).values())s.rotate(i)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return xt(lv,this).viewParameters.realScale}}function uv(e){xt(lv,this).unselectAll();const{target:t}=e;if(t===xt(sv,this).div||("img"===t.getAttribute("role")||t.classList.contains("endOfContent"))&&xt(sv,this).div.contains(t)){const{isMac:t}=On.platform;if(0!==e.button||e.ctrlKey&&t)return;xt(lv,this).showAllEditors("highlight",!0,!0),xt(sv,this).div.classList.add("free"),this.toggleDrawing(),Bm.startHighlighting(this,"ltr"===xt(lv,this).direction,{target:xt(sv,this).div,x:e.x,y:e.y}),xt(sv,this).div.addEventListener("pointerup",()=>{xt(sv,this).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:xt(lv,this)._signal}),e.preventDefault()}}function hv(e){return gv._.get(xt(lv,e).getMode())}function pv(e){const t=bt(cv,this,hv);return t?new t.prototype.constructor(e):null}function mv(){const{x:e,y:t,width:n,height:i}=this.div.getBoundingClientRect(),s=Math.max(0,e),a=Math.max(0,t),r=(s+Math.min(window.innerWidth,e+n))/2-e,o=(a+Math.min(window.innerHeight,t+i))/2-t,[l,c]=this.viewport.rotation%180===0?[r,o]:[o,r];return{offsetX:l,offsetY:c}}function fv(){for(const e of xt(Jg,this).values())e.isEmpty()&&e.remove()}Le(dv,"_initialized",!1);var gv={_:new Map([Kh,ng,Og,Bm,Eg].map(e=>[e._editorType,e]))},vv=new WeakMap,yv=new WeakMap,bv=new WeakMap,xv=new WeakSet;class wv{constructor(e){let{pageIndex:t}=e;gt(this,xv),vt(this,vv,null),vt(this,yv,new Map),vt(this,bv,new Map),this.pageIndex=t}setParent(e){if(xt(vv,this)){if(xt(vv,this)!==e){if(xt(yv,this).size>0)for(const t of xt(yv,this).values())t.remove(),e.append(t);wt(vv,this,e)}}else wt(vv,this,e)}static get _svgFactory(){return Nn(this,"_svgFactory",new lu)}draw(e){var t,n;let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=(_v._=(t=_v._,n=t++,t),n),r=yt(xv,this,kv).call(this),o=wv._svgFactory.createElement("defs");r.append(o);const l=wv._svgFactory.createElement("path");o.append(l);const c="path_p".concat(this.pageIndex,"_").concat(a);l.setAttribute("id",c),l.setAttribute("vector-effect","non-scaling-stroke"),i&&xt(bv,this).set(a,l);const d=s?yt(xv,this,Av).call(this,o,c):null,u=wv._svgFactory.createElement("use");return r.append(u),u.setAttribute("href","#".concat(c)),this.updateProperties(r,e),xt(yv,this).set(a,r),{id:a,clipPathId:"url(#".concat(d,")")}}drawOutline(e,t){var n,i;const s=(_v._=(n=_v._,i=n++,n),i),a=yt(xv,this,kv).call(this),r=wv._svgFactory.createElement("defs");a.append(r);const o=wv._svgFactory.createElement("path");r.append(o);const l="path_p".concat(this.pageIndex,"_").concat(s);let c;if(o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke"),t){const e=wv._svgFactory.createElement("mask");r.append(e),c="mask_p".concat(this.pageIndex,"_").concat(s),e.setAttribute("id",c),e.setAttribute("maskUnits","objectBoundingBox");const t=wv._svgFactory.createElement("rect");e.append(t),t.setAttribute("width","1"),t.setAttribute("height","1"),t.setAttribute("fill","white");const n=wv._svgFactory.createElement("use");e.append(n),n.setAttribute("href","#".concat(l)),n.setAttribute("stroke","none"),n.setAttribute("fill","black"),n.setAttribute("fill-rule","nonzero"),n.classList.add("mask")}const d=wv._svgFactory.createElement("use");a.append(d),d.setAttribute("href","#".concat(l)),c&&d.setAttribute("mask","url(#".concat(c,")"));const u=d.cloneNode();return a.append(u),d.classList.add("mainOutline"),u.classList.add("secondaryOutline"),this.updateProperties(a,e),xt(yv,this).set(s,a),s}finalizeDraw(e,t){xt(bv,this).delete(e),this.updateProperties(e,t)}updateProperties(e,t){if(!t)return;const{root:n,bbox:i,rootClass:s,path:a}=t,r="number"===typeof e?xt(yv,this).get(e):e;if(r){if(n&&yt(xv,this,Ev).call(this,r,n),i&&Sv.call(wv,r,i),s){const{classList:e}=r;for(const[t,n]of Object.entries(s))e.toggle(t,n)}if(a){const e=r.firstChild.firstChild;yt(xv,this,Ev).call(this,e,a)}}}updateParent(e,t){if(t===this)return;const n=xt(yv,this).get(e);n&&(xt(vv,t).append(n),xt(yv,this).delete(e),xt(yv,t).set(e,n))}remove(e){xt(bv,this).delete(e),null!==xt(vv,this)&&(xt(yv,this).get(e).remove(),xt(yv,this).delete(e))}destroy(){wt(vv,this,null);for(const e of xt(yv,this).values())e.remove();xt(yv,this).clear(),xt(bv,this).clear()}}function Sv(e,t){let[n,i,s,a]=t;const{style:r}=e;r.top="".concat(100*i,"%"),r.left="".concat(100*n,"%"),r.width="".concat(100*s,"%"),r.height="".concat(100*a,"%")}function kv(){const e=Ft._svgFactory.create(1,1,!0);return xt(vv,this).append(e),e.setAttribute("aria-hidden",!0),e}function Av(e,t){const n=Ft._svgFactory.createElement("clipPath");e.append(n);const i="clip_".concat(t);n.setAttribute("id",i),n.setAttribute("clipPathUnits","objectBoundingBox");const s=Ft._svgFactory.createElement("use");return n.append(s),s.setAttribute("href","#".concat(t)),s.classList.add("clip"),i}function Ev(e,t){for(const[n,i]of Object.entries(t))null===i?e.removeAttribute(n):e.setAttribute(n,i)}Ft=wv;var _v={_:0};globalThis._pdfjsTestingUtils={HighlightOutliner:Gp},globalThis.pdfjsLib={AbortException:Ln,AnnotationEditorLayer:dv,AnnotationEditorParamsType:Jt,AnnotationEditorType:$t,AnnotationEditorUIManager:qs,AnnotationLayer:Oh,AnnotationMode:Xt,AnnotationType:on,build:"cbeef3233",ColorPicker:pm,createValidAbsoluteUrl:_n,DOMSVGFactory:lu,DrawLayer:wv,FeatureTest:On,fetchData:$n,getDocument:function(){var e,t;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"string"===typeof n||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const i=new vd,{docId:s}=i,a=n.url?function(e){if(e instanceof URL)return e.href;if("string"===typeof e){if(Ot)return e;const t=URL.parse(e,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}(n.url):null,r=n.data?function(e){if(Ot&&"undefined"!==typeof Buffer&&e instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength)return e;if("string"===typeof e)return Fn(e);if(e instanceof ArrayBuffer||ArrayBuffer.isView(e)||"object"===typeof e&&!isNaN(null===e||void 0===e?void 0:e.length))return new Uint8Array(e);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}(n.data):null,o=n.httpHeaders||null,l=!0===n.withCredentials,c=null!==(e=n.password)&&void 0!==e?e:null,d=n.range instanceof Ad?n.range:null,u=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:65536;let h=n.worker instanceof Ld?n.worker:null;const p=n.verbosity,m="string"!==typeof n.docBaseUrl||ei(n.docBaseUrl)?null:n.docBaseUrl,f=no(n.cMapUrl),g=!1!==n.cMapPacked,v=n.CMapReaderFactory||(Ot?ll:Po),y=no(n.iccUrl),b=no(n.standardFontDataUrl),x=n.StandardFontDataFactory||(Ot?cl:nl),w=no(n.wasmUrl),S=n.WasmFactory||(Ot?dl:sl),k=!0!==n.stopAtErrors,A=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,E=!1!==n.isEvalSupported,_="boolean"===typeof n.isOffscreenCanvasSupported?n.isOffscreenCanvasSupported:!Ot,j="boolean"===typeof n.isImageDecoderSupported?n.isImageDecoderSupported:!Ot&&(On.platform.isFirefox||!globalThis.chrome),N=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,C="boolean"===typeof n.disableFontFace?n.disableFontFace:Ot,M=!0===n.fontExtraProperties,T=!0===n.enableXfa,P=n.ownerDocument||globalThis.document,I=!0===n.disableRange,R=!0===n.disableStream,L=!0===n.disableAutoFetch,D=!0===n.pdfBug,F=n.CanvasFactory||(Ot?ol:Mo),O=n.FilterFactory||(Ot?rl:zo),W=!0===n.enableHWA,B=!1!==n.useWasm,U=d?d.length:null!==(t=n.length)&&void 0!==t?t:NaN,z="boolean"===typeof n.useSystemFonts?n.useSystemFonts:!Ot&&!C,H="boolean"===typeof n.useWorkerFetch?n.useWorkerFetch:!!(v===Po&&x===nl&&S===sl&&f&&b&&w&&ii(f,document.baseURI)&&ii(b,document.baseURI)&&ii(w,document.baseURI));xn(p);const G={canvasFactory:new F({ownerDocument:P,enableHWA:W}),filterFactory:new O({docId:s,ownerDocument:P}),cMapReaderFactory:H?null:new v({baseUrl:f,isCompressed:g}),standardFontDataFactory:H?null:new x({baseUrl:b}),wasmFactory:H?null:new S({baseUrl:w})};h||(h=Ld.create({verbosity:p,port:ql.workerPort}),i._worker=h);const V={docId:s,apiVersion:"5.3.93",data:r,password:c,disableAutoFetch:L,rangeChunkSize:u,length:U,docBaseUrl:m,enableXfa:T,evaluatorOptions:{maxImageSize:A,disableFontFace:C,ignoreErrors:k,isEvalSupported:E,isOffscreenCanvasSupported:_,isImageDecoderSupported:j,canvasMaxAreaInBytes:N,fontExtraProperties:M,useSystemFonts:z,useWasm:B,useWorkerFetch:H,cMapUrl:f,iccUrl:y,standardFontDataUrl:b,wasmUrl:w}},q={ownerDocument:P,pdfBug:D,styleElement:null,loadingParams:{disableAutoFetch:L,enableXfa:T}};return h.promise.then(function(){if(i.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const e=h.messageHandler.sendWithPromise("GetDocRequest",V,r?[r.buffer]:null);let t;if(d)t=new uc(d,{disableRange:I,disableStream:R});else if(!r){if(!a)throw new Error("getDocument - no `url` parameter provided.");const e=ii(a)?Sc:Ot?Mc:_c;t=new e({url:a,length:U,httpHeaders:o,withCredentials:l,rangeChunkSize:u,disableRange:I,disableStream:R})}return e.then(e=>{if(i.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const n=new ko(s,e,h.port),a=new Qd(n,i,t,q,G);i._transport=a,n.send("Ready",null)})}).catch(i._capability.reject),i},getFilenameFromUrl:function(e){return[e]=e.split(/[#?]/,1),e.substring(e.lastIndexOf("/")+1)},getPdfFilenameFromUrl:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!==typeof e)return t;if(ei(e))return kn('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const n=(e=>{try{return new URL(e)}catch(t){try{return new URL(decodeURIComponent(e))}catch(n){try{return new URL(e,"https://foo.bar")}catch(i){try{return new URL(decodeURIComponent(e),"https://foo.bar")}catch(s){return null}}}}})(e);if(!n)return t;const i=e=>{try{let t=decodeURIComponent(e);return t.includes("/")?(t=t.split("/").at(-1),t.test(/^\.pdf$/i)?t:e):t}catch(t){return e}},s=/\.pdf$/i,a=n.pathname.split("/").at(-1);if(s.test(a))return i(a);if(n.searchParams.size>0){const e=Array.from(n.searchParams.values()).reverse();for(const n of e)if(s.test(n))return i(n);const t=Array.from(n.searchParams.keys()).reverse();for(const n of t)if(s.test(n))return i(n)}if(n.hash){const e=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(e)return i(e[0])}return t},getUuid:Vn,getXfaPageViewport:function(e,t){let{scale:n=1,rotation:i=0}=t;const{width:s,height:a}=e.attributes.style,r=[0,0,parseInt(s),parseInt(a)];return new Jn({viewBox:r,userUnit:1,scale:n,rotation:i})},GlobalWorkerOptions:ql,ImageKind:rn,InvalidPDFException:Pn,isDataScheme:ei,isPdfFile:ti,isValidExplicitDest:so,MathClamp:Yn,noContextMenu:si,normalizeUnicode:function(e){return Hn||(Hn=/([\xA0\xB5\u037E\u0EB3\u2000-\u200A\u202F\u2126\uFB00-\uFB04\uFB06\uFB20-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBA1\uFBA4-\uFBA9\uFBAE-\uFBB1\uFBD3-\uFBDC\uFBDE-\uFBE7\uFBEA-\uFBF8\uFBFC\uFBFD\uFC00-\uFC5D\uFC64-\uFCF1\uFCF5-\uFD3D\uFD88\uFDF4\uFDFA\uFDFB\uFE71\uFE77\uFE79\uFE7B\uFE7D]+)|(\uFB05+)/g,Gn=new Map([["\ufb05","\u017ft"]])),e.replaceAll(Hn,(e,t,n)=>t?t.normalize("NFKC"):Gn.get(n))},OPS:mn,OutputScale:hi,PasswordResponses:{NEED_PASSWORD:1,INCORRECT_PASSWORD:2},PDFDataRangeTransport:Ad,PDFDateString:ri,PDFWorker:Ld,PermissionFlag:{PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},PixelsPerInch:Qn,RenderingCancelledException:Zn,ResponseException:In,setLayerDimensions:ui,shadow:Nn,SignatureExtractor:ag,stopEvent:ai,SupportedImageMimeTypes:pi,TextLayer:id,TouchManager:Ga,updateUrlHash:jn,Util:Bn,VerbosityLevel:pn,version:iu,XfaLayer:cu},ql.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(iu,"/pdf.worker.min.js");const jv=new class{constructor(){this.resources={kitesurfing:{title:"Kitesurfing Safety Guide",filename:"MPT_Kitesurfing_Safety_Guide.pdf",content:this.generateKitesurfingGuide(),type:"application/pdf"},uscRecipes:{title:"USC Recipes",filename:"USC_Recipes.pdf",content:this.generateUSCRecipesGuide(),type:"application/pdf"},mealPlans:{title:"Meal Plans",filename:"Meal_Plans.pdf",content:this.generateMealPlansGuide(),type:"application/pdf"}}}downloadResource(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=this.resources[e];if(!n)throw new Error("Resource not found");try{t&&(console.log("Download requested for ".concat(e," by ").concat(t)),this.logDownloadSimple(e,t));const i=this.createHTMLDocument(n,t),s=new Blob([i],{type:"text/html"}),a=window.URL.createObjectURL(s),r=document.createElement("a");r.href=a,r.download=n.filename.replace(".pdf",".html"),document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(a),console.log("Successfully downloaded ".concat(e))}catch(i){throw console.error("Download error:",i),new Error("Download failed: ".concat(i.message))}}logDownloadSimple(e,t){try{const n={resource:e,email:t,timestamp:(new Date).toISOString(),userAgent:navigator.userAgent},i=JSON.parse(localStorage.getItem("mpt_downloads")||"[]");i.push(n),localStorage.setItem("mpt_downloads",JSON.stringify(i)),console.log("Download logged:",n)}catch(n){console.warn("Failed to log download:",n)}}logDownload(e,t){const n={resource:e,email:t,timestamp:(new Date).toISOString(),userAgent:navigator.userAgent},i=JSON.parse(localStorage.getItem("mpt_downloads")||"[]");i.push(n),localStorage.setItem("mpt_downloads",JSON.stringify(i)),console.log("Download logged:",n)}createHTMLDocument(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=(new Date).toLocaleString();return'\n<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>'.concat(e.title,"</title>\n    <style>\n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            line-height: 1.6;\n            max-width: 800px;\n            margin: 0 auto;\n            padding: 20px;\n            background-color: #f8f9fa;\n        }\n        .header {\n            background: linear-gradient(135deg, #0066cc, #0052a3);\n            color: white;\n            padding: 30px;\n            border-radius: 10px;\n            text-align: center;\n            margin-bottom: 30px;\n        }\n        .header h1 {\n            margin: 0;\n            font-size: 2.5rem;\n            font-weight: bold;\n        }\n        .header .subtitle {\n            margin-top: 10px;\n            font-size: 1.1rem;\n            opacity: 0.9;\n        }\n        .content {\n            background: white;\n            padding: 30px;\n            border-radius: 10px;\n            box-shadow: 0 5px 15px rgba(0,0,0,0.1);\n        }\n        .content pre {\n            white-space: pre-wrap;\n            font-family: 'Courier New', monospace;\n            background-color: #f8f9fa;\n            padding: 20px;\n            border-radius: 5px;\n            border-left: 4px solid #0066cc;\n            overflow-x: auto;\n        }\n        .footer {\n            text-align: center;\n            margin-top: 30px;\n            padding: 20px;\n            color: #666;\n            font-size: 0.9rem;\n        }\n        .download-info {\n            background-color: #e3f2fd;\n            padding: 15px;\n            border-radius: 5px;\n            margin-bottom: 20px;\n            border-left: 4px solid #2196f3;\n        }\n        .download-info strong {\n            color: #1976d2;\n        }\n        .user-info {\n            background-color: #f3e5f5;\n            padding: 15px;\n            border-radius: 5px;\n            margin-bottom: 20px;\n            border-left: 4px solid #9c27b0;\n        }\n        .user-info strong {\n            color: #7b1fa2;\n        }\n        @media print {\n            body { background-color: white; }\n            .header { background: #0066cc !important; }\n            .content { box-shadow: none; }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"header\">\n        <h1>").concat(e.title,'</h1>\n        <div class="subtitle">MPT Water Sports Safety Guide</div>\n    </div>\n    \n    <div class="download-info">\n        <strong>Downloaded:</strong> ').concat(n,"<br>\n        <strong>Source:</strong> MPT Water Sports Academy<br>\n        <strong>For:</strong> Educational and Safety Purposes\n    </div>\n    \n    ").concat(t?'\n    <div class="user-info">\n        <strong>Downloaded by:</strong> '.concat(t,"<br>\n        <strong>Thank you for your interest in water sports safety!</strong><br>\n        <em>We'll send you additional resources and tips to enhance your learning experience.</em>\n    </div>\n    "):"",'\n    \n    <div class="content">\n        <pre>').concat(e.content,'</pre>\n    </div>\n    \n    <div class="footer">\n        <p><strong>MPT Water Sports Academy</strong></p>\n        <p>Contact: chloebarrettraining@icloud.com | Phone: 04 98 471 509</p>\n        <p>This document is for educational purposes only. Always follow local safety regulations.</p>\n        <p>Generated on: ').concat(n,"</p>\n    </div>\n</body>\n</html>")}generateKitesurfingGuide(){return"\nMPT KITESURFING SAFETY GUIDE\n================================\n\nSAFETY FIRST - ALWAYS!\nYour safety is our top priority. Never compromise on safety procedures.\n\nPRE-FLIGHT CHECKLIST\n===================\n\u25a1 Weather conditions suitable (wind 10-25 knots)\n\u25a1 Equipment inspection completed\n\u25a1 Safety gear properly fitted\n\u25a1 Emergency procedures reviewed\n\u25a1 Buddy system in place\n\u25a1 Launch/landing area clear\n\nEQUIPMENT SAFETY\n================\n1. KITE INSPECTION\n   - Check for tears, holes, or damage\n   - Ensure all lines are untangled\n   - Verify safety release systems work\n   - Check bridle connections\n\n2. BOARD INSPECTION\n   - Fins securely attached\n   - No cracks or damage\n   - Leash properly connected\n   - Footstraps secure\n\n3. SAFETY GEAR\n   - Helmet (mandatory)\n   - Impact vest (recommended)\n   - Wetsuit appropriate for conditions\n   - Safety knife accessible\n\nLAUNCHING PROCEDURES\n====================\n1. Choose safe launch area\n2. Check wind direction and strength\n3. Ensure downwind area is clear\n4. Have spotter assist if possible\n5. Use proper launch technique\n6. Never launch alone in strong winds\n\nRIDING SAFETY\n=============\n1. Stay within your skill level\n2. Maintain safe distance from others\n3. Be aware of changing conditions\n4. Know your emergency procedures\n5. Respect right of way rules\n6. Monitor fatigue levels\n\nEMERGENCY PROCEDURES\n====================\n1. IMMEDIATE ACTIONS\n   - Release safety system if needed\n   - Signal for help if possible\n   - Stay with your equipment\n   - Don't panic\n\n2. EQUIPMENT RECOVERY\n   - Secure kite safely\n   - Check for damage\n   - Assess if safe to continue\n   - Return to shore if needed\n\nWEATHER AWARENESS\n=================\n- Check forecast before heading out\n- Monitor wind changes\n- Watch for storm development\n- Know local weather patterns\n- Understand wind effects on water\n\nCOMMUNICATION\n=============\n- Use clear hand signals\n- Establish buddy system\n- Know emergency contacts\n- Report incidents immediately\n- Share conditions with others\n\nPOST-SESSION CHECKLIST\n======================\n\u25a1 Equipment properly stored\n\u25a1 Any damage documented\n\u25a1 Safety gear cleaned\n\u25a1 Conditions logged\n\u25a1 Lessons learned noted\n\nREMEMBER: SAFETY IS NOT OPTIONAL!\nAlways prioritize safety over performance.\nWhen in doubt, don't go out.\n\nMPT Contact: info@mpt.com\nEmergency: 911\nCoast Guard: VHF Channel 16\n\nStay safe and enjoy the ride!\n    ".trim()}generateHydrofoilGuide(){return"\nMPT HYDROFOIL SAFETY GUIDE\n============================\n\nHYDROFOILING: THE ULTIMATE WATER EXPERIENCE\nSafety is paramount when riding above the water!\n\nPRE-RIDE SAFETY CHECK\n=====================\n\u25a1 Foil assembly inspected\n\u25a1 All bolts properly torqued\n\u25a1 Mast and fuselage secure\n\u25a1 Wings undamaged\n\u25a1 Safety gear ready\n\u25a1 Conditions suitable\n\nFOIL ASSEMBLY SAFETY\n====================\n1. MAST INSPECTION\n   - Check for cracks or damage\n   - Ensure proper height for conditions\n   - Verify mounting plate secure\n   - Check for corrosion\n\n2. WING INSPECTION\n   - Leading edge smooth\n   - No dents or damage\n   - Proper angle of attack\n   - Secure attachment\n\n3. FUSELAGE CHECK\n   - All connections tight\n   - No stress fractures\n   - Proper alignment\n   - Safety lines attached\n\nLAUNCHING TECHNIQUES\n====================\n1. DEEP WATER LAUNCH\n   - Ensure sufficient depth\n   - Clear area around\n   - Proper body position\n   - Smooth acceleration\n\n2. SHALLOW WATER LAUNCH\n   - Check depth carefully\n   - Avoid hitting bottom\n   - Use proper technique\n   - Have spotter assist\n\nRIDING SAFETY PROTOCOLS\n=======================\n1. SPEED MANAGEMENT\n   - Start slow and build up\n   - Know your limits\n   - Avoid excessive speed\n   - Control your acceleration\n\n2. POSITIONING\n   - Stay centered on foil\n   - Maintain proper stance\n   - Keep weight balanced\n   - Avoid sudden movements\n\n3. AWARENESS\n   - Watch for obstacles\n   - Monitor water depth\n   - Check for other riders\n   - Be aware of conditions\n\nEMERGENCY PROCEDURES\n====================\n1. FOIL FAILURE\n   - Stay calm\n   - Secure equipment\n   - Signal for help\n   - Return to safety\n\n2. INJURY PREVENTION\n   - Wear protective gear\n   - Know your limits\n   - Practice falling safely\n   - Have emergency plan\n\n3. EQUIPMENT DAMAGE\n   - Assess damage level\n   - Secure broken parts\n   - Return to shore safely\n   - Document incident\n\nFOIL MAINTENANCE\n================\n- Regular inspection schedule\n- Clean after each use\n- Check for wear and tear\n- Professional service when needed\n- Store properly when not in use\n\nADVANCED SAFETY TIPS\n====================\n- Practice in controlled conditions\n- Learn from experienced riders\n- Take lessons from professionals\n- Build skills gradually\n- Respect your equipment\n\nWEATHER CONSIDERATIONS\n======================\n- Wind strength and direction\n- Wave conditions\n- Water temperature\n- Visibility factors\n- Storm development\n\nSAFETY EQUIPMENT\n================\n\u25a1 Helmet (mandatory)\n\u25a1 Impact vest\n\u25a1 Wetsuit appropriate\n\u25a1 Safety knife\n\u25a1 Communication device\n\u25a1 First aid kit nearby\n\nPOST-RIDE INSPECTION\n====================\n\u25a1 Equipment cleaned\n\u25a1 Damage documented\n\u25a1 Maintenance scheduled\n\u25a1 Lessons learned\n\u25a1 Safety improvements noted\n\nHYDROFOILING IS AMAZING - STAY SAFE!\nAlways prioritize safety over performance.\nRespect the power of the foil.\n\nMPT Contact: info@mpt.com\nEmergency: 911\nCoast Guard: VHF Channel 16\n\nRide high, stay safe!\n    ".trim()}generateWingFoilGuide(){return"\nMPT WING FOIL SAFETY GUIDE\n===========================\n\nWING FOILING: FREEDOM ON THE WATER\nMaster the wing, master the foil, master safety!\n\nPRE-SESSION SAFETY CHECK\n========================\n\u25a1 Wing properly inflated\n\u25a1 Foil assembly secure\n\u25a1 Safety gear ready\n\u25a1 Conditions suitable\n\u25a1 Launch area clear\n\u25a1 Emergency plan ready\n\nWING INSPECTION\n===============\n1. INFLATION CHECK\n   - Proper pressure maintained\n   - No leaks or damage\n   - Handles secure\n   - Leading edge smooth\n\n2. STRUCTURAL INTEGRITY\n   - No tears or holes\n   - Seams intact\n   - Frame undamaged\n   - Safety systems working\n\n3. HANDLE SYSTEM\n   - All handles secure\n   - Proper positioning\n   - Easy access\n   - Emergency release working\n\nFOIL SAFETY CHECK\n=================\n1. ASSEMBLY VERIFICATION\n   - Mast properly mounted\n   - Wings secure\n   - Fuselage tight\n   - No loose parts\n\n2. CONDITION ASSESSMENT\n   - No damage visible\n   - Proper alignment\n   - Safety lines attached\n   - Emergency procedures known\n\nLAUNCHING SAFETY\n================\n1. WING HANDLING\n   - Proper grip technique\n   - Wind direction awareness\n   - Launch area clear\n   - Spotter assistance if needed\n\n2. FOIL POSITIONING\n   - Proper depth\n   - Clear area around\n   - Smooth acceleration\n   - Controlled start\n\nRIDING SAFETY PROTOCOLS\n=======================\n1. WING CONTROL\n   - Proper hand positioning\n   - Smooth movements\n   - Power management\n   - Emergency procedures\n\n2. FOIL BALANCE\n   - Stay centered\n   - Weight distribution\n   - Smooth transitions\n   - Avoid sudden movements\n\n3. SITUATIONAL AWARENESS\n   - Watch for obstacles\n   - Monitor conditions\n   - Check other riders\n   - Know your location\n\nEMERGENCY PROCEDURES\n====================\n1. WING FAILURE\n   - Stay calm\n   - Secure equipment\n   - Signal for help\n   - Return to safety\n\n2. FOIL ISSUES\n   - Assess problem\n   - Secure broken parts\n   - Return to shore\n   - Document incident\n\n3. WEATHER CHANGES\n   - Monitor conditions\n   - Return to safety\n   - Secure equipment\n   - Wait for improvement\n\nADVANCED SAFETY TIPS\n====================\n- Practice in light winds first\n- Learn from professionals\n- Build skills gradually\n- Respect weather limits\n- Use proper technique\n\nEQUIPMENT CARE\n==============\n- Clean after each use\n- Store properly\n- Regular inspection\n- Professional service\n- Damage documentation\n\nSAFETY EQUIPMENT CHECKLIST\n==========================\n\u25a1 Helmet (mandatory)\n\u25a1 Impact vest\n\u25a1 Appropriate wetsuit\n\u25a1 Safety knife\n\u25a1 Communication device\n\u25a1 First aid accessible\n\nWEATHER AWARENESS\n=================\n- Wind strength monitoring\n- Direction changes\n- Storm development\n- Temperature factors\n- Visibility conditions\n\nPOST-SESSION REVIEW\n==================\n\u25a1 Equipment cleaned\n\u25a1 Damage documented\n\u25a1 Lessons learned\n\u25a1 Safety improvements\n\u25a1 Next session planning\n\nWING FOILING IS INCREDIBLE - STAY SAFE!\nAlways prioritize safety over performance.\nRespect the power of wind and water.\n\nMPT Contact: info@mpt.com\nEmergency: 911\nCoast Guard: VHF Channel 16\n\nFly high, stay safe!\n    ".trim()}getAvailableResources(){return Object.keys(this.resources).map(e=>Fe({key:e},this.resources[e]))}generateUSCRecipesGuide(){return"\nMPT USC RECIPES GUIDE\n=====================\n\nDELICIOUS RECIPES FOR OPTIMAL PERFORMANCE\nFuel your water sports journey with these nutritious recipes!\n\nBREAKFAST RECIPES\n=================\n1. POWER SMOOTHIE BOWL\n   - 1 banana\n   - 1 cup mixed berries\n   - 1/2 cup Greek yogurt\n   - 1 tbsp chia seeds\n   - 1 tbsp almond butter\n   - Blend and top with granola\n\n2. ENERGY PANCAKES\n   - 1 cup oats\n   - 2 eggs\n   - 1 banana\n   - 1/2 cup milk\n   - Blend and cook like pancakes\n\n3. PROTEIN OATMEAL\n   - 1/2 cup oats\n   - 1 scoop protein powder\n   - 1 tbsp nut butter\n   - Fresh berries\n   - Honey to taste\n\nLUNCH RECIPES\n=============\n1. QUINOA POWER BOWL\n   - 1 cup cooked quinoa\n   - Grilled chicken breast\n   - Mixed vegetables\n   - Avocado slices\n   - Lemon tahini dressing\n\n2. SALMON WRAP\n   - Whole grain wrap\n   - Grilled salmon\n   - Spinach leaves\n   - Cucumber slices\n   - Greek yogurt sauce\n\n3. VEGGIE STIR FRY\n   - Mixed vegetables\n   - Brown rice\n   - Tofu or chicken\n   - Soy sauce\n   - Sesame oil\n\nDINNER RECIPES\n==============\n1. GRILLED FISH & SWEET POTATO\n   - White fish fillet\n   - Roasted sweet potato\n   - Steamed broccoli\n   - Lemon herb seasoning\n\n2. TURKEY MEATBALLS\n   - Lean ground turkey\n   - Whole wheat pasta\n   - Marinara sauce\n   - Parmesan cheese\n\n3. VEGETABLE CURRY\n   - Mixed vegetables\n   - Coconut milk\n   - Curry spices\n   - Brown rice\n\nSNACKS & RECOVERY\n=================\n1. PROTEIN ENERGY BALLS\n   - Dates\n   - Almonds\n   - Protein powder\n   - Cocoa powder\n   - Roll into balls\n\n2. GREEK YOGURT PARFAIT\n   - Greek yogurt\n   - Berries\n   - Granola\n   - Honey drizzle\n\n3. VEGETABLE HUMMUS\n   - Chickpeas\n   - Tahini\n   - Lemon juice\n   - Garlic\n   - Serve with vegetables\n\nHYDRATION RECIPES\n=================\n1. ELECTROLYTE DRINK\n   - Coconut water\n   - Sea salt\n   - Lemon juice\n   - Honey\n\n2. GREEN SMOOTHIE\n   - Spinach\n   - Banana\n   - Apple\n   - Ginger\n   - Water\n\n3. RECOVERY SHAKE\n   - Protein powder\n   - Banana\n   - Almond milk\n   - Berries\n\nNUTRITION TIPS\n==============\n- Eat within 30 minutes after training\n- Stay hydrated throughout the day\n- Include protein in every meal\n- Choose whole grains over refined\n- Eat colorful vegetables\n- Limit processed foods\n- Plan meals ahead of time\n\nMEAL TIMING\n===========\n- Breakfast: Within 1 hour of waking\n- Pre-workout: 2-3 hours before\n- Post-workout: Within 30 minutes\n- Dinner: 3-4 hours before bed\n- Snacks: Between meals as needed\n\nPORTION GUIDES\n==============\n- Protein: Palm-sized portion\n- Carbs: Cupped hand portion\n- Vegetables: Two fist-sized portions\n- Fats: Thumb-sized portion\n- Water: 8-10 glasses daily\n\nRECIPE MODIFICATIONS\n====================\n- Gluten-free: Use rice, quinoa, oats\n- Dairy-free: Use almond/coconut milk\n- Vegan: Use plant-based proteins\n- Low-carb: Reduce grains, increase vegetables\n- High-protein: Add extra protein sources\n\nENJOY YOUR NUTRITIOUS JOURNEY!\nThese recipes will fuel your water sports performance\nand help you achieve your training goals.\n\nMPT Contact: info@mpt.com\nNutrition Support: nutrition@mpt.com\n\nEat well, perform better! \ud83c\udf4e\ud83d\udcaa\n    ".trim()}generateMealPlansGuide(){return"\nMPT MEAL PLANS GUIDE\n====================\n\nSTRUCTURED MEAL PLANS FOR WATER SPORTS PERFORMANCE\nOptimize your nutrition for peak performance!\n\nWEEKLY MEAL PLAN STRUCTURE\n==========================\nMONDAY - POWER START\nBreakfast: Protein smoothie bowl\nLunch: Quinoa power bowl\nDinner: Grilled fish & vegetables\nSnacks: Energy balls, Greek yogurt\n\nTUESDAY - ENERGY FOCUS\nBreakfast: Oatmeal with berries\nLunch: Salmon wrap\nDinner: Turkey meatballs\nSnacks: Vegetable hummus, nuts\n\nWEDNESDAY - RECOVERY DAY\nBreakfast: Protein pancakes\nLunch: Vegetable stir fry\nDinner: Chicken curry\nSnacks: Recovery shake, fruit\n\nTHURSDAY - PERFORMANCE\nBreakfast: Power smoothie\nLunch: Quinoa salad\nDinner: Grilled salmon\nSnacks: Energy bars, yogurt\n\nFRIDAY - PREP DAY\nBreakfast: Oatmeal bowl\nLunch: Turkey wrap\nDinner: Fish tacos\nSnacks: Trail mix, smoothie\n\nSATURDAY - TRAINING DAY\nBreakfast: Protein-rich breakfast\nLunch: Post-workout meal\nDinner: Recovery dinner\nSnacks: Pre/post workout snacks\n\nSUNDAY - REST & REFUEL\nBreakfast: Leisurely breakfast\nLunch: Family meal\nDinner: Comfort food\nSnacks: Healthy treats\n\nDAILY MEAL TIMING\n=================\n6:00 AM - Wake up\n6:30 AM - Pre-workout snack (if training)\n7:00 AM - Training session\n8:00 AM - Post-workout recovery meal\n9:00 AM - Breakfast\n12:00 PM - Lunch\n3:00 PM - Afternoon snack\n6:00 PM - Dinner\n8:00 PM - Evening snack (if needed)\n\nMACRONUTRIENT BREAKDOWN\n=======================\nPROTEIN (25-30%)\n- Lean meats\n- Fish and seafood\n- Eggs\n- Dairy products\n- Plant-based proteins\n\nCARBOHYDRATES (45-50%)\n- Whole grains\n- Fruits\n- Vegetables\n- Legumes\n- Sweet potatoes\n\nFATS (20-25%)\n- Nuts and seeds\n- Avocado\n- Olive oil\n- Fatty fish\n- Coconut products\n\nHYDRATION SCHEDULE\n==================\nMorning: 2-3 glasses water\nPre-workout: 1-2 glasses\nDuring workout: Sip regularly\nPost-workout: 2-3 glasses\nAfternoon: 2-3 glasses\nEvening: 1-2 glasses\n\nSUPPLEMENT TIMING\n=================\nMorning: Multivitamin, Omega-3\nPre-workout: Caffeine, BCAAs\nPost-workout: Protein powder, Creatine\nEvening: Magnesium, Probiotics\n\nGROCERY SHOPPING LIST\n======================\nPROTEINS\n- Chicken breast\n- Salmon fillets\n- Greek yogurt\n- Eggs\n- Turkey breast\n- Tofu\n\nCARBOHYDRATES\n- Quinoa\n- Brown rice\n- Sweet potatoes\n- Oats\n- Whole grain bread\n- Bananas\n\nVEGETABLES\n- Spinach\n- Broccoli\n- Bell peppers\n- Carrots\n- Cucumber\n- Tomatoes\n\nFATS\n- Avocado\n- Almonds\n- Olive oil\n- Coconut oil\n- Chia seeds\n- Flax seeds\n\nMEAL PREP TIPS\n==============\n1. Plan meals for the week\n2. Shop on weekends\n3. Prep proteins in advance\n4. Wash and cut vegetables\n5. Cook grains in batches\n6. Store in containers\n7. Label with dates\n\nPORTION CONTROL\n===============\nUse your hand as a guide:\n- Protein: Palm size\n- Carbs: Cupped hand\n- Vegetables: Two fists\n- Fats: Thumb size\n- Water: 8-10 glasses\n\nADAPTATION GUIDELINES\n=====================\nBEGINNER (0-6 months)\n- Focus on consistency\n- Simple meal plans\n- Basic nutrition\n- Regular meal times\n\nINTERMEDIATE (6-18 months)\n- Optimize timing\n- Advanced meal prep\n- Supplement integration\n- Performance focus\n\nADVANCED (18+ months)\n- Fine-tune nutrition\n- Competition prep\n- Recovery optimization\n- Individual customization\n\nTROUBLESHOOTING\n===============\nLow Energy: Check carb intake\nPoor Recovery: Increase protein\nDigestive Issues: Add probiotics\nWeight Management: Adjust portions\nHydration: Monitor water intake\n\nSUCCESS TIPS\n=============\n- Start with one meal at a time\n- Prep meals on weekends\n- Keep healthy snacks available\n- Stay consistent with timing\n- Monitor how you feel\n- Adjust as needed\n\nTRACK YOUR PROGRESS\n===================\n- Energy levels\n- Performance improvements\n- Recovery time\n- Sleep quality\n- Mood and focus\n- Body composition\n\nYOUR NUTRITION JOURNEY STARTS HERE!\nFollow these meal plans to fuel your water sports performance\nand achieve your training goals.\n\nMPT Contact: info@mpt.com\nNutrition Support: nutrition@mpt.com\n\nEat to perform! \ud83c\udfc4\u200d\u2640\ufe0f\ud83c\udf7d\ufe0f\n    ".trim()}getResource(e){return this.resources[e]}};const Nv=function(){const[e,n]=(0,t.useState)(!1),[i,s]=(0,t.useState)(!1),[a,r]=(0,t.useState)({kitesurfing:!1,uscRecipes:!1,mealPlans:!1}),[o,l]=(0,t.useState)(null),[c,d]=(0,t.useState)(!1),[u,h]=(0,t.useState)(""),[p,m]=(0,t.useState)(""),[f,g]=(0,t.useState)(null),[v,y]=(0,t.useState)(null),b=e=>{g(e),d(!0),h(""),m("")},x=async()=>{if(!u.trim())return void m("Please enter your email address");const e=(e=>{if(!/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e))return{isValid:!1,error:"Please enter a valid email address format"};const t=e.split("@")[1].toLowerCase();if(["10minutemail.com","10minutemail.net","10minutemail.org","guerrillamail.com","guerrillamail.net","guerrillamail.org","tempmail.org","temp-mail.org","temp-mail.com","mailinator.com","mailinator.net","mailinator.org","yopmail.com","yopmail.net","yopmail.org","throwaway.email","disposablemail.com","disposablemail.net","fakeinbox.com","fakeinbox.net","fakeinbox.org","temp-mail.ru","tempmail.ru","temp-mail.com","sharklasers.com","grr.la","guerrillamailblock.com","pokemail.net","spam4.me","bccto.me","chacuo.net","dispostable.com","fake-mail.net","mailnesia.com","mintemail.com","mohmal.com","nwldx.com","pookmail.com","spamgourmet.com","spammotel.com","spamspot.com","spam.la","trashmail.com","trashmail.net","trashmail.org","wegwerfemail.de","wegwerfemail.net","wegwerfemail.org","getairmail.com","getairmail.net","getairmail.org","maildrop.cc","maildrop.net","maildrop.org","tempr.email","tmpeml.com","tmpmail.net","tmpmail.org","tmpeml.net","tmpeml.org","test.com","test.net","test.org","example.com","example.net","example.org","fake.com","fake.net","fake.org","dummy.com","dummy.net","dummy.org"].includes(t))return{isValid:!1,error:"Please use a real email address, not a temporary one"};const n=t.split(".").length>2;return["gmail.com","yahoo.com","hotmail.com","outlook.com","icloud.com","me.com","mac.com","live.com","msn.com","aol.com","protonmail.com","tutanota.com","zoho.com","fastmail.com","mail.com","gmx.com","yandex.com","mail.ru","qq.com","163.com","126.com","sina.com","sohu.com","naver.com","daum.net","hanmail.net","rediffmail.com","sify.com","indiatimes.com","rediff.com","timesmail.com","company.com","business.com","corporate.com","enterprise.com","organization.com","institution.com","university.com","college.com","school.com","education.com","academy.com","institute.com"].includes(t)||n?{isValid:!0,error:null}:{isValid:!1,error:"Please use a recognized email provider or your company email"}})(u);e.isValid?(d(!1),m(""),await S(f,u)):m(e.error)},w=()=>{d(!1),g(null),h(""),m("")},S=async(e,t)=>{r(t=>Fe(Fe({},t),{},{[e]:!0})),l(null);try{console.log("Email captured for ".concat(e," download: ").concat(t));const n={email:t,resourceType:e,timestamp:(new Date).toISOString(),source:"resources"},i=JSON.parse(localStorage.getItem("capturedEmails")||"[]");i.push(n),localStorage.setItem("capturedEmails",JSON.stringify(i)),jv.downloadResource(e,t);const s=jv.getResource(e).title;l({message:"\u2705 ".concat(s," downloaded successfully! Thank you for providing your email."),resourceKey:e}),setTimeout(()=>{r(t=>Fe(Fe({},t),{},{[e]:!1}))},1e3),setTimeout(()=>{l(null)},5e3)}catch(n){console.error("Download failed:",n),l({message:"\u274c Download failed: ".concat(n.message),resourceKey:e,isError:!0}),r(t=>Fe(Fe({},t),{},{[e]:!1})),setTimeout(()=>{l(null)},5e3)}};return(0,Ce.jsxs)("div",{className:"resources-page",children:[(0,Ce.jsx)("section",{className:"resources-hero",style:{background:"linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url('/images/hero/homepage.jpeg') center/cover",height:"60vh",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",color:"white"},children:(0,Ce.jsxs)("div",{className:"hero-content",children:[(0,Ce.jsx)("h1",{children:"Resources"}),(0,Ce.jsx)("p",{children:"Helpful guides, tips, and information to enhance your water sports journey and improve your skills."})]})}),(0,Ce.jsxs)("section",{className:"safety-section",style:{position:"relative",background:"linear-gradient(135deg, #f8fafc 0%, #ffffff 100%)",padding:"4rem 0"},children:[(0,Ce.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none"},children:[...Array(15)].map((e,t)=>(0,Ce.jsx)("div",{style:{position:"absolute",width:"".concat(3+5*Math.random(),"px"),height:"".concat(3+5*Math.random(),"px"),background:"linear-gradient(45deg, \n                  rgba(255, 215, 0, ".concat(.9+.1*Math.random(),"), \n                  rgba(255, 255, 255, ").concat(.6+.3*Math.random(),"),\n                  rgba(255, 215, 0, ").concat(.7+.2*Math.random(),"))"),borderRadius:"2px",left:"".concat(100*Math.random(),"%"),top:"".concat(100*Math.random(),"%"),animation:"goldenSparkle ".concat(2+3*Math.random(),"s ease-in-out infinite"),animationDelay:"".concat(4*Math.random(),"s"),transform:"rotate(45deg)",filter:"drop-shadow(0 0 ".concat(8+12*Math.random(),"px rgba(255, 215, 0, ").concat(.5+.4*Math.random(),"))")}},"nutrition-sparkle-".concat(t)))}),(0,Ce.jsxs)("div",{className:"container",children:[(0,Ce.jsxs)("div",{className:"thrill-text",children:[(0,Ce.jsx)("h2",{className:"luxury-features-title",style:{color:"#0891b2",fontSize:"2.5rem",fontWeight:"800",textAlign:"center",marginBottom:"1rem"},children:"\u2728 Nutrition Resources \u2728"}),(0,Ce.jsx)("p",{className:"luxury-features-description",children:"Essential nutrition guides and meal plans to fuel your water sports performance and recovery"})]}),(0,Ce.jsxs)("div",{className:"luxury-features-grid",children:[(0,Ce.jsxs)("div",{className:"feature-card luxury-feature-card scroll-fade-in",children:[(0,Ce.jsx)("h3",{className:"luxury-feature-title",children:"Kitesurfing Safety"}),(0,Ce.jsx)("p",{className:"luxury-feature-description",children:"Essential safety guidelines for kitesurfing, including weather conditions, equipment checks, and emergency procedures."}),(0,Ce.jsxs)("div",{className:"feature-benefits luxury-benefits",children:[(0,Ce.jsxs)("div",{className:"benefit-item luxury-benefit-item",children:[(0,Ce.jsx)(Xe,{}),(0,Ce.jsx)("span",{children:"Weather condition guidelines"})]}),(0,Ce.jsxs)("div",{className:"benefit-item luxury-benefit-item",children:[(0,Ce.jsx)(Xe,{}),(0,Ce.jsx)("span",{children:"Equipment safety checks"})]}),(0,Ce.jsxs)("div",{className:"benefit-item luxury-benefit-item",children:[(0,Ce.jsx)(Xe,{}),(0,Ce.jsx)("span",{children:"Emergency procedures"})]}),(0,Ce.jsxs)("div",{className:"benefit-item luxury-benefit-item",children:[(0,Ce.jsx)(Xe,{}),(0,Ce.jsx)("span",{children:"Best practices guide"})]})]}),(0,Ce.jsx)("button",{className:"resource-btn ".concat(a.kitesurfing?"downloading":""),onClick:()=>b("kitesurfing"),disabled:a.kitesurfing,style:{marginTop:"1rem",width:"100%"},children:a.kitesurfing?"\ud83d\udce5 Downloading...":"\ud83d\udce5 Download Guide"}),(0,Ce.jsx)("div",{className:"feature-luxury-border"})]}),(0,Ce.jsxs)("div",{className:"feature-card luxury-feature-card scroll-fade-in",children:[(0,Ce.jsx)("h3",{className:"luxury-feature-title",children:"USC Recipes"}),(0,Ce.jsx)("p",{className:"luxury-feature-description",children:"Delicious and nutritious recipes designed for optimal sports performance and recovery."}),(0,Ce.jsxs)("div",{className:"feature-benefits luxury-benefits",children:[(0,Ce.jsxs)("div",{className:"benefit-item luxury-benefit-item",children:[(0,Ce.jsx)(Xe,{}),(0,Ce.jsx)("span",{children:"Performance-focused meals"})]}),(0,Ce.jsxs)("div",{className:"benefit-item luxury-benefit-item",children:[(0,Ce.jsx)(Xe,{}),(0,Ce.jsx)("span",{children:"Recovery nutrition"})]}),(0,Ce.jsxs)("div",{className:"benefit-item luxury-benefit-item",children:[(0,Ce.jsx)(Xe,{}),(0,Ce.jsx)("span",{children:"Easy preparation"})]}),(0,Ce.jsxs)("div",{className:"benefit-item luxury-benefit-item",children:[(0,Ce.jsx)(Xe,{}),(0,Ce.jsx)("span",{children:"Nutrient-dense ingredients"})]})]}),(0,Ce.jsx)("button",{className:"resource-btn ".concat(a.uscRecipes?"downloading":""),onClick:()=>b("uscRecipes"),disabled:a.uscRecipes,style:{marginTop:"1rem",width:"100%"},children:a.uscRecipes?"\ud83d\udce5 Downloading...":"\ud83d\udce5 Download Guide"}),(0,Ce.jsx)("div",{className:"feature-luxury-border"})]}),(0,Ce.jsxs)("div",{className:"feature-card luxury-feature-card scroll-fade-in",children:[(0,Ce.jsx)("h3",{className:"luxury-feature-title",children:"Meal Plans"}),(0,Ce.jsx)("p",{className:"luxury-feature-description",children:"Structured meal plans to fuel your training and optimize your water sports performance."}),(0,Ce.jsxs)("div",{className:"feature-benefits luxury-benefits",children:[(0,Ce.jsxs)("div",{className:"benefit-item luxury-benefit-item",children:[(0,Ce.jsx)(Xe,{}),(0,Ce.jsx)("span",{children:"Training day nutrition"})]}),(0,Ce.jsxs)("div",{className:"benefit-item luxury-benefit-item",children:[(0,Ce.jsx)(Xe,{}),(0,Ce.jsx)("span",{children:"Competition preparation"})]}),(0,Ce.jsxs)("div",{className:"benefit-item luxury-benefit-item",children:[(0,Ce.jsx)(Xe,{}),(0,Ce.jsx)("span",{children:"Recovery optimization"})]}),(0,Ce.jsxs)("div",{className:"benefit-item luxury-benefit-item",children:[(0,Ce.jsx)(Xe,{}),(0,Ce.jsx)("span",{children:"Macro balancing"})]})]}),(0,Ce.jsx)("button",{className:"resource-btn ".concat(a.mealPlans?"downloading":""),onClick:()=>b("mealPlans"),disabled:a.mealPlans,style:{marginTop:"1rem",width:"100%"},children:a.mealPlans?"\ud83d\udce5 Downloading...":"\ud83d\udce5 Download Guide"}),(0,Ce.jsx)("div",{className:"feature-luxury-border"})]})]})]})]}),(0,Ce.jsx)("section",{className:"tips-section",children:(0,Ce.jsxs)("div",{className:"container",children:[(0,Ce.jsx)("h2",{children:"Tips & Tricks"}),(0,Ce.jsxs)("div",{className:"tips-grid",children:[(0,Ce.jsxs)("div",{className:"tip-card",children:[(0,Ce.jsx)("h3",{children:"Beginner Tips"}),(0,Ce.jsxs)("ul",{children:[(0,Ce.jsx)("li",{children:"Start with proper instruction"}),(0,Ce.jsx)("li",{children:"Practice kite control on land"}),(0,Ce.jsx)("li",{children:"Always check weather conditions"}),(0,Ce.jsx)("li",{children:"Use appropriate safety gear"})]})]}),(0,Ce.jsxs)("div",{className:"tip-card",children:[(0,Ce.jsx)("h3",{children:"Advanced Techniques"}),(0,Ce.jsxs)("ul",{children:[(0,Ce.jsx)("li",{children:"Master wave riding"}),(0,Ce.jsx)("li",{children:"Perfect your jumps"}),(0,Ce.jsx)("li",{children:"Learn advanced maneuvers"}),(0,Ce.jsx)("li",{children:"Improve board control"})]})]}),(0,Ce.jsxs)("div",{className:"tip-card",children:[(0,Ce.jsx)("h3",{children:"Equipment Care"}),(0,Ce.jsxs)("ul",{children:[(0,Ce.jsx)("li",{children:"Regular equipment inspection"}),(0,Ce.jsx)("li",{children:"Proper storage techniques"}),(0,Ce.jsx)("li",{children:"Maintenance schedules"}),(0,Ce.jsx)("li",{children:"Repair best practices"})]})]})]})]})}),(0,Ce.jsx)("section",{className:"weather-section",children:(0,Ce.jsxs)("div",{className:"container",children:[(0,Ce.jsx)("h2",{children:"Weather & Conditions"}),(0,Ce.jsxs)("div",{className:"weather-content",children:[(0,Ce.jsxs)("div",{className:"weather-info",children:[(0,Ce.jsx)("h3",{children:"Best Conditions"}),(0,Ce.jsx)("p",{children:"Optimal weather conditions for water sports activities:"}),(0,Ce.jsxs)("ul",{children:[(0,Ce.jsxs)("li",{children:[(0,Ce.jsx)("strong",{children:"Wind Speed:"})," 15-25 km/h (ideal for kitesurfing)"]}),(0,Ce.jsxs)("li",{children:[(0,Ce.jsx)("strong",{children:"Temperature:"})," 20-30\xb0C (comfortable for water activities)"]}),(0,Ce.jsxs)("li",{children:[(0,Ce.jsx)("strong",{children:"Visibility:"})," 10+ km (clear conditions)"]}),(0,Ce.jsxs)("li",{children:[(0,Ce.jsx)("strong",{children:"Weather:"})," Clear to partly cloudy skies"]}),(0,Ce.jsxs)("li",{children:[(0,Ce.jsx)("strong",{children:"Wind Direction:"})," Onshore or cross-shore winds"]}),(0,Ce.jsxs)("li",{children:[(0,Ce.jsx)("strong",{children:"Wave Height:"})," 0.5-1.5m (manageable for beginners)"]})]}),(0,Ce.jsxs)("div",{className:"best-conditions-rating",children:[(0,Ce.jsxs)("div",{className:"rating-badge excellent",children:[(0,Ce.jsx)("span",{className:"rating-icon",children:"\ud83c\udf0a"}),(0,Ce.jsx)("span",{className:"rating-text",children:"Excellent: 8-10/10"})]}),(0,Ce.jsxs)("div",{className:"rating-badge good",children:[(0,Ce.jsx)("span",{className:"rating-icon",children:"\ud83c\udf24\ufe0f"}),(0,Ce.jsx)("span",{className:"rating-text",children:"Good: 6-7/10"})]}),(0,Ce.jsxs)("div",{className:"rating-badge moderate",children:[(0,Ce.jsx)("span",{className:"rating-icon",children:"\ud83c\udf2b\ufe0f"}),(0,Ce.jsx)("span",{className:"rating-text",children:"Moderate: 4-5/10"})]})]})]}),(0,Ce.jsxs)("div",{className:"weather-widget",children:[(0,Ce.jsx)("h3",{children:"Current Conditions"}),(0,Ce.jsxs)("div",{className:"weather-display",children:[(0,Ce.jsx)("p",{children:"Check our live weather feed for real-time conditions"}),(0,Ce.jsx)("button",{className:"weather-btn ".concat(i?"loading":""),onClick:async()=>{s(!0),await new Promise(e=>setTimeout(e,500)),s(!1),n(!0)},disabled:i,children:i?(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)("span",{children:"\u23f3"}),(0,Ce.jsx)("span",{children:"Loading..."})]}):(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)("span",{children:"\ud83c\udf0a"}),(0,Ce.jsx)("span",{children:"View Live Weather"})]})})]})]})]})]})}),o&&(0,Ce.jsxs)("div",{className:"download-notification ".concat(o.isError?"error":"success"),children:[(0,Ce.jsx)("span",{className:"notification-message",children:o.message}),(0,Ce.jsx)("button",{className:"notification-close",onClick:()=>l(null),children:"\xd7"})]}),c&&(0,Ce.jsx)("div",{className:"email-modal-overlay",children:(0,Ce.jsxs)("div",{className:"email-modal",children:[(0,Ce.jsxs)("div",{className:"email-modal-header",children:[(0,Ce.jsx)("h3",{children:"\ud83d\udce7 Enter Your Email"}),(0,Ce.jsx)("button",{className:"modal-close",onClick:w,children:"\xd7"})]}),(0,Ce.jsxs)("div",{className:"email-modal-content",children:[(0,Ce.jsx)("p",{children:"Please enter your email address to download the safety guide. We'll also send you additional resources and tips!"}),(0,Ce.jsxs)("div",{className:"email-input-group",children:[(0,Ce.jsx)("input",{type:"email",id:"resource-email-input",name:"resourceEmail",placeholder:"your.email@example.com",value:u,onChange:e=>h(e.target.value),className:"email-input ".concat(p?"error":""),onKeyPress:e=>"Enter"===e.key&&x()}),p&&(0,Ce.jsx)("span",{className:"email-error",children:p})]}),(0,Ce.jsxs)("div",{className:"email-modal-actions",children:[(0,Ce.jsx)("button",{className:"btn-cancel",onClick:w,children:"Cancel"}),(0,Ce.jsx)("button",{className:"btn-download",onClick:x,children:"Download Guide"})]})]})]})}),(0,Ce.jsx)(pt,{isOpen:e,onClose:()=>n(!1)})]})};const Cv=function(){return(0,Ce.jsxs)("div",{className:"about-page",children:[(0,Ce.jsx)("section",{className:"about-hero",style:{background:"linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url('/images/hero/homepage.jpeg') center/cover",height:"60vh",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",color:"white"},children:(0,Ce.jsxs)("div",{className:"hero-content",children:[(0,Ce.jsx)("h1",{children:"About Us"}),(0,Ce.jsx)("p",{children:"Learn about our passion for water sports and our commitment to helping you achieve your goals."})]})}),(0,Ce.jsx)("section",{className:"story-section",children:(0,Ce.jsx)("div",{className:"container",children:(0,Ce.jsxs)("div",{className:"story-content",children:[(0,Ce.jsxs)("div",{className:"story-text",children:[(0,Ce.jsx)("h2",{children:"Our Story"}),(0,Ce.jsx)("p",{children:"With 14 years of experience in sports and fitness, Chloe paused her personal training journey in 2021 to educate the next generation of trainers on the Sunshine Coast while pursuing a Bachelor of Clinical Exercise Physiology."}),(0,Ce.jsx)("p",{children:"An extreme sports enthusiast and strength training expert, Chloe's passion extends beyond traditional fitness. When not coaching, you'll find her mastering waves through kitesurfing, wing foiling, or pushing her limits in the gym with heavy deadlifts and functional training."}),(0,Ce.jsx)("p",{children:"Before personal training, Chloe was a scuba diving and kitesurfing instructor. Today, she channels this diverse experience into helping clients achieve their fitness goals, combining water sports expertise with strength training mastery to create a healthier, happier world."})]}),(0,Ce.jsx)("div",{className:"story-image",children:(0,Ce.jsx)("img",{src:"/images/story/deadlift-story.jpg",alt:"Chloe performing deadlift - Our Story"})})]})})}),(0,Ce.jsx)("section",{className:"values-section",children:(0,Ce.jsxs)("div",{className:"container",children:[(0,Ce.jsx)("h2",{children:"Our Values"}),(0,Ce.jsxs)("div",{className:"values-grid",children:[(0,Ce.jsxs)("div",{className:"value-card",children:[(0,Ce.jsx)("div",{className:"value-icon",children:"\ud83c\udfc6"}),(0,Ce.jsx)("h3",{children:"Excellence"}),(0,Ce.jsx)("p",{children:"We strive for excellence in everything we do, from instruction quality to equipment maintenance."})]}),(0,Ce.jsxs)("div",{className:"value-card",children:[(0,Ce.jsx)("div",{className:"value-icon",children:"\ud83d\udee1\ufe0f"}),(0,Ce.jsx)("h3",{children:"Safety"}),(0,Ce.jsx)("p",{children:"Safety is our top priority. We maintain the highest safety standards in all our programs."})]}),(0,Ce.jsxs)("div",{className:"value-card",children:[(0,Ce.jsx)("div",{className:"value-icon",children:"\ud83e\udd1d"}),(0,Ce.jsx)("h3",{children:"Community"}),(0,Ce.jsx)("p",{children:"We build and support a strong water sports community through events and shared experiences."})]}),(0,Ce.jsxs)("div",{className:"value-card",children:[(0,Ce.jsx)("div",{className:"value-icon",children:"\ud83c\udf0a"}),(0,Ce.jsx)("h3",{children:"Adventure"}),(0,Ce.jsx)("p",{children:"We inspire a sense of adventure and exploration in all our students and programs."})]})]})]})}),(0,Ce.jsx)("section",{className:"team-section",children:(0,Ce.jsxs)("div",{className:"container",children:[(0,Ce.jsx)("h2",{children:"Meet Our Founder"}),(0,Ce.jsx)("div",{className:"team-grid",children:(0,Ce.jsxs)("div",{className:"team-member featured",children:[(0,Ce.jsx)("div",{className:"member-image",children:(0,Ce.jsx)("img",{src:"/images/team/chloe-headshot.jpg",alt:"Chloe Barrett - Founder & Head Instructor"})}),(0,Ce.jsxs)("div",{className:"member-info",children:[(0,Ce.jsx)("h3",{children:"Chloe Barrett"}),(0,Ce.jsx)("p",{className:"member-title",children:"Founder & Head Instructor"}),(0,Ce.jsx)("p",{className:"member-description",children:"With 14 years of experience in sports and fitness, Chloe leads Movement Performance Training with passion and expertise. An extreme sports enthusiast, she specializes in kitesurfing, wing foiling, and movement performance training."}),(0,Ce.jsxs)("div",{className:"member-credentials",children:[(0,Ce.jsx)("span",{className:"credential",children:"Bachelor of Clinical Exercise Physiology"}),(0,Ce.jsx)("span",{className:"credential",children:"Certified Personal Trainer"}),(0,Ce.jsx)("span",{className:"credential",children:"Scuba Diving & Kitesurfing Instructor"})]})]})]})})]})}),(0,Ce.jsx)("section",{className:"achievements-section",children:(0,Ce.jsxs)("div",{className:"container",children:[(0,Ce.jsx)("h2",{children:"Our Achievements"}),(0,Ce.jsxs)("div",{className:"achievements-grid",children:[(0,Ce.jsxs)("div",{className:"achievement-card",children:[(0,Ce.jsx)("div",{className:"achievement-number",children:"20+"}),(0,Ce.jsx)("h3",{children:"Years Experience"}),(0,Ce.jsx)("p",{children:"Over two decades of water sports instruction excellence"})]}),(0,Ce.jsxs)("div",{className:"achievement-card",children:[(0,Ce.jsx)("div",{className:"achievement-number",children:"5000+"}),(0,Ce.jsx)("h3",{children:"Students Trained"}),(0,Ce.jsx)("p",{children:"Thousands of successful students across all skill levels"})]}),(0,Ce.jsxs)("div",{className:"achievement-card",children:[(0,Ce.jsx)("div",{className:"achievement-number",children:"100%"}),(0,Ce.jsx)("h3",{children:"Safety Record"}),(0,Ce.jsx)("p",{children:"Perfect safety record with zero major incidents"})]}),(0,Ce.jsxs)("div",{className:"achievement-card",children:[(0,Ce.jsx)("div",{className:"achievement-number",children:"50+"}),(0,Ce.jsx)("h3",{children:"Certified Instructors"}),(0,Ce.jsx)("p",{children:"Team of highly qualified and certified instructors"})]})]})]})})]})};const Mv=function(){const[e,n]=(0,t.useState)({firstName:"",lastName:"",email:"",phone:"",subject:"",message:""}),[i,s]=(0,t.useState)(!1),[a,r]=(0,t.useState)(null),o=e=>{const{name:t,value:i}=e.target;n(e=>Fe(Fe({},e),{},{[t]:i}))};return(0,Ce.jsxs)("div",{className:"contact-page",children:[(0,Ce.jsx)("section",{className:"contact-hero",style:{background:"linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url('/images/hero/homepage.jpeg') center/cover",height:"60vh",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",color:"white"},children:(0,Ce.jsxs)("div",{className:"hero-content",children:[(0,Ce.jsx)("h1",{children:"Contact Us"}),(0,Ce.jsx)("p",{children:"Get in touch with our team for any questions, bookings, or inquiries about our water sports training programs."})]})}),(0,Ce.jsx)("section",{className:"contact-info-section",children:(0,Ce.jsx)("div",{className:"container",children:(0,Ce.jsxs)("div",{className:"contact-grid",children:[(0,Ce.jsxs)("div",{className:"contact-card",children:[(0,Ce.jsx)("div",{className:"contact-icon",children:(0,Ce.jsx)(Ze,{})}),(0,Ce.jsx)("h3",{children:"Our Location"}),(0,Ce.jsxs)("a",{href:"https://maps.google.com/maps?q=Birtinya+QLD+4575+Australia",target:"_blank",rel:"noopener noreferrer",className:"location-link",children:[(0,Ce.jsx)("p",{children:"\ud83d\udccd Birtinya, QLD 4575"}),(0,Ce.jsx)("p",{children:"Sunshine Coast, Queensland, Australia"}),(0,Ce.jsx)("span",{className:"directions-hint",children:"Click to get directions from your location"})]})]}),(0,Ce.jsxs)("div",{className:"contact-card",children:[(0,Ce.jsx)("div",{className:"contact-icon",children:(0,Ce.jsx)(et,{})}),(0,Ce.jsx)("h3",{children:"Phone"}),(0,Ce.jsx)("p",{children:"04 98 471 509"}),(0,Ce.jsx)("p",{children:"Available during business hours"})]}),(0,Ce.jsxs)("div",{className:"contact-card",children:[(0,Ce.jsx)("div",{className:"contact-icon",children:(0,Ce.jsx)(Je,{})}),(0,Ce.jsx)("h3",{children:"Email"}),(0,Ce.jsx)("p",{children:"chloebarrettraining@icloud.com"}),(0,Ce.jsx)("p",{children:"We'll respond within 24 hours"})]}),(0,Ce.jsxs)("div",{className:"contact-card",children:[(0,Ce.jsx)("div",{className:"contact-icon",children:(0,Ce.jsx)(Qe,{})}),(0,Ce.jsx)("h3",{children:"Business Hours"}),(0,Ce.jsx)("p",{children:"Monday - Sunday"}),(0,Ce.jsx)("p",{children:"08:00 - 18:00"})]})]})})}),(0,Ce.jsx)("section",{className:"contact-form-section",children:(0,Ce.jsx)("div",{className:"container",children:(0,Ce.jsxs)("div",{className:"form-content",children:[(0,Ce.jsxs)("div",{className:"form-info",children:[(0,Ce.jsx)("h2",{children:"Send us a Message"}),(0,Ce.jsx)("p",{children:"Fill out the form below and we'll get back to you as soon as possible. Whether you're interested in lessons, equipment, or just have questions, we're here to help!"}),(0,Ce.jsxs)("div",{className:"form-features",children:[(0,Ce.jsxs)("div",{className:"feature",children:[(0,Ce.jsx)("h4",{children:"Quick Response"}),(0,Ce.jsx)("p",{children:"We typically respond within 24 hours"})]}),(0,Ce.jsxs)("div",{className:"feature",children:[(0,Ce.jsx)("h4",{children:"Expert Advice"}),(0,Ce.jsx)("p",{children:"Get personalized recommendations from our team"})]}),(0,Ce.jsxs)("div",{className:"feature",children:[(0,Ce.jsx)("h4",{children:"Flexible Booking"}),(0,Ce.jsx)("p",{children:"We'll work with your schedule"})]})]})]}),(0,Ce.jsx)("div",{className:"contact-form",children:(0,Ce.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),s(!0),r(null);try{const t=await ot.post("/contacts/submit",e);r(t),t.success&&n({firstName:"",lastName:"",email:"",phone:"",subject:"",message:""})}catch(i){r({success:!1,message:"Error connecting to server: "+i.message})}finally{s(!1)}},children:[(0,Ce.jsxs)("div",{className:"form-row",children:[(0,Ce.jsxs)("div",{className:"form-group",children:[(0,Ce.jsx)("label",{htmlFor:"firstName",children:"First Name *"}),(0,Ce.jsx)("input",{type:"text",id:"firstName",name:"firstName",value:e.firstName,onChange:o,required:!0})]}),(0,Ce.jsxs)("div",{className:"form-group",children:[(0,Ce.jsx)("label",{htmlFor:"lastName",children:"Last Name *"}),(0,Ce.jsx)("input",{type:"text",id:"lastName",name:"lastName",value:e.lastName,onChange:o,required:!0})]})]}),(0,Ce.jsxs)("div",{className:"form-row",children:[(0,Ce.jsxs)("div",{className:"form-group",children:[(0,Ce.jsx)("label",{htmlFor:"email",children:"Email *"}),(0,Ce.jsx)("input",{type:"email",id:"email",name:"email",value:e.email,onChange:o,required:!0})]}),(0,Ce.jsxs)("div",{className:"form-group",children:[(0,Ce.jsx)("label",{htmlFor:"phone",children:"Phone"}),(0,Ce.jsx)("input",{type:"tel",id:"phone",name:"phone",value:e.phone,onChange:o})]})]}),(0,Ce.jsxs)("div",{className:"form-group",children:[(0,Ce.jsx)("label",{htmlFor:"subject",children:"Subject *"}),(0,Ce.jsxs)("select",{id:"subject",name:"subject",value:e.subject,onChange:o,required:!0,children:[(0,Ce.jsx)("option",{value:"",children:"Select a subject"}),(0,Ce.jsx)("option",{value:"booking",children:"Lesson Booking"}),(0,Ce.jsx)("option",{value:"equipment",children:"Equipment Rental"}),(0,Ce.jsx)("option",{value:"pricing",children:"Pricing Information"}),(0,Ce.jsx)("option",{value:"safety",children:"Safety Questions"}),(0,Ce.jsx)("option",{value:"general",children:"General Inquiry"})]})]}),(0,Ce.jsxs)("div",{className:"form-group",children:[(0,Ce.jsx)("label",{htmlFor:"message",children:"Message *"}),(0,Ce.jsx)("textarea",{id:"message",name:"message",rows:"6",value:e.message,onChange:o,required:!0,placeholder:"Tell us about your inquiry..."})]}),(0,Ce.jsx)("div",{className:"form-group",children:(0,Ce.jsxs)("label",{className:"checkbox-label",children:[(0,Ce.jsx)("input",{type:"checkbox",name:"newsletter"}),(0,Ce.jsx)("span",{children:"Subscribe to our newsletter for updates and special offers"})]})}),a&&(0,Ce.jsx)("div",{className:"submit-result ".concat(a.success?"success":"error"),children:a.message}),(0,Ce.jsx)("button",{type:"submit",className:"submit-btn",disabled:i,children:i?"Sending...":"Send Message"})]})})]})})}),(0,Ce.jsx)("section",{className:"location-section",children:(0,Ce.jsxs)("div",{className:"container",children:[(0,Ce.jsx)("h2",{children:"Find Us"}),(0,Ce.jsxs)("div",{className:"location-content",children:[(0,Ce.jsxs)("div",{className:"location-sidebar",children:[(0,Ce.jsxs)("div",{className:"location-header",children:[(0,Ce.jsx)("p",{className:"location-address",children:"\ud83d\udccd Birtinya, QLD 4575"}),(0,Ce.jsx)("p",{className:"location-region",children:"Sunshine Coast, Queensland, Australia"})]}),(0,Ce.jsx)("div",{className:"location-description",children:(0,Ce.jsx)("p",{children:"Our facility provides the perfect environment for movement performance training and development."})})]}),(0,Ce.jsx)("div",{className:"location-main",children:(0,Ce.jsxs)("div",{className:"location-section-item compact",children:[(0,Ce.jsxs)("div",{className:"section-header",children:[(0,Ce.jsx)("span",{className:"section-icon",children:"\ud83d\udccd"}),(0,Ce.jsx)("h4",{children:"Our Location"})]}),(0,Ce.jsx)("div",{className:"section-content",children:(0,Ce.jsxs)("a",{href:"https://maps.google.com/maps?q=Birtinya+QLD+4575+Australia",target:"_blank",rel:"noopener noreferrer",className:"location-link",children:[(0,Ce.jsx)("p",{children:"Birtinya, QLD 4575, Sunshine Coast, Queensland, Australia"}),(0,Ce.jsx)("span",{className:"directions-hint",children:"Click to get directions from your location"})]})})]})})]})]})}),(0,Ce.jsx)("section",{className:"emergency-section",children:(0,Ce.jsxs)("div",{className:"container",children:[(0,Ce.jsx)("h2",{children:"Emergency Contact"}),(0,Ce.jsxs)("div",{className:"emergency-content",children:[(0,Ce.jsxs)("div",{className:"emergency-card",children:[(0,Ce.jsx)("h3",{children:"During Business Hours"}),(0,Ce.jsxs)("p",{children:["Call us directly at ",(0,Ce.jsx)("strong",{children:"04 98 471 509"})]})]}),(0,Ce.jsxs)("div",{className:"emergency-card",children:[(0,Ce.jsx)("h3",{children:"After Hours"}),(0,Ce.jsx)("p",{children:"For urgent matters, contact our emergency line"}),(0,Ce.jsx)("p",{children:(0,Ce.jsx)("strong",{children:"Emergency: 000"})})]})]})]})})]})},Tv=()=>(0,Ce.jsx)("div",{className:"privacy-page",children:(0,Ce.jsxs)("div",{className:"container",children:[(0,Ce.jsx)("h1",{children:"Privacy Policy"}),(0,Ce.jsxs)("section",{className:"privacy-section",children:[(0,Ce.jsx)("h2",{children:"Information We Collect"}),(0,Ce.jsx)("p",{children:"We collect information you provide directly to us, such as when you book a consultation, sign up for our newsletter, or contact us for support."}),(0,Ce.jsx)("p",{children:"This may include:"}),(0,Ce.jsxs)("ul",{children:[(0,Ce.jsx)("li",{children:"Name and contact information"}),(0,Ce.jsx)("li",{children:"Booking preferences and requirements"}),(0,Ce.jsx)("li",{children:"Communication history"}),(0,Ce.jsx)("li",{children:"Payment information"})]})]}),(0,Ce.jsxs)("section",{className:"privacy-section",children:[(0,Ce.jsx)("h2",{children:"How We Use Your Information"}),(0,Ce.jsx)("p",{children:"We use the information we collect to:"}),(0,Ce.jsxs)("ul",{children:[(0,Ce.jsx)("li",{children:"Provide and improve our services"}),(0,Ce.jsx)("li",{children:"Process bookings and payments"}),(0,Ce.jsx)("li",{children:"Communicate with you about your sessions"}),(0,Ce.jsx)("li",{children:"Send you updates and marketing materials (with your consent)"}),(0,Ce.jsx)("li",{children:"Respond to your inquiries and support requests"})]})]}),(0,Ce.jsxs)("section",{className:"privacy-section",children:[(0,Ce.jsx)("h2",{children:"Information Sharing"}),(0,Ce.jsx)("p",{children:"We do not sell, trade, or otherwise transfer your personal information to third parties without your consent, except as described in this policy."}),(0,Ce.jsx)("p",{children:"We may share your information with:"}),(0,Ce.jsxs)("ul",{children:[(0,Ce.jsx)("li",{children:"Service providers who assist in our operations"}),(0,Ce.jsx)("li",{children:"Legal authorities when required by law"}),(0,Ce.jsx)("li",{children:"Other parties with your explicit consent"})]})]}),(0,Ce.jsxs)("section",{className:"privacy-section",children:[(0,Ce.jsx)("h2",{children:"Data Security"}),(0,Ce.jsx)("p",{children:"We implement appropriate security measures to protect your personal information against unauthorized access, alteration, disclosure, or destruction."})]}),(0,Ce.jsxs)("section",{className:"privacy-section",children:[(0,Ce.jsx)("h2",{children:"Your Rights"}),(0,Ce.jsx)("p",{children:"You have the right to:"}),(0,Ce.jsxs)("ul",{children:[(0,Ce.jsx)("li",{children:"Access your personal information"}),(0,Ce.jsx)("li",{children:"Correct inaccurate information"}),(0,Ce.jsx)("li",{children:"Request deletion of your information"}),(0,Ce.jsx)("li",{children:"Opt out of marketing communications"}),(0,Ce.jsx)("li",{children:"Withdraw consent for data processing"})]})]}),(0,Ce.jsxs)("section",{className:"privacy-section",children:[(0,Ce.jsx)("h2",{children:"Contact Us"}),(0,Ce.jsx)("p",{children:"If you have any questions about this Privacy Policy or our data practices, please contact us at:"}),(0,Ce.jsx)("p",{children:"Email: chloebarrettraining@icloud.com"}),(0,Ce.jsx)("p",{children:"Phone: 04 98 471 509"})]}),(0,Ce.jsxs)("section",{className:"privacy-section",children:[(0,Ce.jsx)("h2",{children:"Updates to This Policy"}),(0,Ce.jsx)("p",{children:'We may update this Privacy Policy from time to time. We will notify you of any changes by posting the new policy on this page and updating the "Last Updated" date.'}),(0,Ce.jsx)("p",{children:"Last Updated: December 2024"})]})]})}),Pv=()=>(0,Ce.jsx)("div",{className:"terms-page",children:(0,Ce.jsxs)("div",{className:"container",children:[(0,Ce.jsxs)("div",{className:"terms-header",children:[(0,Ce.jsx)("h1",{children:"Movement Performance Training \u2013 Terms and Conditions"}),(0,Ce.jsx)("p",{className:"terms-intro",children:'These Terms and Conditions ("Terms") govern your participation in any online training programs offered by Movement Performance Training ("we", "us", "our"), owned and operated by Chloe Barrett, based in Australia. By purchasing or enrolling in a program, you agree to be bound by these Terms, in accordance with Australian Consumer Law (ACL).'})]}),(0,Ce.jsxs)("div",{className:"terms-content",children:[(0,Ce.jsxs)("section",{className:"terms-section",children:[(0,Ce.jsx)("h2",{children:"1. Program Types and Payment Terms"}),(0,Ce.jsxs)("div",{className:"terms-subsection",children:[(0,Ce.jsx)("h3",{children:"1.1. Pay Upfront Programs (Boardrider and Engine Programs):"}),(0,Ce.jsxs)("ul",{children:[(0,Ce.jsx)("li",{children:"Full payment is required upfront to gain access to the program."}),(0,Ce.jsx)("li",{children:"These programs include a 3-day trial period, beginning on the date of purchase."})]})]}),(0,Ce.jsxs)("div",{className:"terms-subsection",children:[(0,Ce.jsx)("h3",{children:"1.2. Elite Program (Subscription Model):"}),(0,Ce.jsxs)("ul",{children:[(0,Ce.jsx)("li",{children:"Billed weekly on a recurring basis for 6 weeks."}),(0,Ce.jsx)("li",{children:"Includes a 7-day free trial starting from the date of registration."}),(0,Ce.jsx)("li",{children:"Payments commence immediately after the 7-day trial unless the program is cancelled within the trial period."})]})]})]}),(0,Ce.jsxs)("section",{className:"terms-section",children:[(0,Ce.jsx)("h2",{children:"2. Trial Periods and Cancellations"}),(0,Ce.jsxs)("div",{className:"terms-subsection",children:[(0,Ce.jsx)("h3",{children:"2.1. Trial Period Cancellation:"}),(0,Ce.jsxs)("ul",{children:[(0,Ce.jsxs)("li",{children:["You may cancel your enrolment during the applicable trial period (3 days for pay upfront programs, 7 days for Elite) by emailing ",(0,Ce.jsx)("a",{href:"mailto:chloebarrettraining@icloud.com",children:"chloebarrettraining@icloud.com"})," with your name and order number."]}),(0,Ce.jsx)("li",{children:"If cancelled within the trial, you will not be charged."})]})]}),(0,Ce.jsxs)("div",{className:"terms-subsection",children:[(0,Ce.jsx)("h3",{children:"2.2. Post-Trial Cancellation and Refunds:"}),(0,Ce.jsxs)("ul",{children:[(0,Ce.jsx)("li",{children:"No cancellations or refunds are available after the trial period has ended, except as required under Australian Consumer Law."}),(0,Ce.jsx)("li",{children:"By continuing beyond the trial, you acknowledge that you are committing to the full payment terms and waive your right to refund or cancellation based on change of mind or personal circumstances."})]})]})]}),(0,Ce.jsxs)("section",{className:"terms-section",children:[(0,Ce.jsx)("h2",{children:"3. Australian Consumer Law Compliance"}),(0,Ce.jsx)("p",{children:"Nothing in these Terms excludes or limits your rights under the Australian Consumer Law. You are entitled to a refund or replacement if a service:"}),(0,Ce.jsxs)("ul",{children:[(0,Ce.jsx)("li",{children:"Is not delivered with acceptable care and skill,"}),(0,Ce.jsx)("li",{children:"Is unfit for the purpose you asked for,"}),(0,Ce.jsx)("li",{children:"Does not match the description provided."})]}),(0,Ce.jsx)("p",{children:"We are not required to provide a refund if you:"}),(0,Ce.jsxs)("ul",{children:[(0,Ce.jsx)("li",{children:"Simply change your mind,"}),(0,Ce.jsx)("li",{children:"Fail to use the program,"}),(0,Ce.jsx)("li",{children:"Do not achieve your personal fitness goals."})]})]}),(0,Ce.jsxs)("section",{className:"terms-section",children:[(0,Ce.jsx)("h2",{children:"4. Program Access and Use"}),(0,Ce.jsxs)("ul",{children:[(0,Ce.jsx)("li",{children:"Access is granted via a secure member portal or digital delivery."}),(0,Ce.jsx)("li",{children:"All programs are for individual use only and must not be shared, resold, or distributed."}),(0,Ce.jsx)("li",{children:"You are responsible for ensuring you have suitable internet access and compatible devices."})]})]}),(0,Ce.jsxs)("section",{className:"terms-section",children:[(0,Ce.jsx)("h2",{children:"5. Health and Safety Disclaimer"}),(0,Ce.jsx)("p",{children:"By participating, you acknowledge:"}),(0,Ce.jsxs)("ul",{children:[(0,Ce.jsx)("li",{children:"You are medically cleared to undertake physical exercise,"}),(0,Ce.jsx)("li",{children:"You are responsible for modifying exercises based on your capacity,"}),(0,Ce.jsx)("li",{children:"Movement Performance Training is not liable for any injury sustained due to misuse, poor form, or failure to follow guidance."})]})]}),(0,Ce.jsxs)("section",{className:"terms-section",children:[(0,Ce.jsx)("h2",{children:"6. Intellectual Property"}),(0,Ce.jsx)("p",{children:"All content, videos, written material, and programs are the intellectual property of Movement Performance Training. Reproduction, distribution, or unauthorised use is prohibited."})]}),(0,Ce.jsxs)("section",{className:"terms-section",children:[(0,Ce.jsx)("h2",{children:"7. Changes to Terms"}),(0,Ce.jsx)("p",{children:"We reserve the right to modify these Terms at any time. Any changes will be communicated via email and updated on our website. Continued access to the program constitutes acceptance of the updated Terms."})]}),(0,Ce.jsxs)("section",{className:"terms-section",children:[(0,Ce.jsx)("h2",{children:"8. Contact"}),(0,Ce.jsx)("p",{children:"For questions, cancellations, or support, contact:"}),(0,Ce.jsxs)("div",{className:"contact-info",children:[(0,Ce.jsxs)("p",{children:["\ud83d\udce7 ",(0,Ce.jsx)("a",{href:"mailto:chloebarrettraining@icloud.com",children:"chloebarrettraining@icloud.com"})]}),(0,Ce.jsxs)("p",{children:["\ud83c\udf10 ",(0,Ce.jsx)("a",{href:"https://movementperformancetraining.com.au",target:"_blank",rel:"noopener noreferrer",children:"movementperformancetraining.com.au"})]})]})]})]}),(0,Ce.jsx)("div",{className:"terms-footer",children:(0,Ce.jsxs)("p",{className:"last-updated",children:["Last updated: ",(new Date).toLocaleDateString("en-AU")]})})]})}),Iv=()=>{const[e,n]=(0,t.useState)({});return(0,Ce.jsx)("div",{className:"faq-page",children:(0,Ce.jsxs)("div",{className:"container",children:[(0,Ce.jsx)("h1",{children:"Frequently Asked Questions"}),(0,Ce.jsx)("div",{className:"faq-intro",children:(0,Ce.jsx)("p",{children:"Find answers to the most common questions about our services, lessons, and training programs. If you don't see what you're looking for, feel free to contact us directly."})}),(0,Ce.jsx)("div",{className:"faq-list",children:[{question:"What equipment do I need to bring for my first lesson?",answer:"For your first lesson, you only need to bring swimwear, a towel, and sunscreen. We provide all the necessary equipment including kites, boards, harnesses, and safety gear. If you have your own equipment and would prefer to use it, please let us know in advance."},{question:"How long does it take to learn kitesurfing?",answer:"The time to learn kitesurfing varies depending on individual ability and conditions. Most students can ride independently after 8-12 hours of instruction. However, becoming proficient and comfortable in various conditions typically takes 20-30 hours of practice. We offer packages designed to get you from beginner to independent rider."},{question:"What are the age requirements for lessons?",answer:"We offer lessons for students aged 12 and above. For students under 18, we require parental consent. Younger students (12-16) typically do well in our youth development programs which are designed specifically for their needs and safety."},{question:"Do I need to be a strong swimmer?",answer:"Yes, you should be a confident swimmer and comfortable in water over your head. While we always prioritize safety and provide life jackets, being able to swim well is essential for water sports. If you're unsure about your swimming ability, we can assess this during your first lesson."},{question:"What happens if the weather is bad on my lesson day?",answer:"We closely monitor weather conditions and will reschedule lessons if conditions are unsafe or unsuitable for learning. This includes strong winds, storms, or poor visibility. We'll contact you as early as possible to reschedule, and there are no cancellation fees for weather-related changes."},{question:"Can I book private lessons?",answer:"Yes, we offer both group and private lessons. Private lessons provide one-on-one instruction and can be more intensive, allowing you to progress faster. They're particularly recommended for beginners or if you have specific goals you'd like to focus on."},{question:"What should I wear for my lesson?",answer:"Wear comfortable swimwear that you can move freely in. Avoid loose clothing that could get caught in equipment. We recommend rash guards or wetsuits for sun protection and comfort. We'll provide safety equipment including helmets and life jackets."},{question:"How do I book a consultation?",answer:"You can book your free 30-minute consultation through our website. Simply click on any 'Book Now' button or visit our booking page. During the consultation, we'll discuss your goals, assess your current fitness level, and create a personalized training plan for you."},{question:"Do you offer gift certificates?",answer:"Yes, we offer gift certificates for all our lesson packages and training programs. They make perfect gifts for birthdays, holidays, or special occasions. Gift certificates can be purchased online or by contacting us directly."},{question:"What is your cancellation policy?",answer:"We understand that sometimes you need to reschedule. We allow cancellations up to 24 hours before your scheduled lesson without any fees. Cancellations within 24 hours may incur a cancellation fee. Weather-related cancellations are always free of charge."}].map((t,i)=>(0,Ce.jsxs)("div",{className:"faq-item",children:[(0,Ce.jsxs)("button",{className:"faq-question ".concat(e[i]?"open":""),onClick:()=>(e=>{n(t=>Fe(Fe({},t),{},{[e]:!t[e]}))})(i),children:[(0,Ce.jsx)("span",{children:t.question}),(0,Ce.jsx)("span",{className:"faq-icon",children:e[i]?"\u2212":"+"})]}),(0,Ce.jsx)("div",{className:"faq-answer ".concat(e[i]?"open":""),children:(0,Ce.jsx)("p",{children:t.answer})})]},i))}),(0,Ce.jsxs)("div",{className:"faq-cta",children:[(0,Ce.jsx)("h2",{children:"Still Have Questions?"}),(0,Ce.jsx)("p",{children:"If you couldn't find the answer you're looking for, we're here to help. Contact us directly or book a free consultation to discuss your specific needs."}),(0,Ce.jsxs)("div",{className:"faq-cta-buttons",children:[(0,Ce.jsx)("a",{href:"/contact",className:"contact-btn",children:"Contact Us"}),(0,Ce.jsx)("a",{href:"/booking",className:"booking-btn",children:"Book Consultation"})]})]})]})})};var Rv=n(967);function Lv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function Dv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lv(Object(n),!0).forEach(function(t){Ov(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lv(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Fv(e){return Fv="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fv(e)}function Ov(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wv(e,t){if(null==e)return{};var n,i,s=function(e,t){if(null==e)return{};var n,i,s={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Bv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var i,s,a=[],r=!0,o=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(l){o=!0,s=l}finally{try{r||null==n.return||n.return()}finally{if(o)throw s}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Uv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Uv(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var zv=function(e,n,i){var s=!!i,a=t.useRef(i);t.useEffect(function(){a.current=i},[i]),t.useEffect(function(){if(!s||!e)return function(){};var t=function(){a.current&&a.current.apply(a,arguments)};return e.on(n,t),function(){e.off(n,t)}},[s,n,e,a])},Hv=function(e){var n=t.useRef(e);return t.useEffect(function(){n.current=e},[e]),n.current},Gv=function(e){return null!==e&&"object"===Fv(e)},Vv="[object Object]",qv=function e(t,n){if(!Gv(t)||!Gv(n))return t===n;var i=Array.isArray(t);if(i!==Array.isArray(n))return!1;var s=Object.prototype.toString.call(t)===Vv;if(s!==(Object.prototype.toString.call(n)===Vv))return!1;if(!s&&!i)return t===n;var a=Object.keys(t),r=Object.keys(n);if(a.length!==r.length)return!1;for(var o={},l=0;l<a.length;l+=1)o[a[l]]=!0;for(var c=0;c<r.length;c+=1)o[r[c]]=!0;var d=Object.keys(o);if(d.length!==a.length)return!1;var u=t,h=n;return d.every(function(t){return e(u[t],h[t])})},Yv=function(e,t,n){return Gv(e)?Object.keys(e).reduce(function(i,s){var a=!Gv(t)||!qv(e[s],t[s]);return n.includes(s)?(a&&console.warn("Unsupported prop change: options.".concat(s," is not a mutable property.")),i):a?Dv(Dv({},i||{}),{},Ov({},s,e[s])):i},null):null},Kv="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",Xv=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Kv;if(null===e||Gv(t=e)&&"function"===typeof t.elements&&"function"===typeof t.createToken&&"function"===typeof t.createPaymentMethod&&"function"===typeof t.confirmCardPayment)return e;throw new Error(n)},Qv=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Kv;if(function(e){return Gv(e)&&"function"===typeof e.then}(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(e){return Xv(e,t)})};var n=Xv(e,t);return null===n?{tag:"empty"}:{tag:"sync",stripe:n}},$v=function(e){e&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"4.0.2"}),e.registerAppInfo({name:"react-stripe-js",version:"4.0.2",url:"https://stripe.com/docs/stripe-js/react"}))},Jv=t.createContext(null);Jv.displayName="ElementsContext";var Zv=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},ey=function(e){var n=e.stripe,i=e.options,s=e.children,a=t.useMemo(function(){return Qv(n)},[n]),r=Bv(t.useState(function(){return{stripe:"sync"===a.tag?a.stripe:null,elements:"sync"===a.tag?a.stripe.elements(i):null}}),2),o=r[0],l=r[1];t.useEffect(function(){var e=!0,t=function(e){l(function(t){return t.stripe?t:{stripe:e,elements:e.elements(i)}})};return"async"!==a.tag||o.stripe?"sync"!==a.tag||o.stripe||t(a.stripe):a.stripePromise.then(function(n){n&&e&&t(n)}),function(){e=!1}},[a,o,i]);var c=Hv(n);t.useEffect(function(){null!==c&&c!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[c,n]);var d=Hv(i);return t.useEffect(function(){if(o.elements){var e=Yv(i,d,["clientSecret","fonts"]);e&&o.elements.update(e)}},[i,d,o.elements]),t.useEffect(function(){$v(o.stripe)},[o.stripe]),t.createElement(Jv.Provider,{value:o},s)};ey.propTypes={stripe:Rv.any,options:Rv.object};var ty=function(e){var n=t.useContext(Jv);return Zv(n,e)};Rv.func.isRequired;var ny=t.createContext(null);ny.displayName="CheckoutContext",Rv.any,Rv.shape({fetchClientSecret:Rv.func.isRequired,elementsOptions:Rv.object}).isRequired;var iy=function(e){var n=t.useContext(ny),i=t.useContext(Jv);if(n){if(i)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return n}return Zv(i,e)},sy=["mode"],ay=function(e,n){var i,s="".concat((i=e).charAt(0).toUpperCase()+i.slice(1),"Element"),a=n?function(e){iy("mounts <".concat(s,">"));var n=e.id,i=e.className;return t.createElement("div",{id:n,className:i})}:function(n){var i,a=n.id,r=n.className,o=n.options,l=void 0===o?{}:o,c=n.onBlur,d=n.onFocus,u=n.onReady,h=n.onChange,p=n.onEscape,m=n.onClick,f=n.onLoadError,g=n.onLoaderStart,v=n.onNetworksChange,y=n.onConfirm,b=n.onCancel,x=n.onShippingAddressChange,w=n.onShippingRateChange,S=n.onSavedPaymentMethodRemove,k=n.onSavedPaymentMethodUpdate,A=iy("mounts <".concat(s,">")),E="elements"in A?A.elements:null,_="checkoutState"in A?A.checkoutState:null,j="success"===(null===_||void 0===_?void 0:_.type)?_.checkout:null,N=Bv(t.useState(null),2),C=N[0],M=N[1],T=t.useRef(null),P=t.useRef(null);zv(C,"blur",c),zv(C,"focus",d),zv(C,"escape",p),zv(C,"click",m),zv(C,"loaderror",f),zv(C,"loaderstart",g),zv(C,"networkschange",v),zv(C,"confirm",y),zv(C,"cancel",b),zv(C,"shippingaddresschange",x),zv(C,"shippingratechange",w),zv(C,"savedpaymentmethodremove",S),zv(C,"savedpaymentmethodupdate",k),zv(C,"change",h),u&&(i="expressCheckout"===e?u:function(){u(C)}),zv(C,"ready",i),t.useLayoutEffect(function(){if(null===T.current&&null!==P.current&&(E||j)){var t=null;if(j)switch(e){case"payment":t=j.createPaymentElement(l);break;case"address":if(!("mode"in l))throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");var n=l.mode,i=Wv(l,sy);if("shipping"===n)t=j.createShippingAddressElement(i);else{if("billing"!==n)throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.");t=j.createBillingAddressElement(i)}break;case"expressCheckout":t=j.createExpressCheckoutElement(l);break;case"currencySelector":t=j.createCurrencySelectorElement();break;case"taxId":t=j.createTaxIdElement(l);break;default:throw new Error("Invalid Element type ".concat(s,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else E&&(t=E.create(e,l));T.current=t,M(t),t&&t.mount(P.current)}},[E,j,l]);var I=Hv(l);return t.useEffect(function(){if(T.current){var e=Yv(l,I,["paymentRequest"]);e&&"update"in T.current&&T.current.update(e)}},[l,I]),t.useLayoutEffect(function(){return function(){if(T.current&&"function"===typeof T.current.destroy)try{T.current.destroy(),T.current=null}catch(e){}}},[]),t.createElement("div",{id:a,className:r,ref:P})};return a.propTypes={id:Rv.string,className:Rv.string,onChange:Rv.func,onBlur:Rv.func,onFocus:Rv.func,onReady:Rv.func,onEscape:Rv.func,onClick:Rv.func,onLoadError:Rv.func,onLoaderStart:Rv.func,onNetworksChange:Rv.func,onConfirm:Rv.func,onCancel:Rv.func,onShippingAddressChange:Rv.func,onShippingRateChange:Rv.func,onSavedPaymentMethodRemove:Rv.func,onSavedPaymentMethodUpdate:Rv.func,options:Rv.object},a.displayName=s,a.__elementType=e,a},ry="undefined"===typeof window,oy=t.createContext(null);oy.displayName="EmbeddedCheckoutProviderContext";ay("auBankAccount",ry);var ly,cy=ay("card",ry),dy=(ay("cardNumber",ry),ay("cardExpiry",ry),ay("cardCvc",ry),ay("fpxBank",ry),ay("iban",ry),ay("idealBank",ry),ay("p24Bank",ry),ay("epsBank",ry),ay("payment",ry),ay("expressCheckout",ry),ay("paymentRequestButton",ry),ay("linkAuthentication",ry),ay("address",ry),ay("shippingAddress",ry),ay("paymentMethodMessaging",ry),ay("affirmMessage",ry),ay("afterpayClearpayMessage",ry),ay("taxId",ry),"basil"),uy="https://js.stripe.com",hy="".concat(uy,"/").concat(dy,"/stripe.js"),py=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,my=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,fy="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",gy=function(e){return py.test(e)||my.test(e)},vy=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(hy).concat(t);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(n),n},yy=null,by=null,xy=null,wy=function(e){return null!==yy?yy:(yy=new Promise(function(t,n){if("undefined"!==typeof window&&"undefined"!==typeof document)if(window.Stripe&&e&&console.warn(fy),window.Stripe)t(window.Stripe);else try{var i=function(){for(var e=document.querySelectorAll('script[src^="'.concat(uy,'"]')),t=0;t<e.length;t++){var n=e[t];if(gy(n.src))return n}return null}();if(i&&e)console.warn(fy);else if(i){if(i&&null!==xy&&null!==by){var s;i.removeEventListener("load",xy),i.removeEventListener("error",by),null===(s=i.parentNode)||void 0===s||s.removeChild(i),i=vy(e)}}else i=vy(e);xy=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}}(t,n),by=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}}(n),i.addEventListener("load",xy),i.addEventListener("error",by)}catch(a){return void n(a)}else t(null)})).catch(function(e){return yy=null,Promise.reject(e)})},Sy=!1,ky=function(){return ly||(ly=wy(null).catch(function(e){return ly=null,Promise.reject(e)}))};Promise.resolve().then(function(){return ky()}).catch(function(e){Sy||console.warn(e)});const Ay="pk_test_51S7Rs1234567890abcdefghijklmnopqrstuvwxyz";let Ey=null;try{Ay&&"string"===typeof Ay&&Ay.length>0&&(Ay.startsWith("pk_test_")||Ay.startsWith("pk_live_"))?(Ey=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Sy=!0;var i=Date.now();return ky().then(function(e){return function(e,t,n){if(null===e)return null;var i=t[0].match(/^pk_test/),s=function(e){return 3===e?"v3":e}(e.version),a=dy;i&&s!==a&&console.warn("Stripe.js@".concat(s," was loaded on the page, but @stripe/stripe-js@").concat("7.9.0"," expected Stripe.js@").concat(a,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var r=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"7.9.0",startTime:t})}(r,n),r}(e,t,i)})}(Ay),console.log("\u2705 Stripe initialized successfully")):(console.error("\u274c Invalid Stripe key format"),Ey=null)}catch(Oy){console.error("\u274c Failed to initialize Stripe:",Oy),Ey=null}const _y=Ey,jy=e=>{let{bookingData:n,onPaymentSuccess:i,onPaymentError:s}=e;const a=iy("calls useStripe()").stripe,r=ty("calls useElements()").elements,[o,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)(null);return(0,Ce.jsxs)("div",{className:"payment-form-container",children:[(0,Ce.jsxs)("div",{className:"payment-form-header",children:[(0,Ce.jsx)("h3",{children:"Complete Your Booking"}),(0,Ce.jsxs)("div",{className:"booking-summary",children:[(0,Ce.jsxs)("p",{children:[(0,Ce.jsx)("strong",{children:"Service:"})," ",n.serviceType]}),(0,Ce.jsxs)("p",{children:[(0,Ce.jsx)("strong",{children:"Amount:"})," $",n.amount]}),(0,Ce.jsxs)("p",{children:[(0,Ce.jsx)("strong",{children:"Date:"})," ",n.date]})]})]}),(0,Ce.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),a&&r){l(!0),d(null);try{const e={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_STRIPE_PUBLISHABLE_KEY:"pk_test_51S7Rs1234567890abcdefghijklmnopqrstuvwxyz"}.REACT_APP_API_URL||"http://localhost:8081";if(console.log("Full bookingData:",n),!n)throw new Error("No booking data available");if(!n.amount)throw new Error("Booking amount is missing");const t={amount:Math.round(100*n.amount),currency:"aud",bookingId:n.id?String(n.id):"pending",serviceType:n.serviceType,customerEmail:n.email,customerName:n.name};console.log("Sending payment request:",t),console.log("API Base URL:",e);const o=await fetch("".concat(e,"/api/payments/create-intent"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!o.ok){let e="HTTP error! status: ".concat(o.status);try{e=(await o.json()).message||e}catch(Fy){console.log("Could not parse error response as JSON")}throw new Error(e)}const l=await o.json();console.log("Payment intent response:",l);const{clientSecret:c}=l;if(!c)throw new Error("No client secret received from server");if(c&&c.includes("mock"))return console.log("Using mock payment mode"),void setTimeout(()=>{const e={id:"pi_mock_"+Date.now(),status:"succeeded",amount:100*n.amount,currency:"aud"};i(e)},1e3);const{error:u,paymentIntent:h}=await a.confirmCardPayment(c,{payment_method:{card:r.getElement(cy),billing_details:{name:n.name,email:n.email}}});u?(d(u.message),s(u)):"succeeded"===h.status&&i(h)}catch(t){d("Payment failed. Please try again."),s(t)}finally{l(!1)}}},className:"payment-form",children:[(0,Ce.jsxs)("div",{className:"card-element-container",children:[(0,Ce.jsx)("label",{htmlFor:"card-element",children:"Card Details"}),(0,Ce.jsx)(cy,{id:"card-element",options:{style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}}})]}),c&&(0,Ce.jsx)("div",{className:"payment-error",children:c}),(0,Ce.jsx)("button",{type:"submit",disabled:!a||o,className:"payment-button",children:o?"Processing...":"Pay $".concat(n.amount)})]}),(0,Ce.jsxs)("div",{className:"payment-security",children:[(0,Ce.jsx)("p",{children:"\ud83d\udd12 Your payment information is secure and encrypted"}),(0,Ce.jsx)("p",{children:"Powered by Stripe"})]})]})},Ny=e=>{let{bookingData:t,onPaymentSuccess:n,onPaymentError:i}=e;return _y?(0,Ce.jsx)(ey,{stripe:_y,children:(0,Ce.jsx)(jy,{bookingData:t,onPaymentSuccess:n,onPaymentError:i})}):(0,Ce.jsx)("div",{className:"payment-form-container",children:(0,Ce.jsxs)("div",{className:"payment-error",children:[(0,Ce.jsx)("h3",{children:"Payment System Unavailable"}),(0,Ce.jsx)("p",{children:"Stripe configuration is missing. Please contact support."})]})})},Cy=()=>{const[e,n]=(0,t.useState)({customerName:"",customerEmail:"",customerPhone:"",packageId:0,selectedDate:"",selectedTime:"10:00",specialRequests:""}),[i,s]=(0,t.useState)(!1),[a,r]=(0,t.useState)(null),[o,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)(null);(0,t.useEffect)(()=>{const e=document.getElementById("selectedDate"),t=document.getElementById("selectedTime");e&&(e.setAttribute("type","date"),e.style.cursor="pointer"),t&&(t.setAttribute("type","time"),t.style.cursor="pointer")},[]);const u=e=>{const{name:t,value:i}=e.target;n(e=>Fe(Fe({},e),{},{[t]:"packageId"===t?parseInt(i,10):i}))},h=async(e,t)=>{try{const i={customerName:e.customerName,customerEmail:e.customerEmail,customerPhone:e.customerPhone,packageId:e.packageId,selectedDate:e.selectedDate,selectedTime:e.selectedTime,specialRequests:e.specialRequests,paymentId:"free_consultation",paymentStatus:"free"},s=await ot.post("/bookings/create",i);s.success?(r({success:!0,message:"Free consultation booked successfully! We'll contact you soon to confirm your appointment.",data:{bookingId:s.data.bookingId,totalAmount:0,customerName:e.customerName,customerEmail:e.customerEmail,selectedDate:e.selectedDate,selectedTime:e.selectedTime,serviceType:t,paymentId:"free_consultation",status:"confirmed"}}),n({customerName:"",customerEmail:"",customerPhone:"",packageId:0,selectedDate:"",selectedTime:"10:00",specialRequests:""}),d(null)):r({success:!1,message:"Failed to book free consultation. Please try again or contact us directly."})}catch(Oy){r({success:!1,message:"Error booking free consultation: "+Oy.message})}finally{s(!1)}};return(0,Ce.jsx)("div",{className:"booking-page",children:(0,Ce.jsxs)("div",{className:"booking-container",children:[(0,Ce.jsxs)("div",{className:"consultation-details",children:[(0,Ce.jsx)("h1",{children:"Book your free 30-minute consultation."}),(0,Ce.jsxs)("h2",{children:["Your First Step to Better Performance on the Water!",(0,Ce.jsx)("img",{src:"/images/logos/mpt-logo.jpeg",alt:"MPT Logo",style:{width:"30px",height:"30px",marginLeft:"10px",verticalAlign:"middle",borderRadius:"4px"}})]}),(0,Ce.jsx)("p",{className:"consultation-intro",children:"In this quick, personalized 30-minute consultation, we'll dive into your kitesurfing or wing foiling goals and assess your current mobility, strength, and balance. Here's what you can expect:"}),(0,Ce.jsxs)("ul",{className:"consultation-benefits",children:[(0,Ce.jsxs)("li",{children:[(0,Ce.jsx)("strong",{children:"Personalized Assessment"})," \u2013 We'll discuss any challenges you're facing, from flexibility to injury concerns, and pinpoint key areas for improvement."]}),(0,Ce.jsxs)("li",{children:[(0,Ce.jsx)("strong",{children:"Goal Setting"})," \u2013 Together, we'll outline specific goals that will enhance your performance, whether it's boosting your stamina or perfecting your technique."]}),(0,Ce.jsxs)("li",{children:[(0,Ce.jsx)("strong",{children:"Actionable Next Steps"})," \u2013 Leave with clear, tailored advice on how to kickstart your training journey, with exercises or programs that fit your lifestyle."]})]}),(0,Ce.jsx)("p",{className:"consultation-conclusion",children:"This is your opportunity to ask questions and learn how our expert training can help you maximize your potential. Let's take the first step together toward becoming stronger, more flexible, and unstoppable on the water! \ud83c\udfc4\u200d\u2640\ufe0f\ud83d\udcaa"}),(0,Ce.jsx)("p",{className:"cta-text",children:"Book your free 30-minute consultation now!"})]}),(0,Ce.jsxs)("div",{className:"booking-widget",children:[(0,Ce.jsx)("h3",{children:"Book Your Session"}),o?(0,Ce.jsxs)("div",{className:"payment-section",children:[(0,Ce.jsx)(Ny,{bookingData:c,onPaymentSuccess:async e=>{try{const t={customerName:c.name,customerEmail:c.email,customerPhone:c.phone,packageId:c.packageId,selectedDate:c.date,selectedTime:c.time,specialRequests:c.specialRequests,paymentId:e.id,paymentStatus:"completed"},i=await ot.post("/bookings/create",t);i.success?(l(!1),r({success:!0,message:"Payment successful! Your booking has been confirmed.",data:{bookingId:i.data.bookingId,totalAmount:c.amount,customerName:c.name,customerEmail:c.email,selectedDate:c.date,selectedTime:c.time,serviceType:c.serviceType,paymentId:e.id,status:"confirmed"}}),n({customerName:"",customerEmail:"",customerPhone:"",packageId:1,selectedDate:"",selectedTime:"10:00",specialRequests:""}),d(null)):r({success:!1,message:"Payment successful but booking creation failed. Please contact support with payment ID: "+e.id})}catch(Oy){r({success:!1,message:"Payment successful but booking creation failed. Please contact support with payment ID: "+e.id+". Error: "+Oy.message})}},onPaymentError:e=>{l(!1),r({success:!1,message:"Payment failed: "+e.message})}}),(0,Ce.jsx)("button",{className:"back-to-booking-btn",onClick:()=>l(!1),children:"\u2190 Back to Booking Form"})]}):(0,Ce.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),s(!0),r(null);try{if(!e.customerName||!e.customerEmail||!e.customerPhone)return void r({success:!1,message:"Please fill in all required fields"});const t={0:0,1:99,2:119,3:139,4:159}[e.packageId]||0,n=(e=>({0:"FREE Consultation (30 minutes)",1:"Basic Package (1 hour)",2:"Premium Package (2 hours)",3:"Deluxe Package (3 hours)",4:"VIP Package (4 hours)"}[e]||"FREE Consultation"))(e.packageId);d({id:null,name:e.customerName,email:e.customerEmail,phone:e.customerPhone,amount:t,serviceType:n,date:e.selectedDate,time:e.selectedTime,packageId:e.packageId,specialRequests:e.specialRequests}),0===t?await h(e,n):l(!0)}catch(Oy){r({success:!1,message:"Error preparing booking: "+Oy.message})}finally{s(!1)}},className:"booking-form",children:[(0,Ce.jsxs)("div",{className:"form-group",children:[(0,Ce.jsxs)("label",{htmlFor:"customerName",children:["Full Name ",(0,Ce.jsx)("span",{className:"required-asterisk",children:"*"})]}),(0,Ce.jsx)("input",{type:"text",id:"customerName",name:"customerName",value:e.customerName,onChange:u,required:!0,placeholder:"Enter your full name"})]}),(0,Ce.jsxs)("div",{className:"form-group",children:[(0,Ce.jsxs)("label",{htmlFor:"customerEmail",children:["Email ",(0,Ce.jsx)("span",{className:"required-asterisk",children:"*"})]}),(0,Ce.jsx)("input",{type:"email",id:"customerEmail",name:"customerEmail",value:e.customerEmail,onChange:u,required:!0,placeholder:"Enter your email"})]}),(0,Ce.jsxs)("div",{className:"form-group",children:[(0,Ce.jsxs)("label",{htmlFor:"customerPhone",children:["Phone Number ",(0,Ce.jsx)("span",{className:"required-asterisk",children:"*"})]}),(0,Ce.jsx)("input",{type:"tel",id:"customerPhone",name:"customerPhone",value:e.customerPhone,onChange:u,required:!0,placeholder:"Enter your phone number"})]}),(0,Ce.jsxs)("div",{className:"form-group",children:[(0,Ce.jsxs)("label",{htmlFor:"packageId",children:["Training Package ",(0,Ce.jsx)("span",{className:"required-asterisk",children:"*"})]}),(0,Ce.jsxs)("select",{id:"packageId",name:"packageId",value:e.packageId,onChange:u,required:!0,children:[(0,Ce.jsx)("option",{value:0,children:"FREE Consultation - $0.00 (30 minutes)"}),(0,Ce.jsx)("option",{value:1,children:"Basic Package - $99.00 (1 hour)"}),(0,Ce.jsx)("option",{value:2,children:"Premium Package - $119.00 (2 hours)"}),(0,Ce.jsx)("option",{value:3,children:"Deluxe Package - $139.00 (3 hours)"}),(0,Ce.jsx)("option",{value:4,children:"VIP Package - $159.00 (4 hours)"})]})]}),(0,Ce.jsxs)("div",{className:"form-group",children:[(0,Ce.jsxs)("label",{htmlFor:"selectedDate",children:["Preferred Date ",(0,Ce.jsx)("span",{className:"required-asterisk",children:"*"})]}),(0,Ce.jsx)("input",{type:"date",id:"selectedDate",name:"selectedDate",value:e.selectedDate,onChange:u,required:!0,min:(new Date).toISOString().split("T")[0],style:{cursor:"pointer"}})]}),(0,Ce.jsxs)("div",{className:"form-group",children:[(0,Ce.jsxs)("label",{htmlFor:"selectedTime",children:["Preferred Time ",(0,Ce.jsx)("span",{className:"required-asterisk",children:"*"})]}),(0,Ce.jsx)("input",{type:"time",id:"selectedTime",name:"selectedTime",value:e.selectedTime,onChange:u,required:!0})]}),(0,Ce.jsxs)("div",{className:"form-group",children:[(0,Ce.jsx)("label",{htmlFor:"specialRequests",children:"Special Requests"}),(0,Ce.jsx)("textarea",{id:"specialRequests",name:"specialRequests",value:e.specialRequests,onChange:u,placeholder:"Any special requirements or notes...",rows:"3"})]}),(0,Ce.jsx)("button",{type:"submit",className:"book-now-btn",disabled:i,children:i?"Processing...":"Proceed to Payment \u2192"})]}),a&&(0,Ce.jsxs)("div",{className:"booking-result ".concat(a.success?"success":"error"),children:[(0,Ce.jsx)("h4",{children:a.success?"\u2705 Success!":"\u274c Error"}),(0,Ce.jsx)("p",{children:a.message}),a.success&&a.data&&(0,Ce.jsxs)("div",{className:"booking-details",children:[(0,Ce.jsxs)("p",{children:[(0,Ce.jsx)("strong",{children:"Booking ID:"})," ",a.data.bookingId]}),(0,Ce.jsxs)("p",{children:[(0,Ce.jsx)("strong",{children:"Service:"})," ",a.data.serviceType]}),(0,Ce.jsxs)("p",{children:[(0,Ce.jsx)("strong",{children:"Total Amount:"})," $",a.data.totalAmount]}),(0,Ce.jsxs)("p",{children:[(0,Ce.jsx)("strong",{children:"Status:"})," ",a.data.status]}),(0,Ce.jsxs)("p",{children:[(0,Ce.jsx)("strong",{children:"Customer:"})," ",a.data.customerName]}),(0,Ce.jsxs)("p",{children:[(0,Ce.jsx)("strong",{children:"Email:"})," ",a.data.customerEmail]}),(0,Ce.jsxs)("p",{children:[(0,Ce.jsx)("strong",{children:"Date:"})," ",a.data.selectedDate]}),(0,Ce.jsxs)("p",{children:[(0,Ce.jsx)("strong",{children:"Time:"})," ",a.data.selectedTime]}),(0,Ce.jsxs)("p",{children:[(0,Ce.jsx)("strong",{children:"Payment ID:"})," ",a.data.paymentId]})]})]})]})]})})},My=()=>{const[e,n]=(0,t.useState)(!1),[i,s]=(0,t.useState)(""),[a,r]=(0,t.useState)(""),[o,l]=(0,t.useState)("dashboard"),[c,d]=(0,t.useState)(!1),[u,h]=(0,t.useState)([]),[p,m]=(0,t.useState)(""),[f,g]=(0,t.useState)("all"),[v,y]=(0,t.useState)("grid"),[b,x]=(0,t.useState)([]),[w,S]=(0,t.useState)(!1),[k,A]=(0,t.useState)(""),[E,_]=(0,t.useState)({}),[j,N]=(0,t.useState)(!1),[C,M]=(0,t.useState)(!1),[T,P]=(0,t.useState)(!1),[I,R]=(0,t.useState)(!1),[L,D]=(0,t.useState)(!1),[F,O]=(0,t.useState)({totalBookings:0,activeServices:0,testimonials:0,revenue:0,recentBookings:0,conversionRate:0,avgRating:0,monthlyGrowth:0}),[W,B]=(0,t.useState)([]),[U,z]=(0,t.useState)([]),[H,G]=(0,t.useState)([]),V=e=>({0:0,1:99,2:119,3:139,4:159}[e]||0),q=()=>{const e=new Date,t=e.getMonth(),n=e.getFullYear(),i=W.filter(e=>"confirmed"===e.status||"CONFIRMED"===e.status),s=i.reduce((e,t)=>{const n=t.packageId||1;return e+V(n)},0),a=i.filter(e=>{const i=new Date(e.createdAt||e.date);return i.getMonth()===t&&i.getFullYear()===n}).reduce((e,t)=>{const n=t.packageId||1;return e+V(n)},0),r=W.length>0?Math.round(i.length/W.length*100):0,o=H.length>0?H.reduce((e,t)=>e+(t.rating||5),0)/H.length:4.8,l=0===t?11:t-1,c=0===t?n-1:n,d=i.filter(e=>{const t=new Date(e.createdAt||e.date);return t.getMonth()===l&&t.getFullYear()===c}).reduce((e,t)=>{const n=t.packageId||1;return e+V(n)},0),u=d>0?Math.round((a-d)/d*100):0;O({totalBookings:W.length,activeServices:U.filter(e=>!1!==e.isActive).length,testimonials:H.length,revenue:Math.round(s),recentBookings:i.length,conversionRate:r,avgRating:Math.round(10*o)/10,monthlyGrowth:u})},[Y,K]=(0,t.useState)([]),[X,Q]=(0,t.useState)([]),[$,J]=(0,t.useState)([]),[Z,ee]=(0,t.useState)([]),[te,ne]=(0,t.useState)([]),ie=e=>{switch(e){case"FREE Consultation (30 minutes)":return 0;case"Kitesurfing Training":default:return 1;case"Hydrofoil Training":return 2;case"Nutrition Coaching":return 3}},se=e=>{switch(e){case"FREE Consultation (30 minutes)":return"FREE Consultation (30 minutes)";case"Basic Package":return"Basic Package (1 hour)";case"Premium Package":return"Premium Package (2 hours)";case"Deluxe Package":return"Deluxe Package (3 hours)";case"VIP Package":return"VIP Package (4 hours)";default:return e}},ae=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";const n={id:Date.now()+Math.random(),message:e,type:t,timestamp:new Date};h(e=>[n,...e.slice(0,4)]),setTimeout(()=>{h(e=>e.filter(e=>e.id!==n.id))},5e3)},re=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};A(e),_(t),S(!0)},oe=()=>{S(!1),A(""),_({})},le=e=>{0!==b.length?(ae("".concat(e," applied to ").concat(b.length," items"),"success"),x([])):ae("Please select items first","warning")},ce=async()=>{P(!0);try{console.log("Fetching testimonials from backend...");const e=await ot.get("/testimonials");if(console.log("Testimonials response:",e),e.success&&e.data){const t=e.data.map(e=>({id:e.id,name:e.customerName,text:e.comment,rating:e.rating,service:e.serviceUsed||"General Training",isApproved:e.isApproved,date:e.createdAt?new Date(e.createdAt).toISOString().split("T")[0]:(new Date).toISOString().split("T")[0]}));console.log("Transformed testimonials:",t),G(t),setTimeout(()=>{q()},100),ae("Loaded ".concat(t.length," testimonials"),"success")}else console.log("No testimonials found in response"),ae("No testimonials found","warning")}catch(Oy){console.error("Error fetching testimonials:",Oy),ae("Failed to load testimonials: "+Oy.message,"error")}finally{P(!1)}},de=async()=>{if(e){N(!0);try{console.log("Fetching bookings from backend..."),console.log("API Base URL:",ot.baseURL),console.log("Full URL:","".concat(ot.baseURL,"/bookings")),console.log("User logged in:",e);const t=await fetch("".concat(ot.baseURL,"/bookings"),{method:"GET",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"omit"});if(console.log("Response status:",t.status),console.log("Response ok:",t.ok),!t.ok)throw new Error("HTTP ".concat(t.status,": ").concat(t.statusText));{const e=await t.json();if(console.log("Backend response:",e),Array.isArray(e)){const t=e.map((e,t)=>{var n;return{id:e.id||t+1,name:e.name||"Unknown",service:e.service||"General Training",date:e.createdAt?new Date(e.createdAt).toISOString().split("T")[0]:(new Date).toISOString().split("T")[0],status:(null===(n=e.status)||void 0===n?void 0:n.toLowerCase())||"confirmed",email:e.email||"",phone:e.phone||"",amount:150}});console.log("Transformed bookings:",t),B(t),setTimeout(()=>{q()},100),ae("Loaded ".concat(t.length," bookings"),"success")}else console.log("No bookings found in response"),ae("No bookings found","warning")}}catch(Oy){console.error("Error fetching bookings:",Oy),console.error("Error details:",{message:Oy.message,stack:Oy.stack,name:Oy.name}),console.log("Using fallback bookings data due to API error");const t=[{id:1,name:"John Doe",service:"Kitesurfing Training",date:(new Date).toISOString().split("T")[0],status:"confirmed",email:"john@example.com",phone:"+1234567890",amount:99},{id:2,name:"Jane Smith",service:"Hydrofoil Training",date:(new Date).toISOString().split("T")[0],status:"pending",email:"jane@example.com",phone:"+1234567891",amount:119}];B(t),ae("Using fallback bookings data","warning")}finally{N(!1)}}else console.log("User not logged in, skipping bookings fetch")},ue=async()=>{try{const e=await ot.get("/contacts");e.success?Q(e.data||[]):(console.error("Failed to fetch contacts:",e.message),Q([]))}catch(Oy){console.error("Error fetching contacts:",Oy),Q([])}},he=async()=>{try{const e=await ot.get("/email-captures");e.success?J(e.data||[]):(console.error("Failed to fetch email captures:",e.message),J([]))}catch(Oy){console.error("Error fetching email captures:",Oy),J([])}try{const e=JSON.parse(localStorage.getItem("capturedEmails")||"[]");console.log("Local emails found:",e);const t=e.map((e,t)=>({id:"local-".concat(t),email:e.email,source:e.source||"resources",resourceType:e.resourceType,createdAt:e.timestamp,isVerified:!1,unsubscribed:!1}));J(e=>{const n=new Set(e.map(e=>e.id)),i=t.filter(e=>!n.has(e.id));return[...e,...i]})}catch(Oy){console.error("Error fetching local emails:",Oy)}},pe=async()=>{M(!0);try{console.log("\ud83d\udd04 Fetching services from backend...");const e=await ot.get("/services");console.log("\ud83d\udce1 Services API response:",e),console.log("\ud83d\udcca Response type:",typeof e,"Is Array:",Array.isArray(e)),Array.isArray(e)?(z(e),console.log("\u2705 Services loaded (array format):",e)):e&&e.success&&Array.isArray(e.data)?(z(e.data),console.log("\u2705 Services loaded (object format):",e.data)):(console.log("\u274c No services found or invalid response format:",e),z([]))}catch(Oy){console.error("\ud83d\udca5 Error fetching services:",Oy),ae("Failed to fetch services: "+Oy.message,"error"),z([])}finally{M(!1)}},me=async()=>{try{console.log("\ud83d\udd04 Fetching gallery from backend...");const e=await ot.get("/gallery");console.log("\ud83d\udce1 Gallery API response:",e),console.log("\ud83d\udcca Response type:",typeof e,"Is Array:",Array.isArray(e)),Array.isArray(e)?(console.log("\u2705 Setting gallery with",e.length,"items"),K(e),console.log("\ud83c\udfaf Gallery state updated:",e),ae("Gallery loaded: ".concat(e.length," items"),"success")):e&&e.success&&Array.isArray(e.data)?(console.log("\u2705 Setting gallery with",e.data.length,"items"),K(e.data),console.log("\ud83c\udfaf Gallery state updated:",e.data),ae("Gallery loaded: ".concat(e.data.length," items"),"success")):(console.log("\u274c Invalid response format:",e),K([]),ae("Invalid gallery response format","error"))}catch(Oy){console.error("\ud83d\udca5 Error fetching gallery:",Oy),ae("Failed to fetch gallery: "+Oy.message,"error"),K([])}},fe=async()=>{if(e){R(!0);try{console.log("\ud83d\udd04 Fetching team members from backend..."),console.log("API Base URL:",ot.baseURL),console.log("Full URL:","".concat(ot.baseURL,"/team")),console.log("User logged in:",e);const t=await fetch("".concat(ot.baseURL,"/team"),{method:"GET",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"omit"});if(console.log("\ud83d\udce1 Team API response status:",t.status),console.log("\ud83d\udce1 Team API response ok:",t.ok),console.log("\ud83d\udce1 Team API response headers:",t.headers),!t.ok)throw console.log("\u274c Response not ok:",t.status,t.statusText),new Error("HTTP ".concat(t.status,": ").concat(t.statusText));{const e=await t.json();console.log("\ud83d\udce1 Team API response data:",e),console.log("\ud83d\udce1 Response type:",typeof e),console.log("\ud83d\udce1 Is array:",Array.isArray(e)),Array.isArray(e)?(console.log("\u2705 Setting team with",e.length,"members"),console.log("\ud83d\udccb Team members data:",e),ee(e),ae("Team loaded: ".concat(e.length," members"),"success")):(console.log("\u274c Invalid team response format:",e),ee([]),ae("Invalid team response format","error"))}}catch(Oy){console.error("\ud83d\udca5 Error fetching team:",Oy),console.error("\ud83d\udca5 Error details:",{message:Oy.message,stack:Oy.stack,name:Oy.name}),console.log("Using fallback team data due to API error");ee([{id:1,name:"Chloe Barrett",title:"Founder & Head Trainer",description:"Chloe Barrett is the founder and head trainer at Movement Performance Training. With over 8 years of experience in kitesurfing, hydrofoiling, and movement coaching.",imageUrl:"/images/team/chloe-headshot.jpg",credentials:"\u2022 Certified Kitesurfing Instructor (IKO Level 2)\n\u2022 Hydrofoil Specialist\n\u2022 Movement Performance Coach",isFeatured:!0,displayOrder:1}]),ae("Using fallback team data","warning")}finally{R(!1)}}else console.log("User not logged in, skipping team fetch")};(0,t.useEffect)(()=>{e&&(de(),pe(),ce(),me(),fe(),ye(),ue(),he());const t=setInterval(()=>{e&&(de(),setTimeout(()=>{q()},200))},3e4);return()=>clearInterval(t)},[e]);const ge=async e=>{e.preventDefault(),d(!0),setTimeout(()=>{"admin"===i&&"admin"===a?(n(!0),s(""),r(""),ae("Login successful!","success")):ae("Invalid credentials. Use admin/admin","error"),d(!1)},1e3)},ve=()=>{try{const e=localStorage.getItem("mpt-admin-settings");if(e){const t=JSON.parse(e),n=document.getElementById("business-name"),i=document.getElementById("contact-email"),s=document.getElementById("phone-number"),a=document.getElementById("default-duration"),r=document.getElementById("auto-confirm"),o=document.getElementById("email-notifications"),l=document.getElementById("sms-notifications");n&&(n.value=t.businessName||"Movement Performance Training"),i&&(i.value=t.contactEmail||"chloebarrettraining@icloud.com"),s&&(s.value=t.phoneNumber||"04 98 471 509"),a&&(a.value=t.defaultDuration||"2"),r&&(r.checked=t.autoConfirm||!0),o&&(o.checked=t.emailNotifications||!0),l&&(l.checked=t.smsNotifications||!1),console.log("Settings loaded from localStorage:",t)}}catch(Oy){console.error("Error loading settings:",Oy)}},ye=async()=>{try{console.log("Fetching videos from backend...");const e=[{filename:"training-video.mp4",url:"/videos/training-video.mp4",title:"Training Video",description:"Professional training session video",size:6616917,lastModified:(new Date).toISOString()},{filename:"WhatsApp Video 2025-09-01 at 11.30.12 AM_1757151286650.mp4",url:"/videos/WhatsApp Video 2025-09-01 at 11.30.12 AM_1757151286650.mp4",title:"WhatsApp Training Video",description:"Training video from WhatsApp",size:1e7,lastModified:(new Date).toISOString()}];ne(e),console.log("Videos loaded successfully:",e.length)}catch(Oy){console.error("Error fetching videos:",Oy),ae("Failed to fetch videos: "+Oy.message,"error")}},be=async(e,t,n)=>{D(!0);try{console.log("Uploading video:",e.name),console.log("File type:",e.type),console.log("File size:",e.size);const i=new FormData;i.append("file",e),t&&i.append("title",t),n&&i.append("description",n),console.log("FormData contents:");for(let[e,t]of i.entries())console.log(e,t);return console.log("Video upload functionality disabled"),ae("Video upload functionality is currently disabled","warning"),null}catch(Oy){return console.error("Error uploading video:",Oy),console.error("Error details:",Oy.message),ae("Failed to upload video: "+Oy.message,"error"),null}finally{D(!1)}},xe=W.filter(e=>{const t=e.name.toLowerCase().includes(p.toLowerCase())||e.service.toLowerCase().includes(p.toLowerCase()),n="all"===f||e.status===f;return t&&n});return e?(0,Ce.jsxs)("div",{className:"admin-dashboard",children:[(0,Ce.jsx)("div",{className:"notifications-container",children:u.map(e=>(0,Ce.jsxs)("div",{className:"notification ".concat(e.type),children:[(0,Ce.jsx)("span",{children:e.message}),(0,Ce.jsx)("button",{onClick:()=>h(t=>t.filter(t=>t.id!==e.id)),children:"\xd7"})]},e.id))}),(0,Ce.jsx)("div",{className:"admin-header",children:(0,Ce.jsxs)("div",{className:"admin-header-content",children:[(0,Ce.jsxs)("div",{className:"admin-brand",children:[(0,Ce.jsx)("div",{className:"admin-brand-icon",children:(0,Ce.jsx)("img",{src:"/images/logos/mpt-logo.jpeg",alt:"MPT Logo",className:"admin-brand-image"})}),(0,Ce.jsxs)("div",{children:[(0,Ce.jsx)("h1",{children:"MPT Admin Dashboard"}),(0,Ce.jsx)("span",{className:"admin-subtitle",children:"Advanced Management Portal"})]})]}),(0,Ce.jsxs)("div",{className:"admin-header-actions",children:[(0,Ce.jsxs)("div",{className:"search-box",children:[(0,Ce.jsx)("label",{htmlFor:"admin-search-input",className:"sr-only",children:"Search"}),(0,Ce.jsx)("input",{type:"text",id:"admin-search-input",name:"adminSearch",placeholder:"Search...",value:p,onChange:e=>m(e.target.value),autoComplete:"off"}),(0,Ce.jsx)("span",{className:"search-icon",children:"\ud83d\udd0d"})]}),(0,Ce.jsx)("button",{className:"logout-btn",onClick:()=>{n(!1),l("dashboard"),ae("Logged out successfully","info")},children:"Logout"})]})]})}),(0,Ce.jsxs)("div",{className:"admin-content",children:[(0,Ce.jsx)("div",{className:"admin-sidebar",children:(0,Ce.jsxs)("nav",{className:"admin-nav",children:[(0,Ce.jsx)("button",{className:"nav-item ".concat("dashboard"===o?"active":""),onClick:()=>l("dashboard"),children:"\ud83d\udcca Dashboard"}),(0,Ce.jsx)("button",{className:"nav-item ".concat("bookings"===o?"active":""),onClick:()=>l("bookings"),children:"\ud83d\udcc5 Bookings"}),(0,Ce.jsx)("button",{className:"nav-item ".concat("services"===o?"active":""),onClick:()=>l("services"),children:"\ud83c\udfaf Services"}),(0,Ce.jsx)("button",{className:"nav-item ".concat("testimonials"===o?"active":""),onClick:()=>l("testimonials"),children:"\ud83d\udcac Testimonials"}),(0,Ce.jsx)("button",{className:"nav-item ".concat("gallery"===o?"active":""),onClick:()=>l("gallery"),children:"\ud83d\uddbc\ufe0f Gallery"}),(0,Ce.jsxs)("button",{className:"nav-item ".concat("team"===o?"active":""),onClick:()=>{l("team"),fe()},children:["\ud83d\udc65 Team (",Z.length,")"]}),(0,Ce.jsx)("button",{className:"nav-item ".concat("videos"===o?"active":""),onClick:()=>l("videos"),children:"\ud83c\udfa5 Videos"}),(0,Ce.jsx)("button",{className:"nav-item ".concat("analytics"===o?"active":""),onClick:()=>l("analytics"),children:"\ud83d\udcc8 Analytics"}),(0,Ce.jsx)("button",{className:"nav-item ".concat("contacts"===o?"active":""),onClick:()=>l("contacts"),children:"\ud83d\udce7 Contact Messages"}),(0,Ce.jsx)("button",{className:"nav-item ".concat("email-captures"===o?"active":""),onClick:()=>l("email-captures"),children:"\ud83d\udcec Email Captures"}),(0,Ce.jsx)("button",{className:"nav-item ".concat("settings"===o?"active":""),onClick:()=>{l("settings"),setTimeout(ve,100)},children:"\u2699\ufe0f Settings"})]})}),(0,Ce.jsxs)("div",{className:"admin-main",children:["dashboard"===o&&(0,Ce.jsxs)("div",{className:"dashboard-overview",children:[(0,Ce.jsxs)("div",{className:"dashboard-header",children:[(0,Ce.jsx)("h2",{children:"Dashboard Overview"}),(0,Ce.jsx)("div",{className:"dashboard-controls",children:(0,Ce.jsx)("button",{className:"refresh-btn",onClick:()=>ae("Data refreshed","success"),children:"\ud83d\udd04 Refresh"})})]}),(0,Ce.jsxs)("div",{className:"stats-grid",children:[(0,Ce.jsxs)("div",{className:"stat-card primary",children:[(0,Ce.jsx)("div",{className:"stat-icon",children:"\ud83d\udcc5"}),(0,Ce.jsxs)("div",{className:"stat-content",children:[(0,Ce.jsx)("h3",{children:"Total Bookings"}),(0,Ce.jsx)("div",{className:"dashboard-number-display",style:{fontSize:"3rem !important",fontWeight:"bold !important",color:"#000000 !important",backgroundColor:"#ffffff !important",padding:"15px !important",border:"3px solid #000000 !important",margin:"15px 0 !important",textShadow:"none !important",fontFamily:"Arial, sans-serif !important",display:"block !important",visibility:"visible !important",opacity:"1 !important",transform:"none !important",filter:"none !important",boxShadow:"none !important",outline:"none !important",borderRadius:"0px !important"},children:F.totalBookings}),(0,Ce.jsxs)("p",{className:"stat-change positive",children:["+",F.monthlyGrowth,"% this month"]})]})]}),(0,Ce.jsxs)("div",{className:"stat-card success",children:[(0,Ce.jsx)("div",{className:"stat-icon",children:"\ud83d\udcb0"}),(0,Ce.jsxs)("div",{className:"stat-content",children:[(0,Ce.jsx)("h3",{children:"Revenue"}),(0,Ce.jsxs)("div",{className:"dashboard-number-display",style:{fontSize:"3rem !important",fontWeight:"bold !important",color:"#000000 !important",backgroundColor:"#ffffff !important",padding:"15px !important",border:"3px solid #000000 !important",margin:"15px 0 !important",textShadow:"none !important",fontFamily:"Arial, sans-serif !important",display:"block !important",visibility:"visible !important",opacity:"1 !important",transform:"none !important",filter:"none !important",boxShadow:"none !important",outline:"none !important",borderRadius:"0px !important"},children:["$",F.revenue.toLocaleString()]}),(0,Ce.jsx)("p",{className:"stat-change positive",children:"+12% from last month"})]})]}),(0,Ce.jsxs)("div",{className:"stat-card warning",children:[(0,Ce.jsx)("div",{className:"stat-icon",children:"\u2b50"}),(0,Ce.jsxs)("div",{className:"stat-content",children:[(0,Ce.jsx)("h3",{children:"Avg Rating"}),(0,Ce.jsx)("div",{className:"dashboard-number-display",style:{fontSize:"3rem !important",fontWeight:"bold !important",color:"#000000 !important",backgroundColor:"#ffffff !important",padding:"15px !important",border:"3px solid #000000 !important",margin:"15px 0 !important",textShadow:"none !important",fontFamily:"Arial, sans-serif !important",display:"block !important",visibility:"visible !important",opacity:"1 !important",transform:"none !important",filter:"none !important",boxShadow:"none !important",outline:"none !important",borderRadius:"0px !important"},children:F.avgRating}),(0,Ce.jsx)("p",{className:"stat-change positive",children:"+0.2 from last month"})]})]}),(0,Ce.jsxs)("div",{className:"stat-card info",children:[(0,Ce.jsx)("div",{className:"stat-icon",children:"\ud83d\udcca"}),(0,Ce.jsxs)("div",{className:"stat-content",children:[(0,Ce.jsx)("h3",{children:"Conversion Rate"}),(0,Ce.jsxs)("div",{className:"dashboard-number-display",style:{fontSize:"3rem !important",fontWeight:"bold !important",color:"#000000 !important",backgroundColor:"#ffffff !important",padding:"15px !important",border:"3px solid #000000 !important",margin:"15px 0 !important",textShadow:"none !important",fontFamily:"Arial, sans-serif !important",display:"block !important",visibility:"visible !important",opacity:"1 !important",transform:"none !important",filter:"none !important",boxShadow:"none !important",outline:"none !important",borderRadius:"0px !important"},children:[F.conversionRate,"%"]}),(0,Ce.jsx)("p",{className:"stat-change positive",children:"+5% from last month"})]})]})]}),(0,Ce.jsxs)("div",{className:"dashboard-grid",children:[(0,Ce.jsxs)("div",{className:"dashboard-card",children:[(0,Ce.jsx)("h3",{children:"Recent Bookings"}),(0,Ce.jsx)("div",{className:"recent-list",children:W.slice(0,5).map(e=>(0,Ce.jsxs)("div",{className:"recent-item",children:[(0,Ce.jsxs)("div",{className:"recent-info",children:[(0,Ce.jsx)("strong",{children:e.name}),(0,Ce.jsx)("span",{children:e.service})]}),(0,Ce.jsx)("div",{className:"status-badge ".concat(e.status),children:e.status})]},e.id))})]}),(0,Ce.jsxs)("div",{className:"dashboard-card",children:[(0,Ce.jsx)("h3",{children:"Quick Actions"}),(0,Ce.jsxs)("div",{className:"quick-actions",children:[(0,Ce.jsx)("button",{className:"quick-action-btn",onClick:()=>re("booking"),children:"\ud83d\udcc5 New Booking"}),(0,Ce.jsx)("button",{className:"quick-action-btn",onClick:()=>re("service"),children:"\ud83c\udfaf Add Service"}),(0,Ce.jsx)("button",{className:"quick-action-btn",onClick:()=>re("testimonial"),children:"\ud83d\udcac Add Testimonial"}),(0,Ce.jsx)("button",{className:"quick-action-btn",onClick:()=>re("gallery"),children:"\ud83d\uddbc\ufe0f Upload Image"})]})]})]})]}),"bookings"===o&&(0,Ce.jsxs)("div",{className:"bookings-management",children:[(0,Ce.jsxs)("div",{className:"section-header",children:[(0,Ce.jsxs)("h2",{children:["Bookings Management (",W.length," bookings)"]}),(0,Ce.jsxs)("div",{className:"section-controls",children:[(0,Ce.jsx)("button",{className:"refresh-btn",onClick:de,children:"\ud83d\udd04 Refresh"}),(0,Ce.jsxs)("select",{value:f,onChange:e=>g(e.target.value),children:[(0,Ce.jsx)("option",{value:"all",children:"All Status"}),(0,Ce.jsx)("option",{value:"confirmed",children:"Confirmed"}),(0,Ce.jsx)("option",{value:"pending",children:"Pending"}),(0,Ce.jsx)("option",{value:"cancelled",children:"Cancelled"})]}),(0,Ce.jsx)("button",{className:"add-btn",onClick:()=>re("booking"),children:"+ New Booking"})]})]}),b.length>0&&(0,Ce.jsxs)("div",{className:"bulk-actions",children:[(0,Ce.jsxs)("span",{children:[b.length," items selected"]}),(0,Ce.jsx)("button",{onClick:()=>le("Confirm"),children:"Confirm"}),(0,Ce.jsx)("button",{onClick:()=>le("Cancel"),children:"Cancel"}),(0,Ce.jsx)("button",{onClick:()=>le("Export"),children:"Export"})]}),(0,Ce.jsx)("div",{className:"bookings-table",children:j?(0,Ce.jsx)("div",{className:"loading-state",children:(0,Ce.jsx)("p",{children:"\ud83d\udd04 Loading bookings..."})}):(0,Ce.jsxs)("table",{children:[(0,Ce.jsx)("thead",{children:(0,Ce.jsxs)("tr",{children:[(0,Ce.jsx)("th",{children:(0,Ce.jsx)("input",{type:"checkbox",id:"select-all-bookings",name:"selectAllBookings",autoComplete:"off",onChange:e=>{e.target.checked?x(W.map(e=>e.id)):x([])}})}),(0,Ce.jsx)("th",{children:"Name"}),(0,Ce.jsx)("th",{children:"Service"}),(0,Ce.jsx)("th",{children:"Date"}),(0,Ce.jsx)("th",{children:"Status"}),(0,Ce.jsx)("th",{children:"Amount"}),(0,Ce.jsx)("th",{children:"Actions"})]})}),(0,Ce.jsx)("tbody",{children:xe.map(e=>(0,Ce.jsxs)("tr",{children:[(0,Ce.jsx)("td",{children:(0,Ce.jsx)("input",{type:"checkbox",id:"booking-checkbox-".concat(e.id),name:"bookingCheckbox".concat(e.id),autoComplete:"off",checked:b.includes(e.id),onChange:()=>{return t=e.id,void x(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t}})}),(0,Ce.jsx)("td",{children:(0,Ce.jsxs)("div",{className:"booking-name",children:[(0,Ce.jsx)("strong",{children:e.name}),(0,Ce.jsx)("small",{children:e.email})]})}),(0,Ce.jsx)("td",{children:se(e.service)}),(0,Ce.jsx)("td",{children:e.date}),(0,Ce.jsx)("td",{children:(0,Ce.jsx)("span",{className:"status-badge ".concat(e.status),children:e.status})}),(0,Ce.jsx)("td",{children:0===e.amount?(0,Ce.jsx)("span",{className:"free-badge",children:"FREE"}):"$".concat(e.amount)}),(0,Ce.jsxs)("td",{children:[(0,Ce.jsx)("button",{className:"edit-btn",onClick:()=>re("booking",e),children:"Edit"}),(0,Ce.jsx)("button",{className:"delete-btn",onClick:()=>(async e=>{try{console.log("Deleting booking:",e);const t=await ot.delete("/bookings/".concat(e));console.log("Delete response:",t),B(t=>t.filter(t=>t.id!==e)),ae("Booking deleted successfully!","success"),O(e=>Fe(Fe({},e),{},{totalBookings:e.totalBookings-1}))}catch(Oy){console.error("Error deleting booking:",Oy),ae("Failed to delete booking: "+Oy.message,"error")}})(e.id),children:"Delete"})]})]},e.id))})]})})]}),"services"===o&&(0,Ce.jsxs)("div",{className:"services-management",children:[(0,Ce.jsxs)("div",{className:"section-header",children:[(0,Ce.jsx)("h2",{children:"Services Management"}),(0,Ce.jsxs)("div",{className:"section-controls",children:[(0,Ce.jsx)("button",{className:"view-toggle",onClick:()=>y("grid"===v?"list":"grid"),children:"grid"===v?"\ud83d\udccb List":"\ud83d\udd32 Grid"}),(0,Ce.jsx)("button",{className:"add-btn",onClick:()=>re("service"),children:"+ New Service"})]})]}),(0,Ce.jsx)("div",{className:"services-".concat(v),children:C?(0,Ce.jsx)("div",{className:"loading-indicator",children:"Loading services..."}):0===U.length?(0,Ce.jsx)("div",{className:"no-data",children:"No services found"}):U.map(e=>(0,Ce.jsxs)("div",{className:"service-item",children:[(0,Ce.jsxs)("div",{className:"service-header",children:[(0,Ce.jsx)("h3",{children:e.name}),(0,Ce.jsx)("span",{className:"status-badge ".concat(e.isActive?"active":"inactive"),children:e.isActive?"Active":"Inactive"})]}),(0,Ce.jsx)("p",{children:e.description}),(0,Ce.jsxs)("div",{className:"service-details",children:[(0,Ce.jsxs)("span",{children:["\ud83d\udcb0 $",e.price]}),(0,Ce.jsxs)("span",{children:["\ud83c\udff7\ufe0f ",e.category]}),(0,Ce.jsxs)("span",{children:["\ud83d\udcc5 ",e.createdAt?new Date(e.createdAt).toLocaleDateString():"N/A"]})]}),(0,Ce.jsxs)("div",{className:"service-actions",children:[(0,Ce.jsx)("button",{className:"edit-btn",onClick:()=>re("service",e),children:"Edit"}),(0,Ce.jsx)("button",{className:"delete-btn",onClick:()=>(async e=>{try{const t=await ot.delete("/admin/services/".concat(e));t.success?(z(t=>t.filter(t=>t.id!==e)),ae("Service deleted successfully!","success")):ae("Failed to delete service: "+t.message,"error")}catch(Oy){console.error("Error deleting service:",Oy),ae("Failed to delete service: "+Oy.message,"error")}})(e.id),children:"Delete"})]})]},e.id))})]}),"testimonials"===o&&(0,Ce.jsxs)("div",{className:"testimonials-management",children:[(0,Ce.jsxs)("div",{className:"section-header",children:[(0,Ce.jsx)("h2",{children:"Testimonials Management"}),(0,Ce.jsx)("button",{className:"add-btn",onClick:()=>re("testimonial"),children:"+ New Testimonial"})]}),(0,Ce.jsx)("div",{className:"testimonials-list",children:T?(0,Ce.jsx)("div",{className:"loading-indicator",children:"Loading testimonials..."}):0===H.length?(0,Ce.jsx)("div",{className:"no-data",children:"No testimonials found"}):H.map(e=>(0,Ce.jsxs)("div",{className:"testimonial-item",children:[(0,Ce.jsxs)("div",{className:"testimonial-content",children:[(0,Ce.jsxs)("div",{className:"testimonial-header",children:[(0,Ce.jsx)("h4",{children:e.name}),(0,Ce.jsx)("div",{className:"testimonial-rating",children:"\u2b50".repeat(e.rating)})]}),(0,Ce.jsxs)("p",{children:['"',e.text,'"']}),(0,Ce.jsxs)("div",{className:"testimonial-meta",children:[(0,Ce.jsxs)("span",{children:["Service: ",e.service]}),(0,Ce.jsxs)("span",{children:["Date: ",e.date]}),(0,Ce.jsx)("span",{className:"status-badge ".concat(e.isApproved?"approved":"pending"),children:e.isApproved?"Approved":"Pending"})]})]}),(0,Ce.jsxs)("div",{className:"testimonial-actions",children:[(0,Ce.jsx)("button",{className:"edit-btn",onClick:()=>re("testimonial",e),children:"Edit"}),(0,Ce.jsx)("button",{className:"approve-btn",onClick:()=>(async e=>{try{const t=await ot.patch("/testimonials/".concat(e,"/toggle-approval"));t.success?(G(t=>t.map(t=>t.id===e?Fe(Fe({},t),{},{isApproved:!t.isApproved}):t)),ae("Testimonial approval status updated!","success")):ae("Failed to update testimonial approval: "+t.message,"error")}catch(Oy){console.error("Error toggling testimonial approval:",Oy),ae("Failed to update testimonial approval: "+Oy.message,"error")}})(e.id),children:e.isApproved?"Unapprove":"Approve"}),(0,Ce.jsx)("button",{className:"delete-btn",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this testimonial?"))try{const t=await ot.delete("/testimonials/".concat(e));t.success?(G(t=>t.filter(t=>t.id!==e)),O(e=>Fe(Fe({},e),{},{testimonials:e.testimonials-1})),ae("Testimonial deleted successfully!","success")):ae("Failed to delete testimonial: "+t.message,"error")}catch(Oy){console.error("Error deleting testimonial:",Oy),ae("Failed to delete testimonial: "+Oy.message,"error")}})(e.id),children:"Delete"})]})]},e.id))})]}),"gallery"===o&&(0,Ce.jsxs)("div",{className:"gallery-management",children:[(0,Ce.jsxs)("div",{className:"section-header",children:[(0,Ce.jsx)("h2",{children:"Gallery Management"}),(0,Ce.jsxs)("div",{className:"section-controls",children:[(0,Ce.jsx)("button",{className:"view-toggle",onClick:()=>y("grid"===v?"list":"grid"),children:"grid"===v?"\ud83d\udccb List":"\ud83d\udd32 Grid"}),(0,Ce.jsx)("button",{className:"add-btn",onClick:()=>re("gallery"),children:"+ Upload Image"})]})]}),(0,Ce.jsx)("div",{className:"gallery-".concat(v),children:Y.map(e=>(0,Ce.jsxs)("div",{className:"gallery-item",children:[(0,Ce.jsxs)("div",{className:"gallery-image",children:[(0,Ce.jsx)("img",{src:e.url?"http://localhost:8081".concat(e.url):e.imageUrl||"/images/placeholder-gallery.jpg",alt:e.title||"Gallery item",onError:t=>{console.error("Image failed to load:",e.url,"for item:",e.title),t.target.src="/images/placeholder-gallery.jpg"},onLoad:()=>{console.log("Image loaded successfully:",e.url,"for item:",e.title)}}),e.isFeatured&&(0,Ce.jsx)("span",{className:"featured-badge",children:"Featured"})]}),(0,Ce.jsxs)("div",{className:"gallery-info",children:[(0,Ce.jsx)("h4",{children:e.title||"Untitled"}),(0,Ce.jsx)("span",{className:"category-badge",children:e.category||"Uncategorized"})]}),(0,Ce.jsxs)("div",{className:"gallery-actions",children:[(0,Ce.jsx)("button",{className:"edit-btn",onClick:()=>re("gallery",e),children:"Edit"}),(0,Ce.jsx)("button",{className:"feature-btn",onClick:()=>ae("Featured status updated","success"),children:e.isFeatured?"Unfeature":"Feature"}),(0,Ce.jsx)("button",{className:"delete-btn",onClick:()=>(async e=>{try{const t=await ot.delete("/gallery/".concat(e));t.success?(K(t=>t.filter(t=>t.id!==e)),ae("Gallery item deleted successfully!","success")):ae("Failed to delete gallery item: "+t.message,"error")}catch(Oy){console.error("Error deleting gallery item:",Oy),ae("Failed to delete gallery item: "+Oy.message,"error")}})(e.id),children:"Delete"})]})]},e.id))})]}),"team"===o&&(0,Ce.jsxs)("div",{className:"team-management",children:[(0,Ce.jsxs)("div",{className:"section-header",children:[(0,Ce.jsxs)("h2",{children:["Team Management (",Z.length," members)"]}),(0,Ce.jsxs)("div",{className:"section-controls",children:[(0,Ce.jsx)("button",{className:"view-toggle",onClick:()=>y("grid"===v?"list":"grid"),children:"grid"===v?"\ud83d\udccb List":"\ud83d\udd32 Grid"}),(0,Ce.jsx)("button",{className:"add-btn",onClick:()=>re("team"),children:"+ Add Team Member"})]})]}),I?(0,Ce.jsxs)("div",{className:"loading-state",children:[(0,Ce.jsx)("div",{className:"loading-spinner"}),(0,Ce.jsx)("p",{children:"Loading team members..."})]}):(0,Ce.jsx)("div",{className:"team-".concat(v),children:0===Z.length?(0,Ce.jsxs)("div",{className:"empty-state",children:[(0,Ce.jsx)("div",{className:"empty-icon",children:"\ud83d\udc65"}),(0,Ce.jsx)("h3",{children:"No team members added yet"}),(0,Ce.jsx)("p",{children:"Add your first team member to get started!"}),(0,Ce.jsx)("button",{className:"add-btn",onClick:()=>re("team"),children:"Add Team Member"})]}):Z.map(e=>(0,Ce.jsxs)("div",{className:"team-member-item",children:[(0,Ce.jsxs)("div",{className:"member-image",children:[(0,Ce.jsx)("img",{src:e.imageUrl?"http://localhost:8081".concat(e.imageUrl):"/images/placeholder-team.jpg",alt:e.name,onError:e=>{e.target.src="/images/placeholder-team.jpg"}}),e.isFeatured&&(0,Ce.jsx)("div",{className:"featured-badge",children:"\u2b50 Featured"})]}),(0,Ce.jsxs)("div",{className:"member-info",children:[(0,Ce.jsx)("h3",{children:e.name}),(0,Ce.jsx)("p",{className:"member-title",children:e.title}),(0,Ce.jsx)("p",{className:"member-description",children:e.description}),e.credentials&&(0,Ce.jsxs)("div",{className:"member-credentials",children:[(0,Ce.jsx)("strong",{children:"Credentials:"})," ",e.credentials]}),(0,Ce.jsxs)("div",{className:"member-meta",children:[(0,Ce.jsxs)("span",{children:["Display Order: ",e.displayOrder]}),(0,Ce.jsxs)("span",{children:["Created: ",e.createdAt?new Date(e.createdAt).toLocaleDateString():"N/A"]})]})]}),(0,Ce.jsxs)("div",{className:"team-actions",children:[(0,Ce.jsx)("button",{className:"edit-btn",onClick:()=>re("team",e),children:"Edit"}),(0,Ce.jsx)("button",{className:"feature-btn",onClick:()=>ae("Featured status updated","success"),children:e.isFeatured?"Unfeature":"Feature"}),(0,Ce.jsx)("button",{className:"delete-btn",onClick:()=>(async e=>{try{const t=await ot.delete("/admin/team/".concat(e));t.success?(ee(t=>t.filter(t=>t.id!==e)),ae("Team member deleted successfully!","success")):ae("Failed to delete team member: "+t.message,"error")}catch(Oy){console.error("Error deleting team member:",Oy),ae("Failed to delete team member: "+Oy.message,"error")}})(e.id),children:"Delete"})]})]},e.id))})]}),"videos"===o&&(0,Ce.jsxs)("div",{className:"videos-management",children:[(0,Ce.jsxs)("div",{className:"section-header",children:[(0,Ce.jsxs)("h2",{children:["Video Management (",te.length," videos)"]}),(0,Ce.jsxs)("div",{className:"section-controls",children:[(0,Ce.jsx)("button",{className:"view-toggle",onClick:()=>y("grid"===v?"list":"grid"),children:"grid"===v?"\ud83d\udccb List":"\ud83d\udd32 Grid"}),(0,Ce.jsx)("button",{className:"add-btn",onClick:()=>re("video"),children:"+ Upload Video"})]})]}),(0,Ce.jsx)("div",{className:"videos-".concat(v),children:0===te.length?(0,Ce.jsxs)("div",{className:"empty-state",children:[(0,Ce.jsx)("div",{className:"empty-icon",children:"\ud83c\udfa5"}),(0,Ce.jsx)("h3",{children:"No videos uploaded yet"}),(0,Ce.jsx)("p",{children:"Upload your first video to get started!"}),(0,Ce.jsx)("button",{className:"add-btn",onClick:()=>re("video"),children:"Upload Video"})]}):te.map(e=>(0,Ce.jsxs)("div",{className:"video-item",children:[(0,Ce.jsx)("div",{className:"video-preview",children:(0,Ce.jsxs)("video",{controls:!0,width:"100%",height:"200",children:[(0,Ce.jsx)("source",{src:"http://localhost:8081".concat(e.url),type:"video/mp4"}),"Your browser does not support the video tag."]})}),(0,Ce.jsxs)("div",{className:"video-info",children:[(0,Ce.jsx)("h4",{children:e.filename}),(0,Ce.jsxs)("p",{className:"video-size",children:["Size: ",(e.size/1048576).toFixed(2)," MB"]}),(0,Ce.jsxs)("p",{className:"video-date",children:["Uploaded: ",new Date(e.lastModified).toLocaleDateString()]})]}),(0,Ce.jsxs)("div",{className:"video-actions",children:[(0,Ce.jsx)("button",{className:"edit-btn",onClick:()=>re("video",e),children:"Edit"}),(0,Ce.jsx)("button",{className:"delete-btn",onClick:()=>(async e=>{try{console.log("Deleting video:",e);const t=await ot.delete("/videos/".concat(e));console.log("Delete video response:",t),t.success?(ne(t=>t.filter(t=>t.filename!==e)),ae("Video deleted successfully!","success")):ae("Failed to delete video: "+t.message,"error")}catch(Oy){console.error("Error deleting video:",Oy),ae("Failed to delete video: "+Oy.message,"error")}})(e.filename),children:"Delete"})]})]},e.filename))})]}),"analytics"===o&&(0,Ce.jsxs)("div",{className:"analytics-management",children:[(0,Ce.jsx)("h2",{children:"Analytics & Reports"}),(0,Ce.jsxs)("div",{className:"analytics-grid",children:[(0,Ce.jsxs)("div",{className:"analytics-card",children:[(0,Ce.jsx)("h3",{children:"\ud83d\udcca Booking Trends"}),(0,Ce.jsxs)("div",{className:"chart-placeholder",children:[(0,Ce.jsx)("p",{children:"Chart visualization would go here"}),(0,Ce.jsxs)("div",{className:"chart-bars",children:[(0,Ce.jsx)("div",{className:"bar",style:{height:"60%"}}),(0,Ce.jsx)("div",{className:"bar",style:{height:"80%"}}),(0,Ce.jsx)("div",{className:"bar",style:{height:"45%"}}),(0,Ce.jsx)("div",{className:"bar",style:{height:"90%"}}),(0,Ce.jsx)("div",{className:"bar",style:{height:"70%"}})]})]})]}),(0,Ce.jsxs)("div",{className:"analytics-card",children:[(0,Ce.jsx)("h3",{children:"\ud83d\udcb0 Revenue Analysis"}),(0,Ce.jsxs)("div",{className:"revenue-stats",children:[(0,Ce.jsxs)("div",{className:"revenue-item",children:[(0,Ce.jsx)("span",{children:"Total Revenue"}),(0,Ce.jsxs)("strong",{children:["$",F.revenue.toLocaleString()]})]}),(0,Ce.jsxs)("div",{className:"revenue-item",children:[(0,Ce.jsx)("span",{children:"Confirmed Bookings"}),(0,Ce.jsx)("strong",{children:F.recentBookings})]}),(0,Ce.jsxs)("div",{className:"revenue-item",children:[(0,Ce.jsx)("span",{children:"Monthly Growth"}),(0,Ce.jsxs)("strong",{className:F.monthlyGrowth>=0?"positive":"negative",children:[F.monthlyGrowth>=0?"+":"",F.monthlyGrowth,"%"]})]})]})]}),(0,Ce.jsxs)("div",{className:"analytics-card",children:[(0,Ce.jsx)("h3",{children:"\u2b50 Customer Satisfaction"}),(0,Ce.jsx)("div",{className:"satisfaction-stats",children:(0,Ce.jsxs)("div",{className:"rating-breakdown",children:[(0,Ce.jsxs)("div",{className:"rating-item",children:[(0,Ce.jsx)("span",{children:"5\u2b50"}),(0,Ce.jsx)("div",{className:"rating-bar",children:(0,Ce.jsx)("div",{className:"rating-fill",style:{width:"85%"}})}),(0,Ce.jsx)("span",{children:"85%"})]}),(0,Ce.jsxs)("div",{className:"rating-item",children:[(0,Ce.jsx)("span",{children:"4\u2b50"}),(0,Ce.jsx)("div",{className:"rating-bar",children:(0,Ce.jsx)("div",{className:"rating-fill",style:{width:"12%"}})}),(0,Ce.jsx)("span",{children:"12%"})]}),(0,Ce.jsxs)("div",{className:"rating-item",children:[(0,Ce.jsx)("span",{children:"3\u2b50"}),(0,Ce.jsx)("div",{className:"rating-bar",children:(0,Ce.jsx)("div",{className:"rating-fill",style:{width:"3%"}})}),(0,Ce.jsx)("span",{children:"3%"})]})]})})]}),(0,Ce.jsxs)("div",{className:"analytics-card",children:[(0,Ce.jsx)("h3",{children:"\ud83d\udcc8 Popular Services"}),(0,Ce.jsxs)("div",{className:"popular-services",children:[(0,Ce.jsxs)("div",{className:"service-rank",children:[(0,Ce.jsx)("span",{children:"1."}),(0,Ce.jsx)("span",{children:"Kitesurfing Training"}),(0,Ce.jsx)("span",{children:"45 bookings"})]}),(0,Ce.jsxs)("div",{className:"service-rank",children:[(0,Ce.jsx)("span",{children:"2."}),(0,Ce.jsx)("span",{children:"Hydrofoil Training"}),(0,Ce.jsx)("span",{children:"32 bookings"})]}),(0,Ce.jsxs)("div",{className:"service-rank",children:[(0,Ce.jsx)("span",{children:"3."}),(0,Ce.jsx)("span",{children:"Nutrition Coaching"}),(0,Ce.jsx)("span",{children:"28 bookings"})]})]})]})]})]}),"contacts"===o&&(0,Ce.jsxs)("div",{className:"contacts-management",children:[(0,Ce.jsxs)("div",{className:"section-header",children:[(0,Ce.jsxs)("h2",{children:["Contact Messages (",X.length," messages)"]}),(0,Ce.jsxs)("div",{className:"section-controls",children:[(0,Ce.jsx)("button",{className:"refresh-btn",onClick:ue,children:"\ud83d\udd04 Refresh"}),(0,Ce.jsx)("button",{className:"filter-btn ".concat("all"===f?"active":""),onClick:()=>g("all"),children:"Show All"}),(0,Ce.jsxs)("select",{value:f,onChange:e=>g(e.target.value),children:[(0,Ce.jsx)("option",{value:"all",children:"All Messages"}),(0,Ce.jsx)("option",{value:"NEW",children:"New"}),(0,Ce.jsx)("option",{value:"IN_PROGRESS",children:"In Progress"}),(0,Ce.jsx)("option",{value:"RESOLVED",children:"Resolved"})]}),(0,Ce.jsx)("input",{type:"text",placeholder:"Search messages...",value:p,onChange:e=>m(e.target.value),className:"search-input"})]})]}),(0,Ce.jsxs)("div",{className:"stats-grid",children:[(0,Ce.jsxs)("div",{className:"stat-card ".concat("unread"===f?"active":""),onClick:()=>g("unread"),children:[(0,Ce.jsx)("div",{className:"stat-number",children:X.filter(e=>!e.isRead).length}),(0,Ce.jsx)("div",{className:"stat-label",children:"Unread Messages"})]}),(0,Ce.jsxs)("div",{className:"stat-card ".concat("NEW"===f?"active":""),onClick:()=>g("NEW"),children:[(0,Ce.jsx)("div",{className:"stat-number",children:X.filter(e=>"NEW"===e.status).length}),(0,Ce.jsx)("div",{className:"stat-label",children:"New Messages"})]}),(0,Ce.jsxs)("div",{className:"stat-card ".concat("IN_PROGRESS"===f?"active":""),onClick:()=>g("IN_PROGRESS"),children:[(0,Ce.jsx)("div",{className:"stat-number",children:X.filter(e=>"IN_PROGRESS"===e.status).length}),(0,Ce.jsx)("div",{className:"stat-label",children:"In Progress"})]}),(0,Ce.jsxs)("div",{className:"stat-card ".concat("RESOLVED"===f?"active":""),onClick:()=>g("RESOLVED"),children:[(0,Ce.jsx)("div",{className:"stat-number",children:X.filter(e=>"RESOLVED"===e.status).length}),(0,Ce.jsx)("div",{className:"stat-label",children:"Resolved"})]})]}),(0,Ce.jsx)("div",{className:"contacts-table-container",children:0===X.length?(0,Ce.jsx)("div",{className:"empty-state",children:(0,Ce.jsx)("p",{children:"No contact messages found"})}):(0,Ce.jsxs)("table",{className:"contacts-table",children:[(0,Ce.jsx)("thead",{children:(0,Ce.jsxs)("tr",{children:[(0,Ce.jsx)("th",{children:"Status"}),(0,Ce.jsx)("th",{children:"Name"}),(0,Ce.jsx)("th",{children:"Email"}),(0,Ce.jsx)("th",{children:"Subject"}),(0,Ce.jsx)("th",{children:"Message"}),(0,Ce.jsx)("th",{children:"Date"}),(0,Ce.jsx)("th",{children:"Actions"})]})}),(0,Ce.jsx)("tbody",{children:X.filter(e=>"all"===f||("unread"===f?!e.isRead:"NEW"===f?"NEW"===e.status:"IN_PROGRESS"===f?"IN_PROGRESS"===e.status:"RESOLVED"!==f||"RESOLVED"===e.status)).filter(e=>{if(!p)return!0;const t=p.toLowerCase();return(e.fullName||"".concat(e.firstName," ").concat(e.lastName)).toLowerCase().includes(t)||e.email.toLowerCase().includes(t)||(e.subject||"").toLowerCase().includes(t)||(e.message||"").toLowerCase().includes(t)}).map(e=>{var t;return(0,Ce.jsxs)("tr",{className:"contact-row ".concat(e.isRead?"read":"unread"),children:[(0,Ce.jsxs)("td",{children:[(0,Ce.jsx)("span",{className:"status-badge ".concat((null===(t=e.status)||void 0===t?void 0:t.toLowerCase())||"new"),children:e.status||"NEW"}),!e.isRead&&(0,Ce.jsx)("span",{className:"unread-indicator",children:"\u25cf"})]}),(0,Ce.jsx)("td",{className:"contact-name",children:e.fullName||"".concat(e.firstName," ").concat(e.lastName)}),(0,Ce.jsx)("td",{className:"contact-email",children:(0,Ce.jsx)("a",{href:"mailto:".concat(e.email),children:e.email})}),(0,Ce.jsx)("td",{className:"contact-subject",children:e.subject}),(0,Ce.jsx)("td",{className:"contact-message-cell",children:(0,Ce.jsx)("div",{className:"message-preview",children:e.message&&e.message.length>100?"".concat(e.message.substring(0,100),"..."):e.message||"No message"})}),(0,Ce.jsxs)("td",{className:"contact-date",children:[(0,Ce.jsx)("div",{children:new Date(e.createdAt).toLocaleDateString()}),(0,Ce.jsx)("div",{className:"time",children:new Date(e.createdAt).toLocaleTimeString()})]}),(0,Ce.jsxs)("td",{className:"contact-actions",children:[!e.isRead&&(0,Ce.jsx)("button",{className:"action-btn mark-read",onClick:()=>{ot.put("/contacts/".concat(e.id,"/read")),ue()},title:"Mark as Read",children:"\u2713"}),(0,Ce.jsxs)("select",{value:e.status||"NEW",onChange:t=>{ot.put("/contacts/".concat(e.id,"/status"),{status:t.target.value}),ue()},className:"status-select",title:"Change Status",children:[(0,Ce.jsx)("option",{value:"NEW",children:"New"}),(0,Ce.jsx)("option",{value:"IN_PROGRESS",children:"In Progress"}),(0,Ce.jsx)("option",{value:"RESOLVED",children:"Resolved"})]}),(0,Ce.jsx)("button",{className:"action-btn reply",onClick:()=>window.open("mailto:".concat(e.email,"?subject=Re: ").concat(e.subject),"_blank"),title:"Reply",children:"\ud83d\udce7"}),(0,Ce.jsx)("button",{className:"action-btn delete",onClick:()=>{window.confirm("Delete this contact message?")&&(ot.delete("/contacts/".concat(e.id)),ue())},title:"Delete",children:"\ud83d\uddd1\ufe0f"})]})]},e.id)})})]})})]}),"email-captures"===o&&(0,Ce.jsxs)("div",{className:"email-captures-management",children:[(0,Ce.jsxs)("div",{className:"section-header",children:[(0,Ce.jsxs)("h2",{children:["Email Captures (",$.length," emails)"]}),(0,Ce.jsxs)("div",{className:"section-controls",children:[(0,Ce.jsx)("button",{className:"refresh-btn",onClick:he,children:"\ud83d\udd04 Refresh"}),(0,Ce.jsx)("button",{className:"refresh-btn",onClick:()=>{const e=JSON.parse(localStorage.getItem("capturedEmails")||"[]");console.log("Local emails:",e),alert("Found ".concat(e.length," emails in localStorage. Check console for details."))},children:"\ud83d\udcf1 Check Local Emails"}),(0,Ce.jsx)("button",{className:"filter-btn ".concat("all"===f?"active":""),onClick:()=>g("all"),children:"Show All"}),(0,Ce.jsxs)("select",{value:f,onChange:e=>g(e.target.value),children:[(0,Ce.jsx)("option",{value:"all",children:"All Emails"}),(0,Ce.jsx)("option",{value:"resources",children:"Resources"}),(0,Ce.jsx)("option",{value:"newsletter",children:"Newsletter"}),(0,Ce.jsx)("option",{value:"contact",children:"Contact"})]}),(0,Ce.jsx)("input",{type:"text",placeholder:"Search emails...",value:p,onChange:e=>m(e.target.value),className:"search-input"})]})]}),(0,Ce.jsxs)("div",{className:"stats-grid",children:[(0,Ce.jsxs)("div",{className:"stat-card ".concat("verified"===f?"active":""),onClick:()=>g("verified"),children:[(0,Ce.jsx)("div",{className:"stat-number",children:$.filter(e=>e.isVerified).length}),(0,Ce.jsx)("div",{className:"stat-label",children:"Verified Emails"})]}),(0,Ce.jsxs)("div",{className:"stat-card ".concat("unverified"===f?"active":""),onClick:()=>g("unverified"),children:[(0,Ce.jsx)("div",{className:"stat-number",children:$.filter(e=>!e.isVerified).length}),(0,Ce.jsx)("div",{className:"stat-label",children:"Unverified Emails"})]}),(0,Ce.jsxs)("div",{className:"stat-card ".concat("resources"===f?"active":""),onClick:()=>g("resources"),children:[(0,Ce.jsx)("div",{className:"stat-number",children:$.filter(e=>"resources"===e.source).length}),(0,Ce.jsx)("div",{className:"stat-label",children:"From Resources"})]}),(0,Ce.jsxs)("div",{className:"stat-card ".concat("active"===f?"active":""),onClick:()=>g("active"),children:[(0,Ce.jsx)("div",{className:"stat-number",children:$.filter(e=>!e.unsubscribed).length}),(0,Ce.jsx)("div",{className:"stat-label",children:"Active Subscribers"})]})]}),(0,Ce.jsx)("div",{className:"email-captures-grid",children:0===$.length?(0,Ce.jsx)("div",{className:"empty-state",children:(0,Ce.jsx)("p",{children:"No email captures found"})}):$.filter(e=>"all"===f||("verified"===f?e.isVerified:"unverified"===f?!e.isVerified:"resources"===f?"resources"===e.source:"active"!==f||!e.unsubscribed)).filter(e=>{if(!p)return!0;const t=p.toLowerCase();return e.email.toLowerCase().includes(t)||(e.source||"").toLowerCase().includes(t)||(e.resourceType||"").toLowerCase().includes(t)}).map(e=>(0,Ce.jsxs)("div",{className:"email-capture-card ".concat(e.isVerified?"verified":"unverified"),children:[(0,Ce.jsxs)("div",{className:"email-header",children:[(0,Ce.jsxs)("div",{className:"email-info",children:[(0,Ce.jsx)("h3",{children:e.email}),(0,Ce.jsxs)("p",{className:"email-source",children:["Source: ",e.source]}),e.resourceType&&(0,Ce.jsxs)("p",{className:"email-resource",children:["Resource: ",e.resourceType]})]}),(0,Ce.jsxs)("div",{className:"email-meta",children:[(0,Ce.jsx)("span",{className:"verification-badge ".concat(e.isVerified?"verified":"unverified"),children:e.isVerified?"Verified":"Unverified"}),(0,Ce.jsx)("span",{className:"email-date",children:new Date(e.createdAt).toLocaleDateString()})]})]}),(0,Ce.jsxs)("div",{className:"email-actions",children:[(0,Ce.jsx)("button",{className:"action-btn ".concat(e.isVerified?"unverify":"verify"),onClick:()=>{ot.put("/email-captures/".concat(e.id,"/verify"),{isVerified:!e.isVerified}),he()},children:e.isVerified?"Mark Unverified":"Mark Verified"}),!e.unsubscribed&&(0,Ce.jsx)("button",{className:"action-btn unsubscribe",onClick:()=>{window.confirm("Unsubscribe this email?")&&(ot.put("/email-captures/".concat(e.id,"/unsubscribe")),he())},children:"Unsubscribe"}),(0,Ce.jsx)("button",{className:"action-btn delete",onClick:()=>{window.confirm("Delete this email capture?")&&(ot.delete("/email-captures/".concat(e.id)),he())},children:"Delete"})]})]},e.id))})]}),"settings"===o&&(0,Ce.jsxs)("div",{className:"settings-management",children:[(0,Ce.jsx)("h2",{children:"System Settings"}),(0,Ce.jsxs)("div",{className:"settings-sections",children:[(0,Ce.jsxs)("div",{className:"settings-section",children:[(0,Ce.jsx)("h3",{children:"General Settings"}),(0,Ce.jsxs)("div",{className:"setting-item",children:[(0,Ce.jsx)("label",{htmlFor:"business-name",children:"Business Name"}),(0,Ce.jsx)("input",{type:"text",id:"business-name",name:"businessName",defaultValue:"Movement Performance Training",autoComplete:"organization"})]}),(0,Ce.jsxs)("div",{className:"setting-item",children:[(0,Ce.jsx)("label",{htmlFor:"contact-email",children:"Contact Email"}),(0,Ce.jsx)("input",{type:"email",id:"contact-email",name:"contactEmail",defaultValue:"chloebarrettraining@icloud.com",autoComplete:"email"})]}),(0,Ce.jsxs)("div",{className:"setting-item",children:[(0,Ce.jsx)("label",{htmlFor:"phone-number",children:"Phone Number"}),(0,Ce.jsx)("input",{type:"tel",id:"phone-number",name:"phoneNumber",defaultValue:"04 98 471 509",autoComplete:"tel"})]})]}),(0,Ce.jsxs)("div",{className:"settings-section",children:[(0,Ce.jsx)("h3",{children:"Booking Settings"}),(0,Ce.jsxs)("div",{className:"setting-item",children:[(0,Ce.jsx)("label",{htmlFor:"default-duration",children:"Default Booking Duration"}),(0,Ce.jsxs)("select",{id:"default-duration",name:"defaultDuration",defaultValue:"2",children:[(0,Ce.jsx)("option",{value:"1",children:"1 hour"}),(0,Ce.jsx)("option",{value:"2",children:"2 hours"}),(0,Ce.jsx)("option",{value:"3",children:"3 hours"})]})]}),(0,Ce.jsxs)("div",{className:"setting-item",children:[(0,Ce.jsx)("label",{htmlFor:"auto-confirm",children:"Auto-confirm Bookings"}),(0,Ce.jsx)("input",{type:"checkbox",id:"auto-confirm",name:"autoConfirm",autoComplete:"off",defaultChecked:!0})]})]}),(0,Ce.jsxs)("div",{className:"settings-section",children:[(0,Ce.jsx)("h3",{children:"Notification Settings"}),(0,Ce.jsxs)("div",{className:"setting-item",children:[(0,Ce.jsx)("label",{htmlFor:"email-notifications",children:"Email Notifications"}),(0,Ce.jsx)("input",{type:"checkbox",id:"email-notifications",name:"emailNotifications",autoComplete:"off",defaultChecked:!0})]}),(0,Ce.jsxs)("div",{className:"setting-item",children:[(0,Ce.jsx)("label",{htmlFor:"sms-notifications",children:"SMS Notifications"}),(0,Ce.jsx)("input",{type:"checkbox",id:"sms-notifications",name:"smsNotifications",autoComplete:"off"})]})]})]}),(0,Ce.jsxs)("div",{className:"settings-actions",children:[(0,Ce.jsx)("button",{className:"save-btn",onClick:async()=>{try{var e,t,n,i,s,a,r;const o=null===(e=document.getElementById("business-name"))||void 0===e?void 0:e.value,l=null===(t=document.getElementById("contact-email"))||void 0===t?void 0:t.value,c=null===(n=document.getElementById("phone-number"))||void 0===n?void 0:n.value,d=null===(i=document.getElementById("default-duration"))||void 0===i?void 0:i.value,u=null===(s=document.getElementById("auto-confirm"))||void 0===s?void 0:s.checked,h=null===(a=document.getElementById("email-notifications"))||void 0===a?void 0:a.checked,p={businessName:o||"Movement Performance Training",contactEmail:l||"chloebarrettraining@icloud.com",phoneNumber:c||"04 98 471 509",defaultDuration:d||"2",autoConfirm:u||!1,emailNotifications:h||!1,smsNotifications:(null===(r=document.getElementById("sms-notifications"))||void 0===r?void 0:r.checked)||!1};localStorage.setItem("mpt-admin-settings",JSON.stringify(p)),console.log("Settings saved to localStorage:",p),ae("Settings saved successfully!","success")}catch(Oy){console.error("Error saving settings:",Oy),ae("Failed to save settings: "+Oy.message,"error")}},children:"Save Settings"}),(0,Ce.jsx)("button",{className:"reset-btn",onClick:()=>{const e=document.getElementById("business-name"),t=document.getElementById("contact-email"),n=document.getElementById("phone-number"),i=document.getElementById("default-duration"),s=document.getElementById("auto-confirm"),a=document.getElementById("email-notifications"),r=document.getElementById("sms-notifications");e&&(e.value="Movement Performance Training"),t&&(t.value="chloebarrettraining@icloud.com"),n&&(n.value="04 98 471 509"),i&&(i.value="2"),s&&(s.checked=!0),a&&(a.checked=!0),r&&(r.checked=!1),localStorage.removeItem("mpt-admin-settings"),ae("Settings reset to defaults!","success")},children:"Reset to Defaults"})]})]})]})]}),w&&(0,Ce.jsx)("div",{className:"modal-overlay",onClick:oe,children:(0,Ce.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,Ce.jsxs)("div",{className:"modal-header",children:[(0,Ce.jsxs)("h3",{children:[k.charAt(0).toUpperCase()+k.slice(1)," Form"]}),(0,Ce.jsx)("button",{className:"modal-close",onClick:oe,children:"\xd7"})]}),(0,Ce.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),d(!0);const t=new FormData(e.target),n=Object.fromEntries(t.entries());if("team"===k&&(!n.name||!n.title||!n.description))return ae("Please fill in all required fields (Name, Title, Description)","error"),void d(!1);try{if("booking"===k)if(n.id){await ot.put("/bookings/".concat(n.id),{name:n.name,email:n.email,phone:n.phone,service:n.service,message:n.message,status:n.status});B(e=>e.map(e=>e.id===parseInt(n.id)?Fe(Fe({},e),n):e)),ae("Booking updated successfully!","success")}else{const e={customerName:n.name,customerEmail:n.email,customerPhone:n.phone,packageId:ie(n.service),selectedDate:n.date||(new Date).toISOString().split("T")[0],selectedTime:n.time||"10:00",specialRequests:n.message||""},t=await ot.post("/bookings/create",e);t.success?(de(),ae("Booking created successfully!","success")):ae("Failed to create booking: "+t.message,"error")}else if("service"===k)if(n.id){const e=await ot.put("/admin/services/".concat(n.id),{name:n.name,description:n.description,price:parseFloat(n.price),category:n.category,isActive:"true"===n.isActive||!0===n.isActive});e.success?(z(e=>e.map(e=>e.id===parseInt(n.id)?Fe(Fe({},e),n):e)),ae("Service updated successfully!","success")):ae("Failed to update service: "+e.message,"error")}else{const e=await ot.post("/admin/services",{name:n.name,description:n.description,price:parseFloat(n.price),category:n.category,isActive:"true"===n.isActive||!0===n.isActive});e.success?(pe(),ae("Service created successfully!","success")):ae("Failed to create service: "+e.message,"error")}else if("testimonial"===k)if(n.id){const e=await ot.put("/testimonials/".concat(n.id),{customerName:n.customerName,comment:n.testimonialText,rating:parseInt(n.rating),serviceUsed:n.service,isApproved:"true"===n.isApproved||!0===n.isApproved});e.success?(G(e=>e.map(e=>e.id===parseInt(n.id)?Fe(Fe({},e),n):e)),ae("Testimonial updated successfully!","success")):ae("Failed to update testimonial: "+e.message,"error")}else{const e=await ot.post("/testimonials",{customerName:n.customerName,comment:n.testimonialText,rating:parseInt(n.rating),serviceUsed:n.service,isApproved:"true"===n.isApproved||!0===n.isApproved});e.success?(ce(),ae("Testimonial created successfully!","success")):ae("Failed to create testimonial: "+e.message,"error")}else if("gallery"===k){const e=document.getElementById("gallery-image").files[0];if(n.id){const e=await ot.put("/gallery/".concat(n.id),{title:n.title,category:n.category,url:n.url||"/images/hero/homepage.jpeg",isFeatured:"true"===n.isFeatured||!0===n.isFeatured});e.success?(K(e=>e.map(e=>e.id===parseInt(n.id)?Fe(Fe({},e),n):e)),ae("Gallery item updated successfully!","success")):ae("Failed to update gallery item: "+e.message,"error")}else if(e){const t=new FormData;t.append("file",e),t.append("title",n.title),t.append("category",n.category),t.append("isFeatured","true"===n.isFeatured||!0===n.isFeatured);try{const e=await fetch("http://localhost:8081/api/gallery/upload",{method:"POST",body:t}),n=await e.json();n.success?(me(),ae("Image uploaded successfully!","success")):ae("Failed to upload image: "+n.message,"error")}catch(Oy){console.error("Upload error:",Oy),ae("Failed to upload image: "+Oy.message,"error")}}else{const e=await ot.post("/gallery",{title:n.title,category:n.category,url:"/images/hero/homepage.jpeg",isFeatured:"true"===n.isFeatured||!0===n.isFeatured});e.success?(me(),ae("Gallery item created successfully!","success")):ae("Failed to create gallery item: "+e.message,"error")}}else if("team"===k)if(n.id){const e=await ot.put("/admin/team/".concat(n.id),{name:n.name,title:n.title,description:n.description,imageUrl:n.imageUrl,credentials:n.credentials,isFeatured:"true"===n.isFeatured||!0===n.isFeatured,displayOrder:parseInt(n.displayOrder)||1});e.success?(ee(e=>e.map(e=>e.id===parseInt(n.id)?Fe(Fe({},e),n):e)),ae("Team member updated successfully!","success")):ae("Failed to update team member: "+e.message,"error")}else{const e=await ot.post("/admin/team",{name:n.name,title:n.title,description:n.description,imageUrl:n.imageUrl,credentials:n.credentials,isFeatured:"true"===n.isFeatured||!0===n.isFeatured,displayOrder:parseInt(n.displayOrder)||1});e.success?(fe(),ae("Team member created successfully!","success")):ae("Failed to create team member: "+e.message,"error")}else if("video"===k){const e=document.getElementById("video-file").files[0];if(!e)return void ae("Please select a video file","warning");{const t=document.getElementById("video-title").value||e.name,n=document.getElementById("video-description").value||"";await be(e,t,n)}}else ae("".concat(k," updated successfully!"),"success");oe()}catch(Oy){console.error("Error submitting form:",Oy),ae("Failed to ".concat(t.id?"update":"create"," ").concat(k,": ")+Oy.message,"error")}finally{d(!1)}},children:[(0,Ce.jsxs)("div",{className:"modal-body",children:["booking"===k&&(0,Ce.jsxs)(Ce.Fragment,{children:[E.id&&(0,Ce.jsx)("input",{type:"hidden",name:"id",value:E.id,autoComplete:"off"}),(0,Ce.jsxs)("div",{className:"form-group",children:[(0,Ce.jsx)("label",{htmlFor:"booking-name",children:"Name"}),(0,Ce.jsx)("input",{type:"text",id:"booking-name",name:"name",defaultValue:E.name||"",autoComplete:"name",required:!0})]}),(0,Ce.jsxs)("div",{className:"form-group",children:[(0,Ce.jsx)("label",{htmlFor:"booking-email",children:"Email"}),(0,Ce.jsx)("input",{type:"email",id:"booking-email",name:"email",defaultValue:E.email||"",autoComplete:"email",required:!0})]}),(0,Ce.jsxs)("div",{className:"form-group",children:[(0,Ce.jsx)("label",{htmlFor:"booking-phone",children:"Phone"}),(0,Ce.jsx)("input",{type:"tel",id:"booking-phone",name:"phone",defaultValue:E.phone||"",autoComplete:"tel",required:!0})]}),(0,Ce.jsxs)("div",{className:"form-group",children:[(0,Ce.jsx)("label",{htmlFor:"booking-service",children:"Service"}),(0,Ce.jsxs)("select",{id:"booking-service",name:"service",defaultValue:E.service||"",required:!0,children:[(0,Ce.jsx)("option",{value:"",children:"Select Service"}),(0,Ce.jsx)("option",{value:"Kitesurfing Training",children:"Kitesurfing Training"}),(0,Ce.jsx)("option",{value:"Hydrofoil Training",children:"Hydrofoil Training"}),(0,Ce.jsx)("option",{value:"Nutrition Coaching",children:"Nutrition Coaching"})]})]}),(0,Ce.jsxs)("div",{className:"form-group",children:[(0,Ce.jsx)("label",{htmlFor:"booking-date",children:"Date"}),(0,Ce.jsx)("input",{type:"date",id:"booking-date",name:"date",defaultValue:E.date||"",required:!0})]}),(0,Ce.jsxs)("div",{className:"form-group",children:[(0,Ce.jsx)("label",{htmlFor:"booking-time",children:"Time"}),(0,Ce.jsx)("input",{type:"time",id:"booking-time",name:"time",defaultValue:E.time||"10:00",required:!0})]})]}),"service"===k&&(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsxs)("div",{className:"form-group",children:[(0,Ce.jsx)("label",{htmlFor:"service-name",children:"Service Name"}),(0,Ce.jsx)("input",{type:"text",id:"service-name",name:"name",defaultValue:E.name||"",autoComplete:"off",required:!0})]}),(0,Ce.jsxs)("div",{className:"form-group",children:[(0,Ce.jsx)("label",{htmlFor:"service-description",children:"Description"}),(0,Ce.jsx)("textarea",{id:"service-description",name:"description",defaultValue:E.description||"",required:!0})]}),(0,Ce.jsxs)("div",{className:"form-group",children:[(0,Ce.jsx)("label",{htmlFor:"service-price",children:"Price"}),(0,Ce.jsx)("input",{type:"number",id:"service-price",name:"price",step:"0.01",defaultValue:E.price||"",autoComplete:"off",required:!0})]}),(0,Ce.jsxs)("div",{className:"form-group",children:[(0,Ce.jsx)("label",{htmlFor:"service-category",children:"Category"}),(0,Ce.jsx)("input",{type:"text",id:"service-category",name:"category",defaultValue:E.category||"",autoComplete:"off",required:!0})]}),(0,Ce.jsxs)("div",{className:"form-group",children:[(0,Ce.jsx)("label",{htmlFor:"service-status",children:"Status"}),(0,Ce.jsxs)("select",{id:"service-status",name:"isActive",defaultValue:void 0!==E.isActive?E.isActive:"true",children:[(0,Ce.jsx)("option",{value:"true",children:"Active"}),(0,Ce.jsx)("option",{value:"false",children:"Inactive"})]})]})]}),"testimonial"===k&&(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsxs)("div",{className:"form-group",children:[(0,Ce.jsx)("label",{htmlFor:"testimonial-customer-name",children:"Customer Name"}),(0,Ce.jsx)("input",{type:"text",id:"testimonial-customer-name",name:"customerName",defaultValue:E.name||"",autoComplete:"name",required:!0})]}),(0,Ce.jsxs)("div",{className:"form-group",children:[(0,Ce.jsx)("label",{htmlFor:"testimonial-text",children:"Testimonial"}),(0,Ce.jsx)("textarea",{id:"testimonial-text",name:"testimonialText",defaultValue:E.text||"",required:!0})]}),(0,Ce.jsxs)("div",{className:"form-group",children:[(0,Ce.jsx)("label",{htmlFor:"testimonial-rating",children:"Rating"}),(0,Ce.jsxs)("select",{id:"testimonial-rating",name:"rating",defaultValue:E.rating||"5",children:[(0,Ce.jsx)("option",{value:"5",children:"5 Stars"}),(0,Ce.jsx)("option",{value:"4",children:"4 Stars"}),(0,Ce.jsx)("option",{value:"3",children:"3 Stars"}),(0,Ce.jsx)("option",{value:"2",children:"2 Stars"}),(0,Ce.jsx)("option",{value:"1",children:"1 Star"})]})]})]}),"gallery"===k&&(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsxs)("div",{className:"form-group",children:[(0,Ce.jsx)("label",{htmlFor:"gallery-title",children:"Image Title"}),(0,Ce.jsx)("input",{type:"text",id:"gallery-title",name:"title",defaultValue:E.title||"",required:!0})]}),(0,Ce.jsxs)("div",{className:"form-group",children:[(0,Ce.jsx)("label",{htmlFor:"gallery-category",children:"Category"}),(0,Ce.jsxs)("select",{id:"gallery-category",name:"category",defaultValue:E.category||"",children:[(0,Ce.jsx)("option",{value:"Action",children:"Action"}),(0,Ce.jsx)("option",{value:"Training",children:"Training"}),(0,Ce.jsx)("option",{value:"Scenic",children:"Scenic"}),(0,Ce.jsx)("option",{value:"Equipment",children:"Equipment"})]})]}),(0,Ce.jsxs)("div",{className:"form-group",children:[(0,Ce.jsx)("label",{htmlFor:"gallery-image",children:"Upload Image"}),(0,Ce.jsx)("input",{type:"file",id:"gallery-image",name:"image",accept:"image/*"})]}),(0,Ce.jsx)("div",{className:"form-group",children:(0,Ce.jsxs)("label",{htmlFor:"gallery-featured",children:[(0,Ce.jsx)("input",{type:"checkbox",id:"gallery-featured",name:"isFeatured",autoComplete:"off",defaultChecked:E.isFeatured}),"Featured Image"]})})]}),"team"===k&&(0,Ce.jsxs)(Ce.Fragment,{children:[E.id&&(0,Ce.jsx)("input",{type:"hidden",name:"id",value:E.id,autoComplete:"off"}),(0,Ce.jsxs)("div",{className:"form-group",children:[(0,Ce.jsx)("label",{htmlFor:"team-name",children:"Name *"}),(0,Ce.jsx)("input",{type:"text",id:"team-name",name:"name",defaultValue:E.name||"",autoComplete:"name",required:!0,autoFocus:!E.id,tabIndex:"1",placeholder:"Enter team member name"})]}),(0,Ce.jsxs)("div",{className:"form-group",children:[(0,Ce.jsx)("label",{htmlFor:"team-title",children:"Title *"}),(0,Ce.jsx)("input",{type:"text",id:"team-title",name:"title",defaultValue:E.title||"",autoComplete:"off",required:!0,placeholder:"e.g., Head Trainer, Instructor"})]}),(0,Ce.jsxs)("div",{className:"form-group",children:[(0,Ce.jsx)("label",{htmlFor:"team-description",children:"Description *"}),(0,Ce.jsx)("textarea",{id:"team-description",name:"description",defaultValue:E.description||"",rows:"4",required:!0,placeholder:"Describe the team member's background, experience, and expertise..."})]}),(0,Ce.jsxs)("div",{className:"form-group",children:[(0,Ce.jsx)("label",{htmlFor:"team-credentials",children:"Credentials"}),(0,Ce.jsx)("textarea",{id:"team-credentials",name:"credentials",defaultValue:E.credentials||"",rows:"2",placeholder:"e.g., IKO Level 3 Instructor, First Aid Certified, Hydrofoil Specialist"})]}),(0,Ce.jsxs)("div",{className:"form-group",children:[(0,Ce.jsx)("label",{htmlFor:"team-image-url",children:"Image URL"}),(0,Ce.jsx)("input",{type:"text",id:"team-image-url",name:"imageUrl",defaultValue:E.imageUrl||"",placeholder:"/images/team/member-photo.jpg",autoComplete:"off"}),(0,Ce.jsx)("small",{className:"form-help",children:"Use a relative path starting with /images/team/"})]}),(0,Ce.jsxs)("div",{className:"form-group",children:[(0,Ce.jsx)("label",{htmlFor:"team-display-order",children:"Display Order"}),(0,Ce.jsx)("input",{type:"number",id:"team-display-order",name:"displayOrder",defaultValue:E.displayOrder||1,min:"1",max:"100",autoComplete:"off",placeholder:"1"}),(0,Ce.jsx)("small",{className:"form-help",children:"Lower numbers appear first"})]}),(0,Ce.jsxs)("div",{className:"form-group",children:[(0,Ce.jsxs)("label",{htmlFor:"team-featured",className:"checkbox-label",children:[(0,Ce.jsx)("input",{type:"checkbox",id:"team-featured",name:"isFeatured",autoComplete:"off",defaultChecked:E.isFeatured||!1}),(0,Ce.jsx)("span",{className:"checkbox-text",children:"Featured Team Member"})]}),(0,Ce.jsx)("small",{className:"form-help",children:"Featured members are highlighted on the website"})]})]}),"video"===k&&(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsxs)("div",{className:"form-group",children:[(0,Ce.jsx)("label",{htmlFor:"video-title",children:"Video Title"}),(0,Ce.jsx)("input",{type:"text",id:"video-title",name:"title",placeholder:"Enter video title",defaultValue:E.title||"",autoComplete:"off"})]}),(0,Ce.jsxs)("div",{className:"form-group",children:[(0,Ce.jsx)("label",{htmlFor:"video-description",children:"Description"}),(0,Ce.jsx)("textarea",{id:"video-description",name:"description",placeholder:"Enter video description",defaultValue:E.description||"",rows:"3"})]}),(0,Ce.jsxs)("div",{className:"form-group",children:[(0,Ce.jsx)("label",{htmlFor:"video-file",children:"Upload Video"}),(0,Ce.jsx)("input",{type:"file",id:"video-file",name:"videoFile",accept:"video/*"}),(0,Ce.jsx)("small",{children:"Supported formats: MP4, AVI, MOV, WMV, FLV, WebM (Max 100MB)"})]}),L&&(0,Ce.jsxs)("div",{className:"upload-progress",children:[(0,Ce.jsx)("div",{className:"progress-bar",children:(0,Ce.jsx)("div",{className:"progress-fill"})}),(0,Ce.jsx)("p",{children:"Uploading video..."})]})]})]}),(0,Ce.jsxs)("div",{className:"modal-footer",children:[(0,Ce.jsx)("button",{type:"button",className:"cancel-btn",onClick:oe,children:"Cancel"}),(0,Ce.jsx)("button",{type:"submit",className:"save-btn",disabled:c,children:c?(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)("span",{className:"spinner"}),"video"===k?"Uploading...":"Saving..."]}):"video"===k?"Upload Video":"team"===k?E.id?"Update Team Member":"Add Team Member":"Save"})]})]})]})})]}):(0,Ce.jsx)("div",{className:"admin-login",children:(0,Ce.jsxs)("div",{className:"login-container",children:[(0,Ce.jsxs)("div",{className:"login-header",children:[(0,Ce.jsxs)("div",{className:"admin-logo",children:[(0,Ce.jsx)("div",{className:"admin-logo-icon",children:(0,Ce.jsx)("img",{src:"/images/logos/mpt-logo.jpeg",alt:"MPT Logo",className:"admin-logo-image"})}),(0,Ce.jsx)("h1",{children:"MPT Admin Portal"})]}),(0,Ce.jsx)("p",{children:"Advanced Management Dashboard"})]}),(0,Ce.jsxs)("form",{className:"login-form",onSubmit:ge,children:[(0,Ce.jsxs)("div",{className:"form-group",children:[(0,Ce.jsx)("label",{htmlFor:"username",children:"Username"}),(0,Ce.jsx)("input",{type:"text",id:"username",name:"username",value:i,onChange:e=>s(e.target.value),placeholder:"Enter admin username",autoComplete:"username",required:!0,disabled:c})]}),(0,Ce.jsxs)("div",{className:"form-group",children:[(0,Ce.jsx)("label",{htmlFor:"password",children:"Password"}),(0,Ce.jsx)("input",{type:"password",id:"password",name:"password",value:a,onChange:e=>r(e.target.value),placeholder:"Enter admin password",autoComplete:"current-password",required:!0,disabled:c})]}),(0,Ce.jsx)("button",{type:"submit",className:"login-btn",disabled:c,children:c?"Logging in...":"Login"})]}),(0,Ce.jsxs)("div",{className:"login-info",children:[(0,Ce.jsx)("p",{children:(0,Ce.jsx)("strong",{children:"Demo Credentials:"})}),(0,Ce.jsx)("p",{children:"Username: admin"}),(0,Ce.jsx)("p",{children:"Password: admin"})]})]})})},Ty=[{id:1,title:"Training Session 1",category:"training",imageUrl:"/images/training/WhatsApp Image 2025-07-20 at 8.53.52 PM.jpeg",description:"Early training session"},{id:2,title:"Training Session 2",category:"training",imageUrl:"/images/training/WhatsApp Image 2025-09-01 at 11.21.30 AM.jpeg",description:"High-intensity training session"},{id:3,title:"Training Session 3",category:"training",imageUrl:"/images/training/WhatsApp Image 2025-09-01 at 11.21.31 AM.jpeg",description:"Strength training workout"},{id:4,title:"Training Session 4",category:"training",imageUrl:"/images/training/WhatsApp Image 2025-09-01 at 11.21.33 AM.jpeg",description:"Functional fitness training"},{id:5,title:"Training Session 5",category:"training",imageUrl:"/images/training/WhatsApp Image 2025-09-01 at 11.21.33 AM-2.jpeg",description:"Advanced functional training"},{id:6,title:"Training Session 6",category:"training",imageUrl:"/images/training/WhatsApp Image 2025-09-01 at 11.21.34 AM.jpeg",description:"Core strength workout"},{id:7,title:"Training Session 7",category:"training",imageUrl:"/images/training/WhatsApp Image 2025-09-01 at 11.21.34 AM-2.jpeg",description:"Core strength progression"},{id:8,title:"Training Session 8",category:"training",imageUrl:"/images/training/WhatsApp Image 2025-09-01 at 11.21.35 AM.jpeg",description:"Balance and coordination"},{id:9,title:"Training Session 9",category:"training",imageUrl:"/images/training/WhatsApp Image 2025-09-01 at 11.21.35 AM-2.jpeg",description:"Advanced balance training"},{id:10,title:"Training Session 10",category:"training",imageUrl:"/images/training/WhatsApp Image 2025-09-01 at 11.21.36 AM.jpeg",description:"Endurance training"},{id:11,title:"Training Session 11",category:"training",imageUrl:"/images/training/WhatsApp Image 2025-09-01 at 11.21.37 AM.jpeg",description:"Power and speed training"},{id:12,title:"Training Session 12",category:"training",imageUrl:"/images/training/WhatsApp Image 2025-09-01 at 11.21.38 AM.jpeg",description:"Flexibility and mobility"},{id:13,title:"Training Session 13",category:"training",imageUrl:"/images/training/WhatsApp Image 2025-09-01 at 11.21.39 AM.jpeg",description:"Sport-specific training"},{id:14,title:"Training Session 14",category:"training",imageUrl:"/images/training/WhatsApp Image 2025-09-01 at 11.21.40 AM.jpeg",description:"Recovery and rehabilitation"},{id:15,title:"Training Session 15",category:"training",imageUrl:"/images/training/WhatsApp Image 2025-09-01 at 11.21.40 AM-2.jpeg",description:"Recovery techniques"},{id:16,title:"Training Session 16",category:"training",imageUrl:"/images/training/WhatsApp Image 2025-09-01 at 11.21.41 AM.jpeg",description:"Advanced recovery methods"},{id:17,title:"Training Session 17",category:"training",imageUrl:"/images/training/WhatsApp Image 2025-09-01 at 11.21.41 AM-2.jpeg",description:"Recovery progression"},{id:18,title:"Training Session 18",category:"training",imageUrl:"/images/training/WhatsApp Image 2025-09-01 at 11.21.43 AM.jpeg",description:"Specialized training"},{id:19,title:"Training Session 19",category:"training",imageUrl:"/images/training/WhatsApp Image 2025-09-01 at 11.21.46 AM.jpeg",description:"Performance training"},{id:20,title:"Training Session 20",category:"training",imageUrl:"/images/training/WhatsApp Image 2025-09-01 at 11.21.47 AM.jpeg",description:"Elite performance training"},{id:21,title:"Training Session 21",category:"training",imageUrl:"/images/training/WhatsApp Image 2025-09-01 at 11.23.32 AM.jpeg",description:"Morning training session"},{id:22,title:"Training Session 22",category:"training",imageUrl:"/images/training/WhatsApp Image 2025-09-01 at 11.23.32 AM-2.jpeg",description:"Morning training continuation"},{id:23,title:"Training Session 23",category:"training",imageUrl:"/images/training/WhatsApp Image 2025-09-01 at 11.23.34 AM.jpeg",description:"Intensive morning workout"},{id:24,title:"Training Session 24",category:"training",imageUrl:"/images/training/WhatsApp Image 2025-09-01 at 11.23.37 AM.jpeg",description:"Advanced morning training"},{id:25,title:"Training Session 25",category:"training",imageUrl:"/images/training/WhatsApp Image 2025-09-01 at 11.23.40 AM.jpeg",description:"Peak performance training"},{id:26,title:"Training Session 26",category:"training",imageUrl:"/images/training/WhatsApp Image 2025-09-01 at 11.23.42 AM.jpeg",description:"Elite athlete training"},{id:27,title:"Training Session 27",category:"training",imageUrl:"/images/training/WhatsApp Image 2025-09-01 at 11.23.45 AM.jpeg",description:"Professional training session"},{id:28,title:"Training Session 28",category:"training",imageUrl:"/images/training/WhatsApp Image 2025-09-01 at 11.23.48 AM.jpeg",description:"Expert-level training"},{id:29,title:"Training Session 29",category:"training",imageUrl:"/images/training/WhatsApp Image 2025-09-01 at 11.26.48 AM.jpeg",description:"Final training session"},{id:30,title:"Training Session 30",category:"training",imageUrl:"/images/training/WhatsApp Image 2025-09-01 at 11.26.50 AM.jpeg",description:"Training completion"},{id:31,title:"Training Session 31",category:"training",imageUrl:"/images/training/WhatsApp Image 2025-09-01 at 11.26.54 AM.jpeg",description:"Post-training analysis"},{id:32,title:"Training Session 32",category:"training",imageUrl:"/images/training/WhatsApp Image 2025-09-01 at 11.26.58 AM.jpeg",description:"Training documentation"},{id:33,title:"Training Session 33",category:"training",imageUrl:"/images/training/WhatsApp Image 2025-09-01 at 11.26.59 AM.jpeg",description:"Training summary"},{id:34,title:"Team Member",category:"team",imageUrl:"/images/team/chloe-headshot.jpg",description:"Chloe Barrett - Head Instructor"},{id:35,title:"MPT Logo",category:"logos",imageUrl:"/images/logos/mpt-logo.jpeg",description:"Movement Performance Training Logo"}],Py=["training","team","logos"],Iy={async getAllItems(){try{console.log("Fetching gallery data from backend...");Date.now();const e="/gallery";console.log("API URL:",e);const t=await ot.get(e);return console.log("Gallery API response:",t),console.log("Gallery API response length:",null===t||void 0===t?void 0:t.length),console.log("Gallery API response type:",typeof t),Array.isArray(t)?(console.log("Successfully loaded ".concat(t.length," gallery items from backend")),{success:!0,data:t}):(console.log("Unexpected response format:",t),{success:!0,data:t})}catch(Oy){return console.error("Gallery API error:",Oy),console.log("Using fallback gallery data due to API error:",Oy.message),console.log("Error details:",Oy),{success:!0,data:Ty}}},async getItemsByCategory(e){try{return await ot.get("/gallery/category/".concat(e))}catch(Oy){console.log("Using fallback gallery data by category due to API error:",Oy.message);return{success:!0,data:Ty.filter(t=>t.category===e)}}},async getItemById(e){try{return await ot.get("/gallery/".concat(e))}catch(Oy){console.log("Using fallback gallery item due to API error:",Oy.message);const n=Ty.find(t=>t.id===parseInt(e));return n?{success:!0,data:n}:{success:!1,error:"Item not found"}}},async createItem(e){try{return await ot.post("/gallery",e)}catch(Oy){return console.log("Gallery item creation failed due to API error:",Oy.message),{success:!1,error:"Item creation failed - using fallback mode"}}},async updateItem(e,t){try{return await ot.put("/gallery/".concat(e),t)}catch(Oy){return console.log("Gallery item update failed due to API error:",Oy.message),{success:!1,error:"Item update failed - using fallback mode"}}},async deleteItem(e){try{return await ot.delete("/gallery/".concat(e))}catch(Oy){return console.log("Gallery item deletion failed due to API error:",Oy.message),{success:!1,error:"Item deletion failed - using fallback mode"}}},async uploadFile(e,t,n){try{return await ot.uploadFile(e,t,n)}catch(Oy){return console.log("File upload failed due to API error:",Oy.message),{success:!1,error:"File upload failed - using fallback mode"}}},async getCategories(){try{return await ot.get("/gallery/categories")}catch(Oy){return console.log("Using fallback gallery categories due to API error:",Oy.message),{success:!0,data:Py}}}},Ry=()=>{var e;const[n,i]=(0,t.useState)("all"),[s,a]=(0,t.useState)(null),[r,o]=(0,t.useState)(0),[l,c]=(0,t.useState)([]),[d,u]=(0,t.useState)(!0),[h,p]=(0,t.useState)(null),[m,f]=(0,t.useState)("grid"),[g,v]=(0,t.useState)("newest"),[y,b]=(0,t.useState)(!1),[x,w]=(0,t.useState)(0),[S,k]=(0,t.useState)({all:0,training:0,team:0,logos:0}),A=(0,t.useRef)(null),E=[{id:"all",name:"All Photos",icon:"\ud83d\udcf8",color:"#6366f1",count:0},{id:"training",name:"Training",icon:"\ud83d\udcaa",color:"#f59e0b",count:0},{id:"team",name:"Team",icon:"\ud83d\udc65",color:"#10b981",count:0},{id:"logos",name:"Logos",icon:"\ud83c\udfa8",color:"#06b6d4",count:0}],_=(e,t)=>{if(e.url){const t={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_STRIPE_PUBLISHABLE_KEY:"pk_test_51S7Rs1234567890abcdefghijklmnopqrstuvwxyz"}.REACT_APP_API_URL||"http://localhost:8081",n=e.url.split("/").map(e=>encodeURIComponent(e)).join("/"),i="".concat(t).concat(n);return console.log("Constructed image URL:",i,"for item:",e.title),i}return e.imageUrl?(console.log("Using imageUrl:",e.imageUrl,"for item:",e.title),e.imageUrl):(console.log("Using placeholder for item:",e.title),"/images/placeholder-gallery.jpg")};(0,t.useEffect)(()=>{(async()=>{try{u(!0),console.log("Fetching fresh gallery data...");const e=await Iy.getAllItems();let t=[];if(e.success&&e.data)t=e.data;else{if(!Array.isArray(e))throw new Error("Invalid response format");t=e}const n=t.map((e,t)=>({id:e.id,src:_(e),alt:e.title||"Gallery image",category:e.category||"training",title:e.title||"Untitled",description:e.description||"A beautiful image from our gallery",uploadDate:e.createdAt||(new Date).toISOString(),tags:e.tags||[],aspectRatio:e.aspectRatio||"16:9",size:e.size||"medium",isFeatured:e.isFeatured||!1,imageUrl:e.url?"".concat({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_STRIPE_PUBLISHABLE_KEY:"pk_test_51S7Rs1234567890abcdefghijklmnopqrstuvwxyz"}.REACT_APP_API_URL||"http://localhost:8081").concat(e.url.split("/").map(e=>encodeURIComponent(e)).join("/")):e.imageUrl,url:e.url}));console.log("Gallery data loaded successfully:",n.length,"items"),console.log("First few items:",n.slice(0,3)),console.log("All gallery URLs:",n.map(e=>e.src)),console.log("Sample image paths:",n.slice(0,3).map(e=>({title:e.title,src:e.src}))),c(n),p(null)}catch(e){console.error("Gallery loading error:",e),console.log("Using fallback gallery data due to error:",e.message);const t=[{id:1,title:"Training Session 1",category:"training",imageUrl:"/images/training/WhatsApp Image 2025-09-01 at 11.21.30 AM.jpeg",description:"High-intensity training session"},{id:2,title:"Training Session 2",category:"training",imageUrl:"/images/training/WhatsApp Image 2025-09-01 at 11.21.31 AM.jpeg",description:"Strength training workout"},{id:3,title:"Training Session 3",category:"training",imageUrl:"/images/training/WhatsApp Image 2025-09-01 at 11.21.33 AM.jpeg",description:"Functional fitness training"},{id:4,title:"Training Session 4",category:"training",imageUrl:"/images/training/WhatsApp Image 2025-09-01 at 11.21.34 AM.jpeg",description:"Core strength workout"},{id:5,title:"Team Member",category:"team",imageUrl:"/images/team/chloe-headshot.jpg",description:"Chloe Barrett - Head Instructor"},{id:6,title:"MPT Logo",category:"logos",imageUrl:"/images/logos/mpt-logo.jpeg",description:"Movement Performance Training Logo"}].map((e,t)=>({id:e.id,src:e.imageUrl,alt:e.title||"Gallery image",category:e.category||"training",title:e.title||"Untitled",description:e.description||"A beautiful image from our gallery",uploadDate:(new Date).toISOString(),tags:[],aspectRatio:"16:9",size:"medium",isFeatured:!1}));console.log("Using hardcoded fallback data:",t.length,"items"),c(t),p(null)}finally{u(!1)}})()},[x]);(0,t.useEffect)(()=>{E.map(e=>Fe(Fe({},e),{},{count:"all"===e.id?l.length:l.filter(t=>t.category===e.id).length}))},[l]),(0,t.useEffect)(()=>{if(l.length>0){const e={all:l.length,training:l.filter(e=>"training"===e.category).length,team:l.filter(e=>"team"===e.category).length,logos:l.filter(e=>"logos"===e.category).length};console.log("\ud83d\udd0d CALCULATING COUNTS:",e),console.log("\ud83d\udd0d Team items:",l.filter(e=>"team"===e.category)),console.log("\ud83d\udd0d Logo items:",l.filter(e=>"logos"===e.category)),k(e)}},[l]);const j=(0,t.useCallback)(()=>{let e;switch(e="all"===n?l.filter(e=>!e.title||!e.title.includes("Chloe")||"team"===e.category):l.filter(e=>{if(e.title&&e.title.includes("Chloe"))return"team"===n&&"team"===e.category;return e.category==={training:"training",team:"team",logos:"logos"}[n]}),g){case"newest":default:e.sort((e,t)=>e.isFeatured&&!t.isFeatured?-1:!e.isFeatured&&t.isFeatured?1:new Date(t.uploadDate)-new Date(e.uploadDate));break;case"oldest":e.sort((e,t)=>e.isFeatured&&!t.isFeatured?-1:!e.isFeatured&&t.isFeatured?1:new Date(e.uploadDate)-new Date(t.uploadDate));break;case"title":e.sort((e,t)=>e.isFeatured&&!t.isFeatured?-1:!e.isFeatured&&t.isFeatured?1:e.title.localeCompare(t.title))}return e},[l,n,g]),N=()=>{a(null),o(0),b(!1)},C=e=>{const t=j(),n=r+e;n>=0&&n<t.length&&(o(n),a(t[n]))},M=()=>{b(!y)};(0,t.useEffect)(()=>{const e=e=>{if(s)switch(e.key){case"Escape":N();break;case"ArrowLeft":C(-1);break;case"ArrowRight":C(1);break;case"f":case"F":M()}};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[s,r]);const T=j(),P=E.map(e=>Fe(Fe({},e),{},{count:S[e.id]||0}));return console.log("\ud83d\udd0d USING STATE COUNTS:",S),console.log("\ud83d\udd0d UPDATED CATEGORIES:",P),(0,Ce.jsxs)("div",{className:"gallery-page",children:[(0,Ce.jsx)("section",{className:"gallery-hero",children:(0,Ce.jsxs)("div",{className:"hero-content",children:[(0,Ce.jsx)("h1",{children:"Professional Gallery"}),(0,Ce.jsx)("p",{children:"Explore our curated collection of professional photos showcasing training sessions, team members, and our brand identity."})]})}),(0,Ce.jsx)("section",{className:"gallery-controls",children:(0,Ce.jsx)("div",{className:"container",children:(0,Ce.jsxs)("div",{className:"controls-grid",children:[(0,Ce.jsx)("div",{className:"view-controls",children:(0,Ce.jsxs)("div",{className:"view-mode-toggle",children:[(0,Ce.jsx)("button",{className:"view-btn ".concat("grid"===m?"active":""),onClick:()=>f("grid"),title:"Grid View",children:"\u229e"}),(0,Ce.jsx)("button",{className:"view-btn ".concat("masonry"===m?"active":""),onClick:()=>f("masonry"),title:"Masonry View",children:"\u22a1"}),(0,Ce.jsx)("button",{className:"view-btn ".concat("list"===m?"active":""),onClick:()=>f("list"),title:"List View",children:"\u2630"})]})}),(0,Ce.jsx)("div",{className:"sort-controls",children:(0,Ce.jsxs)("select",{value:g,onChange:e=>v(e.target.value),className:"sort-select",children:[(0,Ce.jsx)("option",{value:"newest",children:"Newest First"}),(0,Ce.jsx)("option",{value:"oldest",children:"Oldest First"}),(0,Ce.jsx)("option",{value:"title",children:"Alphabetical"})]})})]})})}),(0,Ce.jsx)("section",{className:"gallery-filter",children:(0,Ce.jsx)("div",{className:"container",children:(0,Ce.jsx)("div",{className:"filter-buttons",children:P.map(e=>(0,Ce.jsxs)("button",{className:"filter-btn ".concat(n===e.id?"active":""),onClick:()=>i(e.id),style:{"--category-color":e.color},children:[(0,Ce.jsx)("span",{className:"filter-icon",children:e.icon}),(0,Ce.jsx)("span",{className:"filter-name",children:e.name}),(0,Ce.jsx)("span",{className:"filter-count",children:e.count})]},e.id))})})}),(0,Ce.jsx)("section",{className:"gallery-section",children:(0,Ce.jsxs)("div",{className:"container",children:[d&&(0,Ce.jsxs)("div",{className:"loading-state",children:[(0,Ce.jsx)("div",{className:"loading-spinner"}),(0,Ce.jsx)("p",{children:"Loading professional gallery..."})]}),h&&(0,Ce.jsx)("div",{className:"error-state",children:(0,Ce.jsxs)("p",{children:["\u26a0\ufe0f ",h]})}),!d&&!h&&(0,Ce.jsx)(Ce.Fragment,{children:0===T.length?(0,Ce.jsxs)("div",{className:"empty-state",children:[(0,Ce.jsx)("div",{className:"empty-icon",children:"\ud83d\udcf7"}),(0,Ce.jsx)("h3",{children:"No images found"}),(0,Ce.jsx)("p",{children:"Try adjusting your search criteria or selecting a different category."})]}):(0,Ce.jsx)("div",{className:"gallery-container ".concat(m),children:T.map((e,t)=>{var n,i;return(0,Ce.jsx)("div",{className:"gallery-item ".concat(m),onClick:()=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;a(e),o(t)}(e,t),style:{animationDelay:"".concat(.05*t,"s")},children:(0,Ce.jsxs)("div",{className:"gallery-image",children:[(0,Ce.jsx)("img",{src:e.src,alt:e.alt,loading:"lazy",onError:t=>{console.log("Image failed to load:",e.src,"for item:",e.title),t.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjNmNGY2Ii8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzZjNzI4MCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPkltYWdlIG5vdCBhdmFpbGFibGU8L3RleHQ+PC9zdmc+",t.target.alt="Image not available"},onLoad:()=>{console.log("Image loaded successfully:",e.src,"for item:",e.title)}}),(0,Ce.jsx)("div",{className:"gallery-overlay",children:(0,Ce.jsxs)("div",{className:"gallery-info",children:[(0,Ce.jsx)("h3",{children:e.title}),(0,Ce.jsx)("p",{children:e.description}),(0,Ce.jsxs)("div",{className:"gallery-meta",children:[(0,Ce.jsx)("span",{className:"gallery-date",children:new Date(e.uploadDate).toLocaleDateString()}),(0,Ce.jsx)("span",{className:"gallery-category",children:null===(n=P.find(t=>t.id===e.category))||void 0===n?void 0:n.name})]}),(0,Ce.jsx)("span",{className:"view-btn",children:"list"===m?"View Details":"Click to View"})]})}),(0,Ce.jsx)("div",{className:"gallery-category-badge",children:null===(i=P.find(t=>t.id===e.category))||void 0===i?void 0:i.icon}),e.tags&&e.tags.length>0&&(0,Ce.jsx)("div",{className:"gallery-tags",children:e.tags.slice(0,2).map((e,t)=>(0,Ce.jsxs)("span",{className:"tag",children:["#",e]},t))})]})},e.id)})})})]})}),s&&(0,Ce.jsx)("div",{className:"image-modal ".concat(y?"fullscreen":""),onClick:N,ref:A,children:(0,Ce.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,Ce.jsxs)("div",{className:"modal-header",children:[(0,Ce.jsxs)("div",{className:"modal-title",children:[(0,Ce.jsx)("h3",{children:s.title}),(0,Ce.jsx)("span",{className:"modal-category",children:null===(e=P.find(e=>e.id===s.category))||void 0===e?void 0:e.name})]}),(0,Ce.jsxs)("div",{className:"modal-controls",children:[(0,Ce.jsx)("button",{className:"modal-btn fullscreen-btn",onClick:M,title:"Toggle Fullscreen (F)",children:y?"\u2913":"\u2922"}),(0,Ce.jsx)("button",{className:"modal-btn close-btn",onClick:N,title:"Close (Esc)",children:"\xd7"})]})]}),(0,Ce.jsxs)("div",{className:"modal-image-container",children:[(0,Ce.jsx)("button",{className:"nav-btn prev-btn",onClick:()=>C(-1),disabled:0===r,title:"Previous (\u2190)",children:"\u2039"}),(0,Ce.jsx)("div",{className:"modal-image",children:(0,Ce.jsx)("img",{src:s.src,alt:s.alt})}),(0,Ce.jsx)("button",{className:"nav-btn next-btn",onClick:()=>C(1),disabled:r===T.length-1,title:"Next (\u2192)",children:"\u203a"})]}),(0,Ce.jsxs)("div",{className:"modal-info",children:[(0,Ce.jsx)("p",{children:s.description}),(0,Ce.jsxs)("div",{className:"modal-meta",children:[(0,Ce.jsxs)("span",{className:"modal-date",children:["\ud83d\udcc5 ",new Date(s.uploadDate).toLocaleDateString()]}),(0,Ce.jsxs)("span",{className:"modal-index",children:[r+1," of ",T.length]})]}),s.tags&&s.tags.length>0&&(0,Ce.jsx)("div",{className:"modal-tags",children:s.tags.map((e,t)=>(0,Ce.jsxs)("span",{className:"modal-tag",children:["#",e]},t))})]}),(0,Ce.jsx)("div",{className:"modal-footer",children:(0,Ce.jsxs)("div",{className:"keyboard-hints",children:[(0,Ce.jsx)("span",{children:"\u2190 \u2192 Navigate"}),(0,Ce.jsx)("span",{children:"F Fullscreen"}),(0,Ce.jsx)("span",{children:"Esc Close"})]})})]})})]})};const Ly=function(){return(0,Ce.jsx)(ke,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:(0,Ce.jsxs)("div",{className:"App",children:[(0,Ce.jsx)(Me,{}),(0,Ce.jsxs)(ve,{children:[(0,Ce.jsx)(fe,{path:"/",element:(0,Ce.jsx)(st,{})}),(0,Ce.jsx)(fe,{path:"/services",element:(0,Ce.jsx)(dt,{})}),(0,Ce.jsx)(fe,{path:"/resources",element:(0,Ce.jsx)(Nv,{})}),(0,Ce.jsx)(fe,{path:"/about",element:(0,Ce.jsx)(Cv,{})}),(0,Ce.jsx)(fe,{path:"/contact",element:(0,Ce.jsx)(Mv,{})}),(0,Ce.jsx)(fe,{path:"/privacy",element:(0,Ce.jsx)(Tv,{})}),(0,Ce.jsx)(fe,{path:"/terms",element:(0,Ce.jsx)(Pv,{})}),(0,Ce.jsx)(fe,{path:"/faqs",element:(0,Ce.jsx)(Iv,{})}),(0,Ce.jsx)(fe,{path:"/booking",element:(0,Ce.jsx)(Cy,{})}),(0,Ce.jsx)(fe,{path:"/admin",element:(0,Ce.jsx)(My,{})}),(0,Ce.jsx)(fe,{path:"/gallery",element:(0,Ce.jsx)(Ry,{})})]}),(0,Ce.jsx)(Te,{}),(0,Ce.jsx)(Pe,{})]})})},Dy=e=>{e&&e instanceof Function&&n.e(511).then(n.bind(n,511)).then(t=>{let{getCLS:n,getFID:i,getFCP:s,getLCP:a,getTTFB:r}=t;n(e),i(e),s(e),a(e),r(e)})};s.createRoot(document.getElementById("root")).render((0,Ce.jsx)(t.StrictMode,{children:(0,Ce.jsx)(Ly,{})})),Dy()})()})();
//# sourceMappingURL=main.e2bb2c84.js.map